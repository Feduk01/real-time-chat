var $I=Object.defineProperty;var XI=(n,e,t)=>e in n?$I(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var wg=(n,e,t)=>XI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function WI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bg={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function ZI(){if(OE)return ic;OE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:l}}return ic.Fragment=e,ic.jsx=t,ic.jsxs=t,ic}var xE;function JI(){return xE||(xE=1,bg.exports=ZI()),bg.exports}var ee=JI(),Sg={exports:{}},sc={},Ag={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function eD(){return ME||(ME=1,function(n){function e(ae,he){var de=ae.length;ae.push(he);e:for(;0<de;){var ke=de-1>>>1,z=ae[ke];if(0<s(z,he))ae[ke]=he,ae[de]=z,de=ke;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var he=ae[0],de=ae.pop();if(de!==he){ae[0]=de;e:for(var ke=0,z=ae.length,se=z>>>1;ke<se;){var me=2*(ke+1)-1,ue=ae[me],le=me+1,Te=ae[le];if(0>s(ue,de))le<z&&0>s(Te,ue)?(ae[ke]=Te,ae[le]=de,ke=le):(ae[ke]=ue,ae[me]=de,ke=me);else if(le<z&&0>s(Te,de))ae[ke]=Te,ae[le]=de,ke=le;else break e}}return he}function s(ae,he){var de=ae.sortIndex-he.sortIndex;return de!==0?de:ae.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],_=1,v=null,w=3,b=!1,R=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function V(ae){for(var he=t(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=ae)r(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(p)}}function H(ae){if(S=!1,V(ae),!R)if(t(d)!==null)R=!0,xe();else{var he=t(p);he!==null&&Ie(H,he.startTime-ae)}}var q=!1,X=-1,x=5,C=-1;function A(){return!(n.unstable_now()-C<x)}function M(){if(q){var ae=n.unstable_now();C=ae;var he=!0;try{e:{R=!1,S&&(S=!1,k(X),X=-1),b=!0;var de=w;try{t:{for(V(ae),v=t(d);v!==null&&!(v.expirationTime>ae&&A());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,w=v.priorityLevel;var z=ke(v.expirationTime<=ae);if(ae=n.unstable_now(),typeof z=="function"){v.callback=z,V(ae),he=!0;break t}v===t(d)&&r(d),V(ae)}else r(d);v=t(d)}if(v!==null)he=!0;else{var se=t(p);se!==null&&Ie(H,se.startTime-ae),he=!1}}break e}finally{v=null,w=de,b=!1}he=void 0}}finally{he?U():q=!1}}}var U;if(typeof L=="function")U=function(){L(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,N=B.port2;B.port1.onmessage=M,U=function(){N.postMessage(null)}}else U=function(){D(M,0)};function xe(){q||(q=!0,U())}function Ie(ae,he){X=D(function(){ae(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){R||b||(R=!0,xe())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var de=w;w=he;try{return ae()}finally{w=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,he){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=w;w=ae;try{return he()}finally{w=de}},n.unstable_scheduleCallback=function(ae,he,de){var ke=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,ae){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=de+z,ae={id:_++,callback:he,priorityLevel:ae,startTime:de,expirationTime:z,sortIndex:-1},de>ke?(ae.sortIndex=de,e(p,ae),t(d)===null&&ae===t(p)&&(S?(k(X),X=-1):S=!0,Ie(H,de-ke))):(ae.sortIndex=z,e(d,ae),R||b||(R=!0,xe())),ae},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(ae){var he=w;return function(){var de=w;w=he;try{return ae.apply(this,arguments)}finally{w=de}}}}(Rg)),Rg}var NE;function tD(){return NE||(NE=1,Ag.exports=eD()),Ag.exports}var Cg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function nD(){if(PE)return Ce;PE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,S={};function D(z,se,me){this.props=z,this.context=se,this.refs=S,this.updater=me||b}D.prototype.isReactComponent={},D.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=D.prototype;function L(z,se,me){this.props=z,this.context=se,this.refs=S,this.updater=me||b}var V=L.prototype=new k;V.constructor=L,R(V,D.prototype),V.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function x(z,se,me,ue,le,Te){return me=Te.ref,{$$typeof:n,type:z,key:se,ref:me!==void 0?me:null,props:Te}}function C(z,se){return x(z.type,se,void 0,void 0,void 0,z.props)}function A(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return se[me]})}var U=/\/+/g;function B(z,se){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):se.toString(36)}function N(){}function xe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(N,N):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ie(z,se,me,ue,le){var Te=typeof z;(Te==="undefined"||Te==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(Te){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case n:case e:Re=!0;break;case _:return Re=z._init,Ie(Re(z._payload),se,me,ue,le)}}if(Re)return le=le(z),Re=ue===""?"."+B(z,0):ue,H(le)?(me="",Re!=null&&(me=Re.replace(U,"$&/")+"/"),Ie(le,se,me,"",function(ft){return ft})):le!=null&&(A(le)&&(le=C(le,me+(le.key==null||z&&z.key===le.key?"":(""+le.key).replace(U,"$&/")+"/")+Re)),se.push(le)),1;Re=0;var wt=ue===""?".":ue+":";if(H(z))for(var Fe=0;Fe<z.length;Fe++)ue=z[Fe],Te=wt+B(ue,Fe),Re+=Ie(ue,se,me,Te,le);else if(Fe=w(z),typeof Fe=="function")for(z=Fe.call(z),Fe=0;!(ue=z.next()).done;)ue=ue.value,Te=wt+B(ue,Fe++),Re+=Ie(ue,se,me,Te,le);else if(Te==="object"){if(typeof z.then=="function")return Ie(xe(z),se,me,ue,le);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(z,se,me){if(z==null)return z;var ue=[],le=0;return Ie(z,ue,"","",function(Te){return se.call(me,Te,le++)}),ue}function he(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var de=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ke(){}return Ce.Children={map:ae,forEach:function(z,se,me){ae(z,function(){se.apply(this,arguments)},me)},count:function(z){var se=0;return ae(z,function(){se++}),se},toArray:function(z){return ae(z,function(se){return se})||[]},only:function(z){if(!A(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ce.Component=D,Ce.Fragment=t,Ce.Profiler=s,Ce.PureComponent=L,Ce.StrictMode=r,Ce.Suspense=d,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(z){return function(){return z.apply(null,arguments)}},Ce.cloneElement=function(z,se,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=R({},z.props),le=z.key,Te=void 0;if(se!=null)for(Re in se.ref!==void 0&&(Te=void 0),se.key!==void 0&&(le=""+se.key),se)!X.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(ue[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)ue.children=me;else if(1<Re){for(var wt=Array(Re),Fe=0;Fe<Re;Fe++)wt[Fe]=arguments[Fe+2];ue.children=wt}return x(z.type,le,void 0,void 0,Te,ue)},Ce.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ce.createElement=function(z,se,me){var ue,le={},Te=null;if(se!=null)for(ue in se.key!==void 0&&(Te=""+se.key),se)X.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(le[ue]=se[ue]);var Re=arguments.length-2;if(Re===1)le.children=me;else if(1<Re){for(var wt=Array(Re),Fe=0;Fe<Re;Fe++)wt[Fe]=arguments[Fe+2];le.children=wt}if(z&&z.defaultProps)for(ue in Re=z.defaultProps,Re)le[ue]===void 0&&(le[ue]=Re[ue]);return x(z,Te,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(z){return{$$typeof:h,render:z}},Ce.isValidElement=A,Ce.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:he}},Ce.memo=function(z,se){return{$$typeof:p,type:z,compare:se===void 0?null:se}},Ce.startTransition=function(z){var se=q.T,me={};q.T=me;try{var ue=z(),le=q.S;le!==null&&le(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ke,de)}catch(Te){de(Te)}finally{q.T=se}},Ce.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ce.use=function(z){return q.H.use(z)},Ce.useActionState=function(z,se,me){return q.H.useActionState(z,se,me)},Ce.useCallback=function(z,se){return q.H.useCallback(z,se)},Ce.useContext=function(z){return q.H.useContext(z)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(z,se){return q.H.useDeferredValue(z,se)},Ce.useEffect=function(z,se){return q.H.useEffect(z,se)},Ce.useId=function(){return q.H.useId()},Ce.useImperativeHandle=function(z,se,me){return q.H.useImperativeHandle(z,se,me)},Ce.useInsertionEffect=function(z,se){return q.H.useInsertionEffect(z,se)},Ce.useLayoutEffect=function(z,se){return q.H.useLayoutEffect(z,se)},Ce.useMemo=function(z,se){return q.H.useMemo(z,se)},Ce.useOptimistic=function(z,se){return q.H.useOptimistic(z,se)},Ce.useReducer=function(z,se,me){return q.H.useReducer(z,se,me)},Ce.useRef=function(z){return q.H.useRef(z)},Ce.useState=function(z){return q.H.useState(z)},Ce.useSyncExternalStore=function(z,se,me){return q.H.useSyncExternalStore(z,se,me)},Ce.useTransition=function(){return q.H.useTransition()},Ce.version="19.0.0",Ce}var kE;function Hd(){return kE||(kE=1,Cg.exports=nD()),Cg.exports}var Ig={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function rD(){if(VE)return sn;VE=1;var n=Hd();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,p,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:p,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(d,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,_)},sn.flushSync=function(d){var p=u.T,_=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=_,r.d.f()}},sn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},sn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:b}):_==="script"&&r.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},sn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin);r.d.L(d,_,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(d,p){if(typeof d=="string")if(p){var _=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},sn.requestFormReset=function(d){r.d.r(d)},sn.unstable_batchedUpdates=function(d,p){return d(p)},sn.useFormState=function(d,p,_){return u.H.useFormState(d,p,_)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.0.0",sn}var LE;function iD(){if(LE)return Ig.exports;LE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ig.exports=rD(),Ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function sD(){if(UE)return sc;UE=1;var n=tD(),e=Hd(),t=iD();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case h:return"Portal";case _:return"Profiler";case p:return"StrictMode";case S:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case R:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return a=i.displayName||null,a!==null?a:C(i.type)||"Memo";case L:a=i._payload,i=i._init;try{return C(i(a))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,U,B;function N(i){if(U===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||"",B=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+i+B}var xe=!1;function Ie(i,a){if(!i||xe)return"";xe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var K=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){K=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){K=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],I=g[1];if(E&&I){var P=E.split(`
`),F=I.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===F.length)for(c=P.length-1,m=F.length-1;1<=c&&0<=m&&P[c]!==F[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==F[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==F[m]){var J=`
`+P[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=m);break}}}finally{xe=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?N(o):""}function ae(i){switch(i.tag){case 26:case 27:case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return i=Ie(i.type,!1),i;case 11:return i=Ie(i.type.render,!1),i;case 1:return i=Ie(i.type,!0),i;default:return""}}function he(i){try{var a="";do a+=ae(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function de(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function ke(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function z(i){if(de(i)!==i)throw Error(r(188))}function se(i){var a=i.alternate;if(!a){if(a=de(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,c=a;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return z(m),i;if(g===c)return z(m),a;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var E=!1,I=m.child;I;){if(I===o){E=!0,o=m,c=g;break}if(I===c){E=!0,c=m,o=g;break}I=I.sibling}if(!E){for(I=g.child;I;){if(I===o){E=!0,o=g,c=m;break}if(I===c){E=!0,c=g,o=m;break}I=I.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function me(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=me(i),a!==null)return a;i=i.sibling}return null}var ue=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Re=[],wt=-1;function Fe(i){return{current:i}}function ft(i){0>wt||(i.current=Re[wt],Re[wt]=null,wt--)}function $e(i,a){wt++,Re[wt]=i.current,i.current=a}var mn=Fe(null),ui=Fe(null),Yn=Fe(null),es=Fe(null);function ts(i,a){switch($e(Yn,a),$e(ui,i),$e(mn,null),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?sE(a):0;break;default:if(i=i===8?a.parentNode:a,a=i.tagName,i=i.namespaceURI)i=sE(i),a=aE(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ft(mn),$e(mn,a)}function ci(){ft(mn),ft(ui),ft(Yn)}function Jl(i){i.memoizedState!==null&&$e(es,i);var a=mn.current,o=aE(a,i.type);a!==o&&($e(ui,i),$e(mn,o))}function So(i){ui.current===i&&(ft(mn),ft(ui)),es.current===i&&(ft(es),Ju._currentValue=Te)}var Ao=Object.prototype.hasOwnProperty,ma=n.unstable_scheduleCallback,Ro=n.unstable_cancelCallback,Sm=n.unstable_shouldYield,eu=n.unstable_requestPaint,En=n.unstable_now,dh=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,Ut=n.unstable_UserBlockingPriority,hi=n.unstable_NormalPriority,mh=n.unstable_LowPriority,tu=n.unstable_IdlePriority,Am=n.log,pa=n.unstable_setDisableYieldValue,ns=null,nn=null;function nu(i){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ns,i,void 0,(i.current.flags&128)===128)}catch{}}function Ir(i){if(typeof Am=="function"&&pa(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ns,i)}catch{}}var pn=Math.clz32?Math.clz32:gh,ru=Math.log,ph=Math.LN2;function gh(i){return i>>>=0,i===0?32:31-(ru(i)/ph|0)|0}var Dr=128,rs=4194304;function mr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qn(i,a){var o=i.pendingLanes;if(o===0)return 0;var c=0,m=i.suspendedLanes,g=i.pingedLanes,E=i.warmLanes;i=i.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~m,o!==0?c=mr(o):(g&=I,g!==0?c=mr(g):i||(E=I&~E,E!==0&&(c=mr(E))))):(I=o&~m,I!==0?c=mr(I):g!==0?c=mr(g):i||(E=o&~E,E!==0&&(c=mr(E)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,E=a&-a,m>=E||m===32&&(E&4194176)!==0)?a:c}function is(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Co(i,a){switch(i){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var i=Dr;return Dr<<=1,!(Dr&4194176)&&(Dr=128),i}function ss(){var i=rs;return rs<<=1,!(rs&62914560)&&(rs=4194304),i}function Io(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function yt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _h(i,a,o,c,m,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var I=i.entanglements,P=i.expirationTimes,F=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-pn(o),ie=1<<J;I[J]=0,P[J]=-1;var K=F[J];if(K!==null)for(F[J]=null,J=0;J<K.length;J++){var Z=K[J];Z!==null&&(Z.lane&=-536870913)}o&=~ie}c!==0&&as(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~a))}function as(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-pn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function os(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var c=31-pn(o),m=1<<c;m&a|i[c]&a&&(i[c]|=a),o&=~m}}function yh(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function vh(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:SE(i.type))}function ls(i,a){var o=le.p;try{return le.p=i,a()}finally{le.p=o}}var Or=Math.random().toString(36).slice(2),zt="__reactFiber$"+Or,xt="__reactProps$"+Or,fi="__reactContainer$"+Or,ga="__reactEvents$"+Or,Do="__reactListeners$"+Or,xr="__reactHandles$"+Or,su="__reactResources$"+Or,us="__reactMarker$"+Or;function _a(i){delete i[zt],delete i[xt],delete i[ga],delete i[Do],delete i[xr]}function pr(i){var a=i[zt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[fi]||o[zt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=uE(i);i!==null;){if(o=i[zt])return o;i=uE(i)}return a}i=o,o=i.parentNode}return null}function di(i){if(i=i[zt]||i[fi]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function cs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function hs(i){var a=i[su];return a||(a=i[su]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(i){i[us]=!0}var au=new Set,Oo={};function xn(i,a){wn(i,a),wn(i+"Capture",a)}function wn(i,a){for(Oo[i]=a,i=0;i<a.length;i++)au.add(a[i])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},lu={};function Th(i){return Ao.call(lu,i)?!0:Ao.call(ou,i)?!1:Rm.test(i)?lu[i]=!0:(ou[i]=!0,!1)}function fs(i,a,o){if(Th(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function ds(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Kn(i,a,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+c)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Eh(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Cm(i){var a=Eh(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ya(i){i._valueTracker||(i._valueTracker=Cm(i))}function uu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return i&&(c=Eh(i)?i.checked?"true":"false":i.value),i=c,i!==o?(a.setValue(i),!0):!1}function xo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var mi=/[\n"\\]/g;function dt(i){return i.replace(mi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ms(i,a,o,c,m,g,E,I){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),a!=null?E==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+gn(a)):i.value!==""+gn(a)&&(i.value=""+gn(a)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),a!=null?Mo(i,E,gn(a)):o!=null?Mo(i,E,gn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+gn(I):i.removeAttribute("name")}function va(i,a,o,c,m,g,E,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+gn(o):"",a=a!=null?""+gn(a):o,I||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=I?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Mo(i,a,o){a==="number"&&xo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function He(i,a,o,c){if(i=i.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=a.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+gn(o),a=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Ta(i,a,o){if(a!=null&&(a=""+gn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+gn(o):""}function ps(i,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(r(92));if(ue(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=gn(a),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function $n(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var Im=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(i,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,o):typeof o!="number"||o===0||Im.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function wh(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&o[m]!==c&&cu(i,m,c)}else for(var g in a)a.hasOwnProperty(g)&&cu(i,g,a[g])}function hu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(i){return Om.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Xn=null;function No(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pi=null,gi=null;function _i(i){var a=di(i);if(a&&(i=a.stateNode)){var o=i[xt]||null;e:switch(i=a.stateNode,a.type){case"input":if(ms(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==i&&c.form===i.form){var m=c[xt]||null;if(!m)throw Error(r(90));ms(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===i.form&&uu(c)}break e;case"textarea":Ta(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&He(i,!!o.multiple,a,!1)}}}var fu=!1;function bh(i,a,o){if(fu)return i(a,o);fu=!0;try{var c=i(a);return c}finally{if(fu=!1,(pi!==null||gi!==null)&&(pf(),pi&&(a=pi,i=gi,gi=pi=null,_i(a),i)))for(a=0;a<i.length;a++)_i(i[a])}}function Ea(i,a){var o=i.stateNode;if(o===null)return null;var c=o[xt]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Wn=!1;if(Mn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Wn=!1}var Nr=null,gs=null,yi=null;function du(){if(yi)return yi;var i,a=gs,o=a.length,c,m="value"in Nr?Nr.value:Nr.textContent,g=m.length;for(i=0;i<o&&a[i]===m[i];i++);var E=o-i;for(c=1;c<=E&&a[o-c]===m[g-c];c++);return yi=m.slice(i,1<c?1-c:void 0)}function Pr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function kr(){return!0}function mu(){return!1}function Bt(i){function a(o,c,m,g,E){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(o=i[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?kr:mu,this.isPropagationStopped=mu,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),a}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Bt(Qe),ba=M({},Qe,{view:0,detail:0}),Sh=Bt(ba),ko,Vo,Vr,Sa=M({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vr&&(Vr&&i.type==="mousemove"?(ko=i.screenX-Vr.screenX,Vo=i.screenY-Vr.screenY):Vo=ko=0,Vr=i),ko)},movementY:function(i){return"movementY"in i?i.movementY:Vo}}),Zn=Bt(Sa),Ah=M({},Sa,{dataTransfer:0}),xm=Bt(Ah),Aa=M({},ba,{relatedTarget:0}),Lo=Bt(Aa),pu=M({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Uo=Bt(pu),Rh=M({},Qe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zo=Bt(Rh),Mm=M({},Qe,{data:0}),gu=Bt(Mm),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Ih[i])?!!a[i]:!1}function Ca(){return _u}var Dh=M({},ba,{key:function(i){if(i.key){var a=Ra[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Pr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(i){return i.type==="keypress"?Pr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Bo=Bt(Dh),Oh=M({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=Bt(Oh),vi=M({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),xh=Bt(vi),Mh=M({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=Bt(Mh),Ph=M({},Sa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),jo=Bt(Ph),_n=M({},Qe,{newState:0,oldState:0}),kh=Bt(_n),Vh=[9,13,27,32],Lr=Mn&&"CompositionEvent"in window,f=null;Mn&&"documentMode"in document&&(f=document.documentMode);var y=Mn&&"TextEvent"in window&&!f,T=Mn&&(!Lr||f&&8<f&&11>=f),O=" ",Y=!1;function W(i,a){switch(i){case"keyup":return Vh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function Mt(i,a){switch(i){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(Y=!0,O);case"textInput":return i=a.data,i===O&&Y?null:i;default:return null}}function Be(i,a){if(ze)return i==="compositionend"||!Lr&&W(i,a)?(i=du(),yi=gs=Nr=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!jt[i.type]:a==="textarea"}function Ti(i,a,o,c){pi?gi?gi.push(c):gi=[c]:pi=c,a=Tf(a,"onChange"),0<a.length&&(o=new Po("onChange","change",null,o,c),i.push({event:o,listeners:a}))}var Qt=null,Ur=null;function vu(i){eE(i,0)}function Lh(i){var a=cs(i);if(uu(a))return i}function Dv(i,a){if(i==="change")return a}var Ov=!1;if(Mn){var Nm;if(Mn){var Pm="oninput"in document;if(!Pm){var xv=document.createElement("div");xv.setAttribute("oninput","return;"),Pm=typeof xv.oninput=="function"}Nm=Pm}else Nm=!1;Ov=Nm&&(!document.documentMode||9<document.documentMode)}function Mv(){Qt&&(Qt.detachEvent("onpropertychange",Nv),Ur=Qt=null)}function Nv(i){if(i.propertyName==="value"&&Lh(Ur)){var a=[];Ti(a,Ur,i,No(i)),bh(vu,a)}}function AC(i,a,o){i==="focusin"?(Mv(),Qt=a,Ur=o,Qt.attachEvent("onpropertychange",Nv)):i==="focusout"&&Mv()}function RC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lh(Ur)}function CC(i,a){if(i==="click")return Lh(a)}function IC(i,a){if(i==="input"||i==="change")return Lh(a)}function DC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Nn=typeof Object.is=="function"?Object.is:DC;function Tu(i,a){if(Nn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ao.call(a,m)||!Nn(i[m],a[m]))return!1}return!0}function Pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kv(i,a){var o=Pv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=a&&c>=a)return{node:o,offset:a-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pv(o)}}function Vv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Vv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Lv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=xo(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=xo(i.document)}return a}function km(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function OC(i,a){var o=Lv(a);a=i.focusedElem;var c=i.selectionRange;if(o!==a&&a&&a.ownerDocument&&Vv(a.ownerDocument.documentElement,a)){if(c!==null&&km(a)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(o,a.value.length);else if(o=(i=a.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var m=a.textContent.length,g=Math.min(c.start,m);c=c.end===void 0?g:Math.min(c.end,m),!o.extend&&g>c&&(m=c,c=g,g=m),m=kv(a,g);var E=kv(a,c);m&&E&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),o.removeAllRanges(),g>c?(o.addRange(i),o.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),o.addRange(i)))}}for(i=[],o=a;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)o=i[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var xC=Mn&&"documentMode"in document&&11>=document.documentMode,qo=null,Vm=null,Eu=null,Lm=!1;function Uv(i,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lm||qo==null||qo!==xo(c)||(c=qo,"selectionStart"in c&&km(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Eu&&Tu(Eu,c)||(Eu=c,c=Tf(Vm,"onSelect"),0<c.length&&(a=new Po("onSelect","select",null,a,o),i.push({event:a,listeners:c}),a.target=qo)))}function Ia(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Fo={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},Um={},zv={};Mn&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Da(i){if(Um[i])return Um[i];if(!Fo[i])return i;var a=Fo[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in zv)return Um[i]=a[o];return i}var Bv=Da("animationend"),jv=Da("animationiteration"),qv=Da("animationstart"),MC=Da("transitionrun"),NC=Da("transitionstart"),PC=Da("transitioncancel"),Fv=Da("transitionend"),Hv=new Map,Gv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gr(i,a){Hv.set(i,a),xn(a,[i])}var Jn=[],Ho=0,zm=0;function Uh(){for(var i=Ho,a=zm=Ho=0;a<i;){var o=Jn[a];Jn[a++]=null;var c=Jn[a];Jn[a++]=null;var m=Jn[a];Jn[a++]=null;var g=Jn[a];if(Jn[a++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}g!==0&&Yv(o,m,g)}}function zh(i,a,o,c){Jn[Ho++]=i,Jn[Ho++]=a,Jn[Ho++]=o,Jn[Ho++]=c,zm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Bm(i,a,o,c){return zh(i,a,o,c),Bh(i)}function _s(i,a){return zh(i,null,null,a),Bh(i)}function Yv(i,a,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;m&&a!==null&&i.tag===3&&(g=i.stateNode,m=31-pn(o),g=g.hiddenUpdates,i=g[m],i===null?g[m]=[a]:i.push(a),a.lane=o|536870912)}function Bh(i){if(50<Yu)throw Yu=0,Yp=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Go={},Qv=new WeakMap;function er(i,a){if(typeof i=="object"&&i!==null){var o=Qv.get(i);return o!==void 0?o:(a={value:i,source:a,stack:he(a)},Qv.set(i,a),a)}return{value:i,source:a,stack:he(a)}}var Yo=[],Qo=0,jh=null,qh=0,tr=[],nr=0,Oa=null,Ei=1,wi="";function xa(i,a){Yo[Qo++]=qh,Yo[Qo++]=jh,jh=i,qh=a}function Kv(i,a,o){tr[nr++]=Ei,tr[nr++]=wi,tr[nr++]=Oa,Oa=i;var c=Ei;i=wi;var m=32-pn(c)-1;c&=~(1<<m),o+=1;var g=32-pn(a)+m;if(30<g){var E=m-m%5;g=(c&(1<<E)-1).toString(32),c>>=E,m-=E,Ei=1<<32-pn(a)+m|o<<m|c,wi=g+i}else Ei=1<<g|o<<m|c,wi=i}function jm(i){i.return!==null&&(xa(i,1),Kv(i,1,0))}function qm(i){for(;i===jh;)jh=Yo[--Qo],Yo[Qo]=null,qh=Yo[--Qo],Yo[Qo]=null;for(;i===Oa;)Oa=tr[--nr],tr[nr]=null,wi=tr[--nr],tr[nr]=null,Ei=tr[--nr],tr[nr]=null}var yn=null,Kt=null,Ge=!1,_r=null,zr=!1,Fm=Error(r(519));function Ma(i){var a=Error(r(418,""));throw Su(er(a,i)),Fm}function $v(i){var a=i.stateNode,o=i.type,c=i.memoizedProps;switch(a[zt]=i,a[xt]=c,o){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(o=0;o<Ku.length;o++)Ve(Ku[o],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),va(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ya(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),ps(a,c.value,c.defaultValue,c.children),ya(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||iE(a.textContent,o)?(c.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),c.onScroll!=null&&Ve("scroll",a),c.onScrollEnd!=null&&Ve("scrollend",a),c.onClick!=null&&(a.onclick=Ef),a=!0):a=!1,a||Ma(i)}function Xv(i){for(yn=i.return;yn;)switch(yn.tag){case 3:case 27:zr=!0;return;case 5:case 13:zr=!1;return;default:yn=yn.return}}function wu(i){if(i!==yn)return!1;if(!Ge)return Xv(i),Ge=!0,!1;var a=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ug(i.type,i.memoizedProps)),o=!o),o&&(a=!0),a&&Kt&&Ma(i),Xv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){Kt=vr(i.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}Kt=null}}else Kt=yn?vr(i.stateNode.nextSibling):null;return!0}function bu(){Kt=yn=null,Ge=!1}function Su(i){_r===null?_r=[i]:_r.push(i)}var Au=Error(r(460)),Wv=Error(r(474)),Hm={then:function(){}};function Zv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fh(){}function Jv(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(Fh,Fh),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Au?Error(r(483)):i;default:if(typeof a.status=="string")a.then(Fh,Fh);else{if(i=tt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Au?Error(r(483)):i}throw Ru=a,Au}}var Ru=null;function e0(){if(Ru===null)throw Error(r(459));var i=Ru;return Ru=null,i}var Ko=null,Cu=0;function Hh(i){var a=Cu;return Cu+=1,Ko===null&&(Ko=[]),Jv(Ko,i,a)}function Iu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Gh(i,a){throw a.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function t0(i){var a=i._init;return a(i._payload)}function n0(i){function a(G,j){if(i){var Q=G.deletions;Q===null?(G.deletions=[j],G.flags|=16):Q.push(j)}}function o(G,j){if(!i)return null;for(;j!==null;)a(G,j),j=j.sibling;return null}function c(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function m(G,j){return G=Ds(G,j),G.index=0,G.sibling=null,G}function g(G,j,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<j?(G.flags|=33554434,j):Q):(G.flags|=33554434,j)):(G.flags|=1048576,j)}function E(G){return i&&G.alternate===null&&(G.flags|=33554434),G}function I(G,j,Q,te){return j===null||j.tag!==6?(j=Up(Q,G.mode,te),j.return=G,j):(j=m(j,Q),j.return=G,j)}function P(G,j,Q,te){var pe=Q.type;return pe===d?J(G,j,Q.props.children,te,Q.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&t0(pe)===j.type)?(j=m(j,Q.props),Iu(j,Q),j.return=G,j):(j=cf(Q.type,Q.key,Q.props,null,G.mode,te),Iu(j,Q),j.return=G,j)}function F(G,j,Q,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=zp(Q,G.mode,te),j.return=G,j):(j=m(j,Q.children||[]),j.return=G,j)}function J(G,j,Q,te,pe){return j===null||j.tag!==7?(j=qa(Q,G.mode,te,pe),j.return=G,j):(j=m(j,Q),j.return=G,j)}function ie(G,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Up(""+j,G.mode,Q),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case u:return Q=cf(j.type,j.key,j.props,null,G.mode,Q),Iu(Q,j),Q.return=G,Q;case h:return j=zp(j,G.mode,Q),j.return=G,j;case L:var te=j._init;return j=te(j._payload),ie(G,j,Q)}if(ue(j)||X(j))return j=qa(j,G.mode,Q,null),j.return=G,j;if(typeof j.then=="function")return ie(G,Hh(j),Q);if(j.$$typeof===b)return ie(G,of(G,j),Q);Gh(G,j)}return null}function K(G,j,Q,te){var pe=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pe!==null?null:I(G,j,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return Q.key===pe?P(G,j,Q,te):null;case h:return Q.key===pe?F(G,j,Q,te):null;case L:return pe=Q._init,Q=pe(Q._payload),K(G,j,Q,te)}if(ue(Q)||X(Q))return pe!==null?null:J(G,j,Q,te,null);if(typeof Q.then=="function")return K(G,j,Hh(Q),te);if(Q.$$typeof===b)return K(G,j,of(G,Q),te);Gh(G,Q)}return null}function Z(G,j,Q,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(Q)||null,I(j,G,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case u:return G=G.get(te.key===null?Q:te.key)||null,P(j,G,te,pe);case h:return G=G.get(te.key===null?Q:te.key)||null,F(j,G,te,pe);case L:var Oe=te._init;return te=Oe(te._payload),Z(G,j,Q,te,pe)}if(ue(te)||X(te))return G=G.get(Q)||null,J(j,G,te,pe,null);if(typeof te.then=="function")return Z(G,j,Q,Hh(te),pe);if(te.$$typeof===b)return Z(G,j,Q,of(j,te),pe);Gh(j,te)}return null}function ge(G,j,Q,te){for(var pe=null,Oe=null,_e=j,ve=j=0,Ht=null;_e!==null&&ve<Q.length;ve++){_e.index>ve?(Ht=_e,_e=null):Ht=_e.sibling;var Ye=K(G,_e,Q[ve],te);if(Ye===null){_e===null&&(_e=Ht);break}i&&_e&&Ye.alternate===null&&a(G,_e),j=g(Ye,j,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye,_e=Ht}if(ve===Q.length)return o(G,_e),Ge&&xa(G,ve),pe;if(_e===null){for(;ve<Q.length;ve++)_e=ie(G,Q[ve],te),_e!==null&&(j=g(_e,j,ve),Oe===null?pe=_e:Oe.sibling=_e,Oe=_e);return Ge&&xa(G,ve),pe}for(_e=c(_e);ve<Q.length;ve++)Ht=Z(_e,G,ve,Q[ve],te),Ht!==null&&(i&&Ht.alternate!==null&&_e.delete(Ht.key===null?ve:Ht.key),j=g(Ht,j,ve),Oe===null?pe=Ht:Oe.sibling=Ht,Oe=Ht);return i&&_e.forEach(function(Vs){return a(G,Vs)}),Ge&&xa(G,ve),pe}function Se(G,j,Q,te){if(Q==null)throw Error(r(151));for(var pe=null,Oe=null,_e=j,ve=j=0,Ht=null,Ye=Q.next();_e!==null&&!Ye.done;ve++,Ye=Q.next()){_e.index>ve?(Ht=_e,_e=null):Ht=_e.sibling;var Vs=K(G,_e,Ye.value,te);if(Vs===null){_e===null&&(_e=Ht);break}i&&_e&&Vs.alternate===null&&a(G,_e),j=g(Vs,j,ve),Oe===null?pe=Vs:Oe.sibling=Vs,Oe=Vs,_e=Ht}if(Ye.done)return o(G,_e),Ge&&xa(G,ve),pe;if(_e===null){for(;!Ye.done;ve++,Ye=Q.next())Ye=ie(G,Ye.value,te),Ye!==null&&(j=g(Ye,j,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return Ge&&xa(G,ve),pe}for(_e=c(_e);!Ye.done;ve++,Ye=Q.next())Ye=Z(_e,G,ve,Ye.value,te),Ye!==null&&(i&&Ye.alternate!==null&&_e.delete(Ye.key===null?ve:Ye.key),j=g(Ye,j,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return i&&_e.forEach(function(KI){return a(G,KI)}),Ge&&xa(G,ve),pe}function gt(G,j,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===d&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:e:{for(var pe=Q.key;j!==null;){if(j.key===pe){if(pe=Q.type,pe===d){if(j.tag===7){o(G,j.sibling),te=m(j,Q.props.children),te.return=G,G=te;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&t0(pe)===j.type){o(G,j.sibling),te=m(j,Q.props),Iu(te,Q),te.return=G,G=te;break e}o(G,j);break}else a(G,j);j=j.sibling}Q.type===d?(te=qa(Q.props.children,G.mode,te,Q.key),te.return=G,G=te):(te=cf(Q.type,Q.key,Q.props,null,G.mode,te),Iu(te,Q),te.return=G,G=te)}return E(G);case h:e:{for(pe=Q.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){o(G,j.sibling),te=m(j,Q.children||[]),te.return=G,G=te;break e}else{o(G,j);break}else a(G,j);j=j.sibling}te=zp(Q,G.mode,te),te.return=G,G=te}return E(G);case L:return pe=Q._init,Q=pe(Q._payload),gt(G,j,Q,te)}if(ue(Q))return ge(G,j,Q,te);if(X(Q)){if(pe=X(Q),typeof pe!="function")throw Error(r(150));return Q=pe.call(Q),Se(G,j,Q,te)}if(typeof Q.then=="function")return gt(G,j,Hh(Q),te);if(Q.$$typeof===b)return gt(G,j,of(G,Q),te);Gh(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(o(G,j.sibling),te=m(j,Q),te.return=G,G=te):(o(G,j),te=Up(Q,G.mode,te),te.return=G,G=te),E(G)):o(G,j)}return function(G,j,Q,te){try{Cu=0;var pe=gt(G,j,Q,te);return Ko=null,pe}catch(_e){if(_e===Au)throw _e;var Oe=ar(29,_e,null,G.mode);return Oe.lanes=te,Oe.return=G,Oe}finally{}}}var Na=n0(!0),r0=n0(!1),$o=Fe(null),Yh=Fe(0);function i0(i,a){i=Ni,$e(Yh,i),$e($o,a),Ni=i|a.baseLanes}function Gm(){$e(Yh,Ni),$e($o,$o.current)}function Ym(){Ni=Yh.current,ft($o),ft(Yh)}var rr=Fe(null),Br=null;function ys(i){var a=i.alternate;$e(Pt,Pt.current&1),$e(rr,i),Br===null&&(a===null||$o.current!==null||a.memoizedState!==null)&&(Br=i)}function s0(i){if(i.tag===22){if($e(Pt,Pt.current),$e(rr,i),Br===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Br=i)}}else vs()}function vs(){$e(Pt,Pt.current),$e(rr,rr.current)}function bi(i){ft(rr),Br===i&&(Br=null),ft(Pt)}var Pt=Fe(0);function Qh(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var kC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},VC=n.unstable_scheduleCallback,LC=n.unstable_NormalPriority,kt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new kC,data:new Map,refCount:0}}function Du(i){i.refCount--,i.refCount===0&&VC(LC,function(){i.controller.abort()})}var Ou=null,Km=0,Xo=0,Wo=null;function UC(i,a){if(Ou===null){var o=Ou=[];Km=0,Xo=eg(),Wo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Km++,a.then(a0,a0),a}function a0(){if(--Km===0&&Ou!==null){Wo!==null&&(Wo.status="fulfilled");var i=Ou;Ou=null,Xo=0,Wo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function zC(i,a){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<o.length;m++)(0,o[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var o0=A.S;A.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&UC(i,a),o0!==null&&o0(i,a)};var Pa=Fe(null);function $m(){var i=Pa.current;return i!==null?i:tt.pooledCache}function Kh(i,a){a===null?$e(Pa,Pa.current):$e(Pa,a.pool)}function l0(){var i=$m();return i===null?null:{parent:kt._currentValue,pool:i}}var Ts=0,De=null,We=null,bt=null,$h=!1,Zo=!1,ka=!1,Xh=0,xu=0,Jo=null,BC=0;function vt(){throw Error(r(321))}function Xm(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Nn(i[o],a[o]))return!1;return!0}function Wm(i,a,o,c,m,g){return Ts=g,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=i===null||i.memoizedState===null?Va:Es,ka=!1,g=o(c,m),ka=!1,Zo&&(g=c0(a,o,c,m)),u0(i),g}function u0(i){A.H=jr;var a=We!==null&&We.next!==null;if(Ts=0,bt=We=De=null,$h=!1,xu=0,Jo=null,a)throw Error(r(300));i===null||qt||(i=i.dependencies,i!==null&&af(i)&&(qt=!0))}function c0(i,a,o,c){De=i;var m=0;do{if(Zo&&(Jo=null),xu=0,Zo=!1,25<=m)throw Error(r(301));if(m+=1,bt=We=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=La,g=a(o,c)}while(Zo);return g}function jC(){var i=A.H,a=i.useState()[0];return a=typeof a.then=="function"?Mu(a):a,i=i.useState()[0],(We!==null?We.memoizedState:null)!==i&&(De.flags|=1024),a}function Zm(){var i=Xh!==0;return Xh=0,i}function Jm(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function ep(i){if($h){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}$h=!1}Ts=0,bt=We=De=null,Zo=!1,xu=Xh=0,Jo=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=i:bt=bt.next=i,bt}function St(){if(We===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=We.next;var a=bt===null?De.memoizedState:bt.next;if(a!==null)bt=a,We=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));We=i,i={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?De.memoizedState=bt=i:bt=bt.next=i}return bt}var Wh;Wh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Mu(i){var a=xu;return xu+=1,Jo===null&&(Jo=[]),i=Jv(Jo,i,a),a=De,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?Va:Es),i}function Zh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mu(i);if(i.$$typeof===b)return rn(i)}throw Error(r(438,String(i)))}function tp(i){var a=null,o=De.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Wh(),De.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),c=0;c<i;c++)o[c]=H;return a.index++,o}function Si(i,a){return typeof a=="function"?a(i):a}function Jh(i){var a=St();return np(a,We,i)}function np(i,a,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}a.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{a=m.next;var I=E=null,P=null,F=a,J=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(je&ie)===ie:(Ts&ie)===ie){var K=F.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Xo&&(J=!0);else if((Ts&K)===K){F=F.next,K===Xo&&(J=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(I=P=ie,E=g):P=P.next=ie,De.lanes|=K,Os|=K;ie=F.action,ka&&o(g,ie),g=F.hasEagerState?F.eagerState:o(g,ie)}else K={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(I=P=K,E=g):P=P.next=K,De.lanes|=ie,Os|=ie;F=F.next}while(F!==null&&F!==a);if(P===null?E=g:P.next=I,!Nn(g,i.memoizedState)&&(qt=!0,J&&(o=Wo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=P,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function rp(i){var a=St(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=a.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do g=i(g,E.action),E=E.next;while(E!==m);Nn(g,a.memoizedState)||(qt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,c]}function h0(i,a,o){var c=De,m=St(),g=Ge;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=a();var E=!Nn((We||m).memoizedState,o);if(E&&(m.memoizedState=o,qt=!0),m=m.queue,ap(m0.bind(null,c,m,i),[i]),m.getSnapshot!==a||E||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,el(9,d0.bind(null,c,m,o,a),{destroy:void 0},null),tt===null)throw Error(r(349));g||Ts&60||f0(c,a,o)}return o}function f0(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=De.updateQueue,a===null?(a=Wh(),De.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function d0(i,a,o,c){a.value=o,a.getSnapshot=c,p0(a)&&g0(i)}function m0(i,a,o){return o(function(){p0(a)&&g0(i)})}function p0(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Nn(i,o)}catch{return!0}}function g0(i){var a=_s(i,2);a!==null&&vn(a,i,2)}function ip(i){var a=bn();if(typeof i=="function"){var o=i;if(i=o(),ka){Ir(!0);try{o()}finally{Ir(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:i},a}function _0(i,a,o,c){return i.baseState=o,np(i,We,typeof c=="function"?c:Si)}function qC(i,a,o,c,m){if(nf(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};A.T!==null?o(!0):g.isTransition=!1,c(g),o=a.pending,o===null?(g.next=a.pending=g,y0(a,g)):(g.next=o.next,a.pending=o.next=g)}}function y0(i,a){var o=a.action,c=a.payload,m=i.state;if(a.isTransition){var g=A.T,E={};A.T=E;try{var I=o(m,c),P=A.S;P!==null&&P(E,I),v0(i,a,I)}catch(F){sp(i,a,F)}finally{A.T=g}}else try{g=o(m,c),v0(i,a,g)}catch(F){sp(i,a,F)}}function v0(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){T0(i,a,c)},function(c){return sp(i,a,c)}):T0(i,a,o)}function T0(i,a,o){a.status="fulfilled",a.value=o,E0(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,y0(i,o)))}function sp(i,a,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,E0(a),a=a.next;while(a!==c)}i.action=null}function E0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function w0(i,a){return a}function b0(i,a){if(Ge){var o=tt.formState;if(o!==null){e:{var c=De;if(Ge){if(Kt){t:{for(var m=Kt,g=zr;m.nodeType!==8;){if(!g){m=null;break t}if(m=vr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Kt=vr(m.nextSibling),c=m.data==="F!";break e}}Ma(c)}c=!1}c&&(a=o[0])}}return o=bn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w0,lastRenderedState:a},o.queue=c,o=j0.bind(null,De,c),c.dispatch=o,c=ip(!1),g=hp.bind(null,De,!1,c.queue),c=bn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,o=qC.bind(null,De,m,g,o),m.dispatch=o,c.memoizedState=i,[a,o,!1]}function S0(i){var a=St();return A0(a,We,i)}function A0(i,a,o){a=np(i,a,w0)[0],i=Jh(Si)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Mu(a):a;var c=St(),m=c.queue,g=m.dispatch;return o!==c.memoizedState&&(De.flags|=2048,el(9,FC.bind(null,m,o),{destroy:void 0},null)),[a,g,i]}function FC(i,a){i.action=a}function R0(i){var a=St(),o=We;if(o!==null)return A0(a,o,i);St(),a=a.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=i,[a,c,!1]}function el(i,a,o,c){return i={tag:i,create:a,inst:o,deps:c,next:null},a=De.updateQueue,a===null&&(a=Wh(),De.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,a.lastEffect=i),i}function C0(){return St().memoizedState}function ef(i,a,o,c){var m=bn();De.flags|=i,m.memoizedState=el(1|a,o,{destroy:void 0},c===void 0?null:c)}function tf(i,a,o,c){var m=St();c=c===void 0?null:c;var g=m.memoizedState.inst;We!==null&&c!==null&&Xm(c,We.memoizedState.deps)?m.memoizedState=el(a,o,g,c):(De.flags|=i,m.memoizedState=el(1|a,o,g,c))}function I0(i,a){ef(8390656,8,i,a)}function ap(i,a){tf(2048,8,i,a)}function D0(i,a){return tf(4,2,i,a)}function O0(i,a){return tf(4,4,i,a)}function x0(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function M0(i,a,o){o=o!=null?o.concat([i]):null,tf(4,4,x0.bind(null,a,i),o)}function op(){}function N0(i,a){var o=St();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Xm(a,c[1])?c[0]:(o.memoizedState=[i,a],i)}function P0(i,a){var o=St();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Xm(a,c[1]))return c[0];if(c=i(),ka){Ir(!0);try{i()}finally{Ir(!1)}}return o.memoizedState=[c,a],c}function lp(i,a,o){return o===void 0||Ts&1073741824?i.memoizedState=a:(i.memoizedState=o,i=VT(),De.lanes|=i,Os|=i,o)}function k0(i,a,o,c){return Nn(o,a)?o:$o.current!==null?(i=lp(i,o,c),Nn(i,a)||(qt=!0),i):Ts&42?(i=VT(),De.lanes|=i,Os|=i,a):(qt=!0,i.memoizedState=o)}function V0(i,a,o,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var E=A.T,I={};A.T=I,hp(i,!1,a,o);try{var P=m(),F=A.S;if(F!==null&&F(I,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=zC(P,c);Nu(i,a,J,Ln(i))}else Nu(i,a,c,Ln(i))}catch(ie){Nu(i,a,{then:function(){},status:"rejected",reason:ie},Ln())}finally{le.p=g,A.T=E}}function HC(){}function up(i,a,o,c){if(i.tag!==5)throw Error(r(476));var m=L0(i).queue;V0(i,m,a,Te,o===null?HC:function(){return U0(i),o(c)})}function L0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:Te},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function U0(i){var a=L0(i).next.queue;Nu(i,a,{},Ln())}function cp(){return rn(Ju)}function z0(){return St().memoizedState}function B0(){return St().memoizedState}function GC(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Ln();i=Ss(o);var c=As(a,i,o);c!==null&&(vn(c,a,o),Vu(c,a,o)),a={cache:Qm()},i.payload=a;return}a=a.return}}function YC(i,a,o){var c=Ln();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},nf(i)?q0(a,o):(o=Bm(i,a,o,c),o!==null&&(vn(o,i,c),F0(o,a,c)))}function j0(i,a,o){var c=Ln();Nu(i,a,o,c)}function Nu(i,a,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(nf(i))q0(a,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var E=a.lastRenderedState,I=g(E,o);if(m.hasEagerState=!0,m.eagerState=I,Nn(I,E))return zh(i,a,m,0),tt===null&&Uh(),!1}catch{}finally{}if(o=Bm(i,a,m,c),o!==null)return vn(o,i,c),F0(o,a,c),!0}return!1}function hp(i,a,o,c){if(c={lane:2,revertLane:eg(),action:c,hasEagerState:!1,eagerState:null,next:null},nf(i)){if(a)throw Error(r(479))}else a=Bm(i,o,c,2),a!==null&&vn(a,i,2)}function nf(i){var a=i.alternate;return i===De||a!==null&&a===De}function q0(i,a){Zo=$h=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function F0(i,a,o){if(o&4194176){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,os(i,o)}}var jr={readContext:rn,use:Zh,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};jr.useCacheRefresh=vt,jr.useMemoCache=vt,jr.useHostTransitionStatus=vt,jr.useFormState=vt,jr.useActionState=vt,jr.useOptimistic=vt;var Va={readContext:rn,use:Zh,useCallback:function(i,a){return bn().memoizedState=[i,a===void 0?null:a],i},useContext:rn,useEffect:I0,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,ef(4194308,4,x0.bind(null,a,i),o)},useLayoutEffect:function(i,a){return ef(4194308,4,i,a)},useInsertionEffect:function(i,a){ef(4,2,i,a)},useMemo:function(i,a){var o=bn();a=a===void 0?null:a;var c=i();if(ka){Ir(!0);try{i()}finally{Ir(!1)}}return o.memoizedState=[c,a],c},useReducer:function(i,a,o){var c=bn();if(o!==void 0){var m=o(a);if(ka){Ir(!0);try{o(a)}finally{Ir(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=YC.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var a=bn();return i={current:i},a.memoizedState=i},useState:function(i){i=ip(i);var a=i.queue,o=j0.bind(null,De,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:op,useDeferredValue:function(i,a){var o=bn();return lp(o,i,a)},useTransition:function(){var i=ip(!1);return i=V0.bind(null,De,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var c=De,m=bn();if(Ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),tt===null)throw Error(r(349));je&60||f0(c,a,o)}m.memoizedState=o;var g={value:o,getSnapshot:a};return m.queue=g,I0(m0.bind(null,c,g,i),[i]),c.flags|=2048,el(9,d0.bind(null,c,g,o,a),{destroy:void 0},null),o},useId:function(){var i=bn(),a=tt.identifierPrefix;if(Ge){var o=wi,c=Ei;o=(c&~(1<<32-pn(c)-1)).toString(32)+o,a=":"+a+"R"+o,o=Xh++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=BC++,a=":"+a+"r"+o.toString(32)+":";return i.memoizedState=a},useCacheRefresh:function(){return bn().memoizedState=GC.bind(null,De)}};Va.useMemoCache=tp,Va.useHostTransitionStatus=cp,Va.useFormState=b0,Va.useActionState=b0,Va.useOptimistic=function(i){var a=bn();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=hp.bind(null,De,!0,o),o.dispatch=a,[i,a]};var Es={readContext:rn,use:Zh,useCallback:N0,useContext:rn,useEffect:ap,useImperativeHandle:M0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:P0,useReducer:Jh,useRef:C0,useState:function(){return Jh(Si)},useDebugValue:op,useDeferredValue:function(i,a){var o=St();return k0(o,We.memoizedState,i,a)},useTransition:function(){var i=Jh(Si)[0],a=St().memoizedState;return[typeof i=="boolean"?i:Mu(i),a]},useSyncExternalStore:h0,useId:z0};Es.useCacheRefresh=B0,Es.useMemoCache=tp,Es.useHostTransitionStatus=cp,Es.useFormState=S0,Es.useActionState=S0,Es.useOptimistic=function(i,a){var o=St();return _0(o,We,i,a)};var La={readContext:rn,use:Zh,useCallback:N0,useContext:rn,useEffect:ap,useImperativeHandle:M0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:P0,useReducer:rp,useRef:C0,useState:function(){return rp(Si)},useDebugValue:op,useDeferredValue:function(i,a){var o=St();return We===null?lp(o,i,a):k0(o,We.memoizedState,i,a)},useTransition:function(){var i=rp(Si)[0],a=St().memoizedState;return[typeof i=="boolean"?i:Mu(i),a]},useSyncExternalStore:h0,useId:z0};La.useCacheRefresh=B0,La.useMemoCache=tp,La.useHostTransitionStatus=cp,La.useFormState=R0,La.useActionState=R0,La.useOptimistic=function(i,a){var o=St();return We!==null?_0(o,We,i,a):(o.baseState=i,[i,o.queue.dispatch])};function fp(i,a,o,c){a=i.memoizedState,o=o(c,a),o=o==null?a:M({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var dp={isMounted:function(i){return(i=i._reactInternals)?de(i)===i:!1},enqueueSetState:function(i,a,o){i=i._reactInternals;var c=Ln(),m=Ss(c);m.payload=a,o!=null&&(m.callback=o),a=As(i,m,c),a!==null&&(vn(a,i,c),Vu(a,i,c))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var c=Ln(),m=Ss(c);m.tag=1,m.payload=a,o!=null&&(m.callback=o),a=As(i,m,c),a!==null&&(vn(a,i,c),Vu(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Ln(),c=Ss(o);c.tag=2,a!=null&&(c.callback=a),a=As(i,c,o),a!==null&&(vn(a,i,o),Vu(a,i,o))}};function H0(i,a,o,c,m,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,E):a.prototype&&a.prototype.isPureReactComponent?!Tu(o,c)||!Tu(m,g):!0}function G0(i,a,o,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==i&&dp.enqueueReplaceState(a,a.state,null)}function Ua(i,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(i=i.defaultProps){o===a&&(o=M({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var rf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Y0(i){rf(i)}function Q0(i){console.error(i)}function K0(i){rf(i)}function sf(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function $0(i,a,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mp(i,a,o){return o=Ss(o),o.tag=3,o.payload={element:null},o.callback=function(){sf(i,a)},o}function X0(i){return i=Ss(i),i.tag=3,i}function W0(i,a,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){$0(a,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){$0(a,o,c),typeof m!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function QC(i,a,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&ku(a,o,m,!0),o=rr.current,o!==null){switch(o.tag){case 13:return Br===null?$p():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Hm?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Wp(i,c,m)),!1;case 22:return o.flags|=65536,c===Hm?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Wp(i,c,m)),!1}throw Error(r(435,o.tag))}return Wp(i,c,m),$p(),!1}if(Ge)return a=rr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==Fm&&(i=Error(r(422),{cause:c}),Su(er(i,o)))):(c!==Fm&&(a=Error(r(423),{cause:c}),Su(er(a,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=er(c,o),m=mp(i.stateNode,c,m),Dp(i,m),pt!==4&&(pt=2)),!1;var g=Error(r(520),{cause:c});if(g=er(g,o),Hu===null?Hu=[g]:Hu.push(g),pt!==4&&(pt=2),a===null)return!0;c=er(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=mp(o.stateNode,c,i),Dp(o,i),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xs===null||!xs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=X0(m),W0(m,i,o,c),Dp(o,m),!1}o=o.return}while(o!==null);return!1}var Z0=Error(r(461)),qt=!1;function $t(i,a,o,c){a.child=i===null?r0(a,null,o,c):Na(a,i.child,o,c)}function J0(i,a,o,c,m){o=o.render;var g=a.ref;if("ref"in c){var E={};for(var I in c)I!=="ref"&&(E[I]=c[I])}else E=c;return Ba(a),c=Wm(i,a,o,E,g,m),I=Zm(),i!==null&&!qt?(Jm(i,a,m),Ai(i,a,m)):(Ge&&I&&jm(a),a.flags|=1,$t(i,a,c,m),a.child)}function eT(i,a,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Lp(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,tT(i,a,g,c,m)):(i=cf(o.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!bp(i,m)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Tu,o(E,c)&&i.ref===a.ref)return Ai(i,a,m)}return a.flags|=1,i=Ds(g,c),i.ref=a.ref,i.return=a,a.child=i}function tT(i,a,o,c,m){if(i!==null){var g=i.memoizedProps;if(Tu(g,c)&&i.ref===a.ref)if(qt=!1,a.pendingProps=c=g,bp(i,m))i.flags&131072&&(qt=!0);else return a.lanes=i.lanes,Ai(i,a,m)}return pp(i,a,o,c,m)}function nT(i,a,o){var c=a.pendingProps,m=c.children,g=(a.stateNode._pendingVisibility&2)!==0,E=i!==null?i.memoizedState:null;if(Pu(i,a),c.mode==="hidden"||g){if(a.flags&128){if(c=E!==null?E.baseLanes|o:o,i!==null){for(m=a.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return rT(i,a,c,o)}if(o&536870912)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Kh(a,E!==null?E.cachePool:null),E!==null?i0(a,E):Gm(),s0(a);else return a.lanes=a.childLanes=536870912,rT(i,a,E!==null?E.baseLanes|o:o,o)}else E!==null?(Kh(a,E.cachePool),i0(a,E),vs(),a.memoizedState=null):(i!==null&&Kh(a,null),Gm(),vs());return $t(i,a,m,o),a.child}function rT(i,a,o,c){var m=$m();return m=m===null?null:{parent:kt._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},i!==null&&Kh(a,null),Gm(),s0(a),i!==null&&ku(i,a,c,!0),null}function Pu(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=2097664)}}function pp(i,a,o,c,m){return Ba(a),o=Wm(i,a,o,c,void 0,m),c=Zm(),i!==null&&!qt?(Jm(i,a,m),Ai(i,a,m)):(Ge&&c&&jm(a),a.flags|=1,$t(i,a,o,m),a.child)}function iT(i,a,o,c,m,g){return Ba(a),a.updateQueue=null,o=c0(a,c,o,m),u0(i),c=Zm(),i!==null&&!qt?(Jm(i,a,g),Ai(i,a,g)):(Ge&&c&&jm(a),a.flags|=1,$t(i,a,o,g),a.child)}function sT(i,a,o,c,m){if(Ba(a),a.stateNode===null){var g=Go,E=o.contextType;typeof E=="object"&&E!==null&&(g=rn(E)),g=new o(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=dp,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Cp(a),E=o.contextType,g.context=typeof E=="object"&&E!==null?rn(E):Go,g.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(fp(a,o,E,c),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&dp.enqueueReplaceState(g,g.state,null),Uu(a,c,g,m),Lu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var I=a.memoizedProps,P=Ua(o,I);g.props=P;var F=g.context,J=o.contextType;E=Go,typeof J=="object"&&J!==null&&(E=rn(J));var ie=o.getDerivedStateFromProps;J=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||F!==E)&&G0(a,g,c,E),bs=!1;var K=a.memoizedState;g.state=K,Uu(a,c,g,m),Lu(),F=a.memoizedState,I||K!==F||bs?(typeof ie=="function"&&(fp(a,o,ie,c),F=a.memoizedState),(P=bs||H0(a,o,P,c,K,F,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=F),g.props=c,g.state=F,g.context=E,c=P):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Ip(i,a),E=a.memoizedProps,J=Ua(o,E),g.props=J,ie=a.pendingProps,K=g.context,F=o.contextType,P=Go,typeof F=="object"&&F!==null&&(P=rn(F)),I=o.getDerivedStateFromProps,(F=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ie||K!==P)&&G0(a,g,c,P),bs=!1,K=a.memoizedState,g.state=K,Uu(a,c,g,m),Lu();var Z=a.memoizedState;E!==ie||K!==Z||bs||i!==null&&i.dependencies!==null&&af(i.dependencies)?(typeof I=="function"&&(fp(a,o,I,c),Z=a.memoizedState),(J=bs||H0(a,o,J,c,K,Z,P)||i!==null&&i.dependencies!==null&&af(i.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,P)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Z),g.props=c,g.state=Z,g.context=P,c=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,Pu(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=Na(a,i.child,null,m),a.child=Na(a,null,o,m)):$t(i,a,o,m),a.memoizedState=g.state,i=a.child):i=Ai(i,a,m),i}function aT(i,a,o,c){return bu(),a.flags|=256,$t(i,a,o,c),a.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function _p(i){return{baseLanes:i,cachePool:l0()}}function yp(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=or),i}function oT(i,a,o){var c=a.pendingProps,m=!1,g=(a.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ge){if(m?ys(a):vs(),Ge){var I=Kt,P;if(P=I){e:{for(P=I,I=zr;P.nodeType!==8;){if(!I){I=null;break e}if(P=vr(P.nextSibling),P===null){I=null;break e}}I=P}I!==null?(a.memoizedState={dehydrated:I,treeContext:Oa!==null?{id:Ei,overflow:wi}:null,retryLane:536870912},P=ar(18,null,null,0),P.stateNode=I,P.return=a,a.child=P,yn=a,Kt=null,P=!0):P=!1}P||Ma(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?a.lanes=16:a.lanes=536870912,null;bi(a)}return I=c.children,c=c.fallback,m?(vs(),m=a.mode,I=Tp({mode:"hidden",children:I},m),c=qa(c,m,o,null),I.return=a,c.return=a,I.sibling=c,a.child=I,m=a.child,m.memoizedState=_p(o),m.childLanes=yp(i,E,o),a.memoizedState=gp,c):(ys(a),vp(a,I))}if(P=i.memoizedState,P!==null&&(I=P.dehydrated,I!==null)){if(g)a.flags&256?(ys(a),a.flags&=-257,a=Ep(i,a,o)):a.memoizedState!==null?(vs(),a.child=i.child,a.flags|=128,a=null):(vs(),m=c.fallback,I=a.mode,c=Tp({mode:"visible",children:c.children},I),m=qa(m,I,o,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Na(a,i.child,null,o),c=a.child,c.memoizedState=_p(o),c.childLanes=yp(i,E,o),a.memoizedState=gp,a=m);else if(ys(a),I.data==="$!"){if(E=I.nextSibling&&I.nextSibling.dataset,E)var F=E.dgst;E=F,c=Error(r(419)),c.stack="",c.digest=E,Su({value:c,source:null,stack:null}),a=Ep(i,a,o)}else if(qt||ku(i,a,o,!1),E=(o&i.childLanes)!==0,qt||E){if(E=tt,E!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(E.suspendedLanes|o)?0:c,c!==0&&c!==P.retryLane)throw P.retryLane=c,_s(i,c),vn(E,i,c),Z0}I.data==="$?"||$p(),a=Ep(i,a,o)}else I.data==="$?"?(a.flags|=128,a.child=i.child,a=lI.bind(null,i),I._reactRetry=a,a=null):(i=P.treeContext,Kt=vr(I.nextSibling),yn=a,Ge=!0,_r=null,zr=!1,i!==null&&(tr[nr++]=Ei,tr[nr++]=wi,tr[nr++]=Oa,Ei=i.id,wi=i.overflow,Oa=a),a=vp(a,c.children),a.flags|=4096);return a}return m?(vs(),m=c.fallback,I=a.mode,P=i.child,F=P.sibling,c=Ds(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&31457280,F!==null?m=Ds(F,m):(m=qa(m,I,o,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,I=i.child.memoizedState,I===null?I=_p(o):(P=I.cachePool,P!==null?(F=kt._currentValue,P=P.parent!==F?{parent:F,pool:F}:P):P=l0(),I={baseLanes:I.baseLanes|o,cachePool:P}),m.memoizedState=I,m.childLanes=yp(i,E,o),a.memoizedState=gp,c):(ys(a),o=i.child,i=o.sibling,o=Ds(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,i!==null&&(E=a.deletions,E===null?(a.deletions=[i],a.flags|=16):E.push(i)),a.child=o,a.memoizedState=null,o)}function vp(i,a){return a=Tp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Tp(i,a){return NT(i,a,0,null)}function Ep(i,a,o){return Na(a,i.child,null,o),i=vp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function lT(i,a,o){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Ap(i.return,a,o)}function wp(i,a,o,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function uT(i,a,o){var c=a.pendingProps,m=c.revealOrder,g=c.tail;if($t(i,a,c.children,o),c=Pt.current,c&2)c=c&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lT(i,o,a);else if(i.tag===19)lT(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch($e(Pt,c),m){case"forwards":for(o=a.child,m=null;o!==null;)i=o.alternate,i!==null&&Qh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),wp(a,!1,m,o,g);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Qh(i)===null){a.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}wp(a,!0,o,null,g);break;case"together":wp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ai(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),Os|=a.lanes,!(o&a.childLanes))if(i!==null){if(ku(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=Ds(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Ds(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function bp(i,a){return i.lanes&a?!0:(i=i.dependencies,!!(i!==null&&af(i)))}function KC(i,a,o){switch(a.tag){case 3:ts(a,a.stateNode.containerInfo),ws(a,kt,i.memoizedState.cache),bu();break;case 27:case 5:Jl(a);break;case 4:ts(a,a.stateNode.containerInfo);break;case 10:ws(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ys(a),a.flags|=128,null):o&a.child.childLanes?oT(i,a,o):(ys(a),i=Ai(i,a,o),i!==null?i.sibling:null);ys(a);break;case 19:var m=(i.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(ku(i,a,o,!1),c=(o&a.childLanes)!==0),m){if(c)return uT(i,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(Pt,Pt.current),c)break;return null;case 22:case 23:return a.lanes=0,nT(i,a,o);case 24:ws(a,kt,i.memoizedState.cache)}return Ai(i,a,o)}function cT(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)qt=!0;else{if(!bp(i,o)&&!(a.flags&128))return qt=!1,KC(i,a,o);qt=!!(i.flags&131072)}else qt=!1,Ge&&a.flags&1048576&&Kv(a,qh,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")Lp(c)?(i=Ua(c,i),a.tag=1,a=sT(null,a,c,i,o)):(a.tag=0,a=pp(null,a,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===R){a.tag=11,a=J0(null,a,c,i,o);break e}else if(m===k){a.tag=14,a=eT(null,a,c,i,o);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return pp(i,a,a.type,a.pendingProps,o);case 1:return c=a.type,m=Ua(c,a.pendingProps),sT(i,a,c,m,o);case 3:e:{if(ts(a,a.stateNode.containerInfo),i===null)throw Error(r(387));var g=a.pendingProps;m=a.memoizedState,c=m.element,Ip(i,a),Uu(a,g,null,o);var E=a.memoizedState;if(g=E.cache,ws(a,kt,g),g!==m.cache&&Rp(a,[kt],o,!0),Lu(),g=E.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=aT(i,a,g,o);break e}else if(g!==c){c=er(Error(r(424)),a),Su(c),a=aT(i,a,g,o);break e}else for(Kt=vr(a.stateNode.containerInfo.firstChild),yn=a,Ge=!0,_r=null,zr=!0,o=r0(a,null,g,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(bu(),g===c){a=Ai(i,a,o);break e}$t(i,a,g,o)}a=a.child}return a;case 26:return Pu(i,a),i===null?(o=dE(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ge||(o=a.type,i=a.pendingProps,c=wf(Yn.current).createElement(o),c[zt]=a,c[xt]=i,Xt(c,o,i),st(c),a.stateNode=c):a.memoizedState=dE(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Jl(a),i===null&&Ge&&(c=a.stateNode=cE(a.type,a.pendingProps,Yn.current),yn=a,zr=!0,Kt=vr(c.firstChild)),c=a.pendingProps.children,i!==null||Ge?$t(i,a,c,o):a.child=Na(a,null,c,o),Pu(i,a),a.child;case 5:return i===null&&Ge&&((m=c=Kt)&&(c=SI(c,a.type,a.pendingProps,zr),c!==null?(a.stateNode=c,yn=a,Kt=vr(c.firstChild),zr=!1,m=!0):m=!1),m||Ma(a)),Jl(a),m=a.type,g=a.pendingProps,E=i!==null?i.memoizedProps:null,c=g.children,ug(m,g)?c=null:E!==null&&ug(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=Wm(i,a,jC,null,null,o),Ju._currentValue=m),Pu(i,a),$t(i,a,c,o),a.child;case 6:return i===null&&Ge&&((i=o=Kt)&&(o=AI(o,a.pendingProps,zr),o!==null?(a.stateNode=o,yn=a,Kt=null,i=!0):i=!1),i||Ma(a)),null;case 13:return oT(i,a,o);case 4:return ts(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Na(a,null,c,o):$t(i,a,c,o),a.child;case 11:return J0(i,a,a.type,a.pendingProps,o);case 7:return $t(i,a,a.pendingProps,o),a.child;case 8:return $t(i,a,a.pendingProps.children,o),a.child;case 12:return $t(i,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,ws(a,a.type,c.value),$t(i,a,c.children,o),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Ba(a),m=rn(m),c=c(m),a.flags|=1,$t(i,a,c,o),a.child;case 14:return eT(i,a,a.type,a.pendingProps,o);case 15:return tT(i,a,a.type,a.pendingProps,o);case 19:return uT(i,a,o);case 22:return nT(i,a,o);case 24:return Ba(a),c=rn(kt),i===null?(m=$m(),m===null&&(m=tt,g=Qm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),a.memoizedState={parent:c,cache:m},Cp(a),ws(a,kt,m)):(i.lanes&o&&(Ip(i,a),Uu(a,null,null,o),Lu()),m=i.memoizedState,g=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ws(a,kt,c)):(c=g.cache,ws(a,kt,c),c!==m.cache&&Rp(a,[kt],o,!0))),$t(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var Sp=Fe(null),za=null,Ri=null;function ws(i,a,o){$e(Sp,a._currentValue),a._currentValue=o}function Ci(i){i._currentValue=Sp.current,ft(Sp)}function Ap(i,a,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===o)break;i=i.return}}function Rp(i,a,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=m;for(var P=0;P<a.length;P++)if(I.context===a[P]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Ap(g.return,o,i),c||(E=null);break e}g=I.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Ap(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function ku(i,a,o,c){i=null;for(var m=a,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var I=m.type;Nn(m.pendingProps.value,E.value)||(i!==null?i.push(I):i=[I])}}else if(m===es.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Ju):i=[Ju])}m=m.return}i!==null&&Rp(a,i,o,c),a.flags|=262144}function af(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ba(i){za=i,Ri=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return hT(za,i)}function of(i,a){return za===null&&Ba(i),hT(i,a)}function hT(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ri===null){if(i===null)throw Error(r(308));Ri=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ri=Ri.next=a;return o}var bs=!1;function Cp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ip(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function As(i,a,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,ot&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Bh(i),Yv(i,null,o),a}return zh(i,c,a,o),Bh(i)}function Vu(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194176)!==0)){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,os(i,o)}}function Dp(i,a){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?m=g=a:g=g.next=a}else m=g=a;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var Op=!1;function Lu(){if(Op){var i=Wo;if(i!==null)throw i}}function Uu(i,a,o,c){Op=!1;var m=i.updateQueue;bs=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var P=I,F=P.next;P.next=null,E===null?g=F:E.next=F,E=P;var J=i.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==E&&(I===null?J.firstBaseUpdate=F:I.next=F,J.lastBaseUpdate=P))}if(g!==null){var ie=m.baseState;E=0,J=F=P=null,I=g;do{var K=I.lane&-536870913,Z=K!==I.lane;if(Z?(je&K)===K:(c&K)===K){K!==0&&K===Xo&&(Op=!0),J!==null&&(J=J.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ge=i,Se=I;K=a;var gt=o;switch(Se.tag){case 1:if(ge=Se.payload,typeof ge=="function"){ie=ge.call(gt,ie,K);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Se.payload,K=typeof ge=="function"?ge.call(gt,ie,K):ge,K==null)break e;ie=M({},ie,K);break e;case 2:bs=!0}}K=I.callback,K!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(F=J=Z,P=ie):J=J.next=Z,E|=K;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);J===null&&(P=ie),m.baseState=P,m.firstBaseUpdate=F,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),Os|=E,i.lanes=E,i.memoizedState=ie}}function fT(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function dT(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)fT(o[i],a)}function zu(i,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==m)}}catch(I){Je(a,a.return,I)}}function Rs(i,a,o){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var E=c.inst,I=E.destroy;if(I!==void 0){E.destroy=void 0,m=a;var P=o;try{I()}catch(F){Je(m,P,F)}}}c=c.next}while(c!==g)}}catch(F){Je(a,a.return,F)}}function mT(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{dT(a,o)}catch(c){Je(i,i.return,c)}}}function pT(i,a,o){o.props=Ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,a,c)}}function ja(i,a){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof o=="function"?i.refCleanup=o(m):o.current=m}}catch(g){Je(i,a,g)}}function Pn(i,a){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Je(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,a,m)}else o.current=null}function gT(i){var a=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function _T(i,a,o){try{var c=i.stateNode;vI(c,i.type,o,a),c[xt]=a}catch(m){Je(i,i.return,m)}}function yT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mp(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(i,a):o.insertBefore(i,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(i,o)):(a=o,a.appendChild(i)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Ef));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Mp(i,a,o),i=i.sibling;i!==null;)Mp(i,a,o),i=i.sibling}function lf(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(lf(i,a,o),i=i.sibling;i!==null;)lf(i,a,o),i=i.sibling}var Ii=!1,mt=!1,Np=!1,vT=typeof WeakSet=="function"?WeakSet:Set,Ft=null,TT=!1;function $C(i,a){if(i=i.containerInfo,og=If,i=Lv(i),km(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,I=-1,P=-1,F=0,J=0,ie=i,K=null;t:for(;;){for(var Z;ie!==o||m!==0&&ie.nodeType!==3||(I=E+m),ie!==g||c!==0&&ie.nodeType!==3||(P=E+c),ie.nodeType===3&&(E+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)K=ie,ie=Z;for(;;){if(ie===i)break t;if(K===o&&++F===m&&(I=E),K===g&&++J===c&&(P=E),(Z=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=Z}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(lg={focusedElem:i,selectionRange:o},If=!1,Ft=a;Ft!==null;)if(a=Ft,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ft=i;else for(;Ft!==null;){switch(a=Ft,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,o=a,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ge=Ua(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Se){Je(o,o.return,Se)}}break;case 3:if(i&1024){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)fg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Ft=i;break}Ft=a.return}return ge=TT,TT=!1,ge}function ET(i,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(i,o),c&4&&zu(5,o);break;case 1:if(Oi(i,o),c&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(I){Je(o,o.return,I)}else{var m=Ua(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Je(o,o.return,I)}}c&64&&mT(o),c&512&&ja(o,o.return);break;case 3:if(Oi(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{dT(c,i)}catch(I){Je(o,o.return,I)}}break;case 26:Oi(i,o),c&512&&ja(o,o.return);break;case 27:case 5:Oi(i,o),a===null&&c&4&&gT(o),c&512&&ja(o,o.return);break;case 12:Oi(i,o);break;case 13:Oi(i,o),c&4&&ST(i,o);break;case 22:if(m=o.memoizedState!==null||Ii,!m){a=a!==null&&a.memoizedState!==null||mt;var g=Ii,E=mt;Ii=m,(mt=a)&&!E?Cs(i,o,(o.subtreeFlags&8772)!==0):Oi(i,o),Ii=g,mt=E}c&512&&(o.memoizedProps.mode==="manual"?ja(o,o.return):Pn(o,o.return));break;default:Oi(i,o)}}function wT(i){var a=i.alternate;a!==null&&(i.alternate=null,wT(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&_a(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var At=null,kn=!1;function Di(i,a,o){for(o=o.child;o!==null;)bT(i,a,o),o=o.sibling}function bT(i,a,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ns,o)}catch{}switch(o.tag){case 26:mt||Pn(o,a),Di(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mt||Pn(o,a);var c=At,m=kn;for(At=o.stateNode,Di(i,a,o),o=o.stateNode,a=o.attributes;a.length;)o.removeAttributeNode(a[0]);_a(o),At=c,kn=m;break;case 5:mt||Pn(o,a);case 6:m=At;var g=kn;if(At=null,Di(i,a,o),At=m,kn=g,At!==null)if(kn)try{i=At,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(E){Je(o,a,E)}else try{At.removeChild(o.stateNode)}catch(E){Je(o,a,E)}break;case 18:At!==null&&(kn?(a=At,o=o.stateNode,a.nodeType===8?hg(a.parentNode,o):a.nodeType===1&&hg(a,o),rc(a)):hg(At,o.stateNode));break;case 4:c=At,m=kn,At=o.stateNode.containerInfo,kn=!0,Di(i,a,o),At=c,kn=m;break;case 0:case 11:case 14:case 15:mt||Rs(2,o,a),mt||Rs(4,o,a),Di(i,a,o);break;case 1:mt||(Pn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&pT(o,a,c)),Di(i,a,o);break;case 21:Di(i,a,o);break;case 22:mt||Pn(o,a),mt=(c=mt)||o.memoizedState!==null,Di(i,a,o),mt=c;break;default:Di(i,a,o)}}function ST(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rc(i)}catch(o){Je(a,a.return,o)}}function XC(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new vT),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new vT),a;default:throw Error(r(435,i.tag))}}function Pp(i,a){var o=XC(i);a.forEach(function(c){var m=uI.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function ir(i,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,E=a,I=E;e:for(;I!==null;){switch(I.tag){case 27:case 5:At=I.stateNode,kn=!1;break e;case 3:At=I.stateNode.containerInfo,kn=!0;break e;case 4:At=I.stateNode.containerInfo,kn=!0;break e}I=I.return}if(At===null)throw Error(r(160));bT(g,E,m),At=null,kn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)AT(a,i),a=a.sibling}var yr=null;function AT(i,a){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ir(a,i),sr(i),c&4&&(Rs(3,i,i.return),zu(3,i),Rs(5,i,i.return));break;case 1:ir(a,i),sr(i),c&512&&(mt||o===null||Pn(o,o.return)),c&64&&Ii&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=yr;if(ir(a,i),sr(i),c&512&&(mt||o===null||Pn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[us]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Xt(g,c,o),g[zt]=i,st(g),c=g;break e;case"link":var E=gE("link","href",m).get(c+(o.href||""));if(E){for(var I=0;I<E.length;I++)if(g=E[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(I,1);break t}}g=m.createElement(c),Xt(g,c,o),m.head.appendChild(g);break;case"meta":if(E=gE("meta","content",m).get(c+(o.content||""))){for(I=0;I<E.length;I++)if(g=E[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(I,1);break t}}g=m.createElement(c),Xt(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[zt]=i,st(g),c=g}i.stateNode=c}else _E(m,i.type,i.stateNode);else i.stateNode=pE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?_E(m,i.type,i.stateNode):pE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&_T(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){m=i.stateNode,g=i.memoizedProps;try{for(var P=m.firstChild;P;){var F=P.nextSibling,J=P.nodeName;P[us]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&P.rel.toLowerCase()==="stylesheet"||m.removeChild(P),P=F}for(var ie=i.type,K=m.attributes;K.length;)m.removeAttributeNode(K[0]);Xt(m,ie,g),m[zt]=i,m[xt]=g}catch(ge){Je(i,i.return,ge)}}case 5:if(ir(a,i),sr(i),c&512&&(mt||o===null||Pn(o,o.return)),i.flags&32){m=i.stateNode;try{$n(m,"")}catch(ge){Je(i,i.return,ge)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,_T(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Np=!0);break;case 6:if(ir(a,i),sr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ge){Je(i,i.return,ge)}}break;case 3:if(Af=null,m=yr,yr=bf(a.containerInfo),ir(a,i),yr=m,sr(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{rc(a.containerInfo)}catch(ge){Je(i,i.return,ge)}Np&&(Np=!1,RT(i));break;case 4:c=yr,yr=bf(i.stateNode.containerInfo),ir(a,i),sr(i),yr=c;break;case 12:ir(a,i),sr(i);break;case 13:ir(a,i),sr(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fp=En()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pp(i,c)));break;case 22:if(c&512&&(mt||o===null||Pn(o,o.return)),P=i.memoizedState!==null,F=o!==null&&o.memoizedState!==null,J=Ii,ie=mt,Ii=J||P,mt=ie||F,ir(a,i),mt=ie,Ii=J,sr(i),a=i.stateNode,a._current=i,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=P?a._visibility&-2:a._visibility|1,P&&(a=Ii||mt,o===null||F||a||tl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,a=i;;){if(a.tag===5||a.tag===26||a.tag===27){if(o===null){F=o=a;try{if(m=F.stateNode,P)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=F.stateNode,I=F.memoizedProps.style;var Z=I!=null&&I.hasOwnProperty("display")?I.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ge){Je(F,F.return,ge)}}}else if(a.tag===6){if(o===null){F=a;try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(ge){Je(F,F.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Pp(i,o))));break;case 19:ir(a,i),sr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pp(i,c)));break;case 21:break;default:ir(a,i),sr(i)}}function sr(i){var a=i.flags;if(a&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(yT(o)){var c=o;break e}o=o.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,g=xp(i);lf(i,g,m);break;case 5:var E=c.stateNode;c.flags&32&&($n(E,""),c.flags&=-33);var I=xp(i);lf(i,I,E);break;case 3:case 4:var P=c.stateNode.containerInfo,F=xp(i);Mp(i,F,P);break;default:throw Error(r(161))}}}catch(J){Je(i,i.return,J)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function RT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;RT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Oi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ET(i,a.alternate,a),a=a.sibling}function tl(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Rs(4,a,a.return),tl(a);break;case 1:Pn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&pT(a,a.return,o),tl(a);break;case 26:case 27:case 5:Pn(a,a.return),tl(a);break;case 22:Pn(a,a.return),a.memoizedState===null&&tl(a);break;default:tl(a)}i=i.sibling}}function Cs(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,g=a,E=g.flags;switch(g.tag){case 0:case 11:case 15:Cs(m,g,o),zu(4,g);break;case 1:if(Cs(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(F){Je(c,c.return,F)}if(c=g,m=c.updateQueue,m!==null){var I=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)fT(P[m],I)}catch(F){Je(c,c.return,F)}}o&&E&64&&mT(g),ja(g,g.return);break;case 26:case 27:case 5:Cs(m,g,o),o&&c===null&&E&4&&gT(g),ja(g,g.return);break;case 12:Cs(m,g,o);break;case 13:Cs(m,g,o),o&&E&4&&ST(m,g);break;case 22:g.memoizedState===null&&Cs(m,g,o),ja(g,g.return);break;default:Cs(m,g,o)}a=a.sibling}}function kp(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Du(o))}function Vp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Du(i))}function Is(i,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)CT(i,a,o,c),a=a.sibling}function CT(i,a,o,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Is(i,a,o,c),m&2048&&zu(9,a);break;case 3:Is(i,a,o,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Du(i)));break;case 12:if(m&2048){Is(i,a,o,c),i=a.stateNode;try{var g=a.memoizedProps,E=g.id,I=g.onPostCommit;typeof I=="function"&&I(E,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Je(a,a.return,P)}}else Is(i,a,o,c);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?Is(i,a,o,c):Bu(i,a):g._visibility&4?Is(i,a,o,c):(g._visibility|=4,nl(i,a,o,c,(a.subtreeFlags&10256)!==0)),m&2048&&kp(a.alternate,a);break;case 24:Is(i,a,o,c),m&2048&&Vp(a.alternate,a);break;default:Is(i,a,o,c)}}function nl(i,a,o,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,E=a,I=o,P=c,F=E.flags;switch(E.tag){case 0:case 11:case 15:nl(g,E,I,P,m),zu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&4?nl(g,E,I,P,m):Bu(g,E):(J._visibility|=4,nl(g,E,I,P,m)),m&&F&2048&&kp(E.alternate,E);break;case 24:nl(g,E,I,P,m),m&&F&2048&&Vp(E.alternate,E);break;default:nl(g,E,I,P,m)}a=a.sibling}}function Bu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,c=a,m=c.flags;switch(c.tag){case 22:Bu(o,c),m&2048&&kp(c.alternate,c);break;case 24:Bu(o,c),m&2048&&Vp(c.alternate,c);break;default:Bu(o,c)}a=a.sibling}}var ju=8192;function rl(i){if(i.subtreeFlags&ju)for(i=i.child;i!==null;)IT(i),i=i.sibling}function IT(i){switch(i.tag){case 26:rl(i),i.flags&ju&&i.memoizedState!==null&&UI(yr,i.memoizedState,i.memoizedProps);break;case 5:rl(i);break;case 3:case 4:var a=yr;yr=bf(i.stateNode.containerInfo),rl(i),yr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ju,ju=16777216,rl(i),ju=a):rl(i));break;default:rl(i)}}function DT(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function qu(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Ft=c,xT(c,i)}DT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)OT(i),i=i.sibling}function OT(i){switch(i.tag){case 0:case 11:case 15:qu(i),i.flags&2048&&Rs(9,i,i.return);break;case 3:qu(i);break;case 12:qu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&4&&(i.return===null||i.return.tag!==13)?(a._visibility&=-5,uf(i)):qu(i);break;default:qu(i)}}function uf(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Ft=c,xT(c,i)}DT(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Rs(8,a,a.return),uf(a);break;case 22:o=a.stateNode,o._visibility&4&&(o._visibility&=-5,uf(a));break;default:uf(a)}i=i.sibling}}function xT(i,a){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Rs(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Du(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ft=c;else e:for(o=i;Ft!==null;){c=Ft;var m=c.sibling,g=c.return;if(wT(c),c===o){Ft=null;break e}if(m!==null){m.return=g,Ft=m;break e}Ft=g}}}function WC(i,a,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(i,a,o,c){return new WC(i,a,o,c)}function Lp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ds(i,a){var o=i.alternate;return o===null?(o=ar(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function MT(i,a){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function cf(i,a,o,c,m,g){var E=0;if(c=i,typeof i=="function")Lp(i)&&(E=1);else if(typeof i=="string")E=VI(i,o,mn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return qa(o.children,m,g,a);case p:E=8,m|=24;break;case _:return i=ar(12,o,a,m|2),i.elementType=_,i.lanes=g,i;case S:return i=ar(13,o,a,m),i.elementType=S,i.lanes=g,i;case D:return i=ar(19,o,a,m),i.elementType=D,i.lanes=g,i;case V:return NT(o,m,g,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case b:E=10;break e;case w:E=9;break e;case R:E=11;break e;case k:E=14;break e;case L:E=16,c=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=ar(E,o,a,m),a.elementType=i,a.type=c,a.lanes=g,a}function qa(i,a,o,c){return i=ar(7,i,c,a),i.lanes=o,i}function NT(i,a,o,c){i=ar(22,i,c,a),i.elementType=V,i.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var E=_s(g,2);E!==null&&(m._pendingVisibility|=2,vn(E,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(r(456));if(m._pendingVisibility&2){var E=_s(g,2);E!==null&&(m._pendingVisibility&=-3,vn(E,g,2))}}};return i.stateNode=m,i}function Up(i,a,o){return i=ar(6,i,null,a),i.lanes=o,i}function zp(i,a,o){return a=ar(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function xi(i){i.flags|=4}function PT(i,a){if(a.type!=="stylesheet"||a.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!yE(a)){if(a=rr.current,a!==null&&((je&4194176)===je?Br!==null:(je&62914560)!==je&&!(je&536870912)||a!==Br))throw Ru=Hm,Wv;i.flags|=8192}}function hf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ss():536870912,i.lanes|=a,sl|=a)}function Fu(i,a){if(!Ge)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function at(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(a)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,a}function ZC(i,a,o){var c=a.pendingProps;switch(qm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(a),null;case 1:return at(a),null;case 3:return o=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ci(kt),ci(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(wu(a)?xi(a):i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,_r!==null&&(Qp(_r),_r=null))),at(a),null;case 26:return o=a.memoizedState,i===null?(xi(a),o!==null?(at(a),PT(a,o)):(at(a),a.flags&=-16777217)):o?o!==i.memoizedState?(xi(a),at(a),PT(a,o)):(at(a),a.flags&=-16777217):(i.memoizedProps!==c&&xi(a),at(a),a.flags&=-16777217),null;case 27:So(a),o=Yn.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&xi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return at(a),null}i=mn.current,wu(a)?$v(a):(i=cE(m,c,o),a.stateNode=i,xi(a))}return at(a),null;case 5:if(So(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&xi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return at(a),null}if(i=mn.current,wu(a))$v(a);else{switch(m=wf(Yn.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[zt]=a,i[xt]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Xt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&xi(a)}}return at(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&xi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Yn.current,wu(a)){if(i=a.stateNode,o=a.memoizedProps,c=null,m=yn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[zt]=a,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||iE(i.nodeValue,o)),i||Ma(a)}else i=wf(i).createTextNode(c),i[zt]=a,a.stateNode=i}return at(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=wu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[zt]=a}else bu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;at(a),m=!1}else _r!==null&&(Qp(_r),_r=null),m=!0;if(!m)return a.flags&256?(bi(a),a):(bi(a),null)}if(bi(a),a.flags&128)return a.lanes=o,a;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),hf(a,a.updateQueue),at(a),null;case 4:return ci(),i===null&&ig(a.stateNode.containerInfo),at(a),null;case 10:return Ci(a.type),at(a),null;case 19:if(ft(Pt),m=a.memoizedState,m===null)return at(a),null;if(c=(a.flags&128)!==0,g=m.rendering,g===null)if(c)Fu(m,!1);else{if(pt!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(g=Qh(i),g!==null){for(a.flags|=128,Fu(m,!1),i=g.updateQueue,a.updateQueue=i,hf(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)MT(o,i),o=o.sibling;return $e(Pt,Pt.current&1|2),a.child}i=i.sibling}m.tail!==null&&En()>ff&&(a.flags|=128,c=!0,Fu(m,!1),a.lanes=4194304)}else{if(!c)if(i=Qh(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,hf(a,i),Fu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Ge)return at(a),null}else 2*En()-m.renderingStartTime>ff&&o!==536870912&&(a.flags|=128,c=!0,Fu(m,!1),a.lanes=4194304);m.isBackwards?(g.sibling=a.child,a.child=g):(i=m.last,i!==null?i.sibling=g:a.child=g,m.last=g)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=En(),a.sibling=null,i=Pt.current,$e(Pt,c?i&1|2:i&1),a):(at(a),null);case 22:case 23:return bi(a),Ym(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?o&536870912&&!(a.flags&128)&&(at(a),a.subtreeFlags&6&&(a.flags|=8192)):at(a),o=a.updateQueue,o!==null&&hf(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),i!==null&&ft(Pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ci(kt),at(a),null;case 25:return null}throw Error(r(156,a.tag))}function JC(i,a){switch(qm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ci(kt),ci(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return So(a),null;case 13:if(bi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));bu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ft(Pt),null;case 4:return ci(),null;case 10:return Ci(a.type),null;case 22:case 23:return bi(a),Ym(),i!==null&&ft(Pa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ci(kt),null;case 25:return null;default:return null}}function kT(i,a){switch(qm(a),a.tag){case 3:Ci(kt),ci();break;case 26:case 27:case 5:So(a);break;case 4:ci();break;case 13:bi(a);break;case 19:ft(Pt);break;case 10:Ci(a.type);break;case 22:case 23:bi(a),Ym(),i!==null&&ft(Pa);break;case 24:Ci(kt)}}var eI={getCacheForType:function(i){var a=rn(kt),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},tI=typeof WeakMap=="function"?WeakMap:Map,ot=0,tt=null,Me=null,je=0,nt=0,Vn=null,Mi=!1,il=!1,Bp=!1,Ni=0,pt=0,Os=0,Fa=0,jp=0,or=0,sl=0,Hu=null,qr=null,qp=!1,Fp=0,ff=1/0,df=null,xs=null,mf=!1,Ha=null,Gu=0,Hp=0,Gp=null,Yu=0,Yp=null;function Ln(){if(ot&2&&je!==0)return je&-je;if(A.T!==null){var i=Xo;return i!==0?i:eg()}return vh()}function VT(){or===0&&(or=!(je&536870912)||Ge?iu():536870912);var i=rr.current;return i!==null&&(i.flags|=32),or}function vn(i,a,o){(i===tt&&nt===2||i.cancelPendingCommit!==null)&&(al(i,0),Pi(i,je,or,!1)),yt(i,o),(!(ot&2)||i!==tt)&&(i===tt&&(!(ot&2)&&(Fa|=o),pt===4&&Pi(i,je,or,!1)),Fr(i))}function LT(i,a,o){if(ot&6)throw Error(r(327));var c=!o&&(a&60)===0&&(a&i.expiredLanes)===0||is(i,a),m=c?iI(i,a):Xp(i,a,!0),g=c;do{if(m===0){il&&!c&&Pi(i,a,0,!1);break}else if(m===6)Pi(i,a,0,!Mi);else{if(o=i.current.alternate,g&&!nI(o)){m=Xp(i,a,!1),g=!1;continue}if(m===2){if(g=a,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var I=i;m=Hu;var P=I.current.memoizedState.isDehydrated;if(P&&(al(I,E).flags|=256),E=Xp(I,E,!1),E!==2){if(Bp&&!P){I.errorRecoveryDisabledLanes|=g,Fa|=g,m=4;break e}g=qr,qr=m,g!==null&&Qp(g)}m=E}if(g=!1,m!==2)continue}}if(m===1){al(i,0),Pi(i,a,0,!0);break}e:{switch(c=i,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Pi(c,a,or,!Mi);break e}break;case 2:qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=o,c.finishedLanes=a,(a&62914560)===a&&(g=Fp+300-En(),10<g)){if(Pi(c,a,or,!Mi),Qn(c,0)!==0)break e;c.timeoutHandle=oE(UT.bind(null,c,o,qr,df,qp,a,or,Fa,sl,Mi,2,-0,0),g);break e}UT(c,o,qr,df,qp,a,or,Fa,sl,Mi,0,-0,0)}}break}while(!0);Fr(i)}function Qp(i){qr===null?qr=i:qr.push.apply(qr,i)}function UT(i,a,o,c,m,g,E,I,P,F,J,ie,K){var Z=a.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(Zu={stylesheets:null,count:0,unsuspend:LI},IT(a),a=zI(),a!==null)){i.cancelPendingCommit=a(GT.bind(null,i,o,c,m,E,I,P,1,ie,K)),Pi(i,g,E,!F);return}GT(i,o,c,m,E,I,P,J,ie,K)}function nI(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Nn(g(),m))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Pi(i,a,o,c){a&=~jp,a&=~Fa,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var g=31-pn(m),E=1<<g;c[g]=-1,m&=~E}o!==0&&as(i,o,a)}function pf(){return ot&6?!0:(Qu(0),!1)}function Kp(){if(Me!==null){if(nt===0)var i=Me.return;else i=Me,Ri=za=null,ep(i),Ko=null,Cu=0,i=Me;for(;i!==null;)kT(i.alternate,i),i=i.return;Me=null}}function al(i,a){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,EI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Kp(),tt=i,Me=o=Ds(i.current,null),je=a,nt=0,Vn=null,Mi=!1,il=is(i,a),Bp=!1,sl=or=jp=Fa=Os=pt=0,qr=Hu=null,qp=!1,a&8&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-pn(c),g=1<<m;a|=i[m],c&=~g}return Ni=a,Uh(),o}function zT(i,a){De=null,A.H=jr,a===Au?(a=e0(),nt=3):a===Wv?(a=e0(),nt=4):nt=a===Z0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vn=a,Me===null&&(pt=1,sf(i,er(a,i.current)))}function BT(){var i=A.H;return A.H=jr,i===null?jr:i}function jT(){var i=A.A;return A.A=eI,i}function $p(){pt=4,Mi||(je&4194176)!==je&&rr.current!==null||(il=!0),!(Os&134217727)&&!(Fa&134217727)||tt===null||Pi(tt,je,or,!1)}function Xp(i,a,o){var c=ot;ot|=2;var m=BT(),g=jT();(tt!==i||je!==a)&&(df=null,al(i,a)),a=!1;var E=pt;e:do try{if(nt!==0&&Me!==null){var I=Me,P=Vn;switch(nt){case 8:Kp(),E=6;break e;case 3:case 2:case 6:rr.current===null&&(a=!0);var F=nt;if(nt=0,Vn=null,ol(i,I,P,F),o&&il){E=0;break e}break;default:F=nt,nt=0,Vn=null,ol(i,I,P,F)}}rI(),E=pt;break}catch(J){zT(i,J)}while(!0);return a&&i.shellSuspendCounter++,Ri=za=null,ot=c,A.H=m,A.A=g,Me===null&&(tt=null,je=0,Uh()),E}function rI(){for(;Me!==null;)qT(Me)}function iI(i,a){var o=ot;ot|=2;var c=BT(),m=jT();tt!==i||je!==a?(df=null,ff=En()+500,al(i,a)):il=is(i,a);e:do try{if(nt!==0&&Me!==null){a=Me;var g=Vn;t:switch(nt){case 1:nt=0,Vn=null,ol(i,a,g,1);break;case 2:if(Zv(g)){nt=0,Vn=null,FT(a);break}a=function(){nt===2&&tt===i&&(nt=7),Fr(i)},g.then(a,a);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Zv(g)?(nt=0,Vn=null,FT(a)):(nt=0,Vn=null,ol(i,a,g,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var I=Me;if(!E||yE(E)){nt=0,Vn=null;var P=I.sibling;if(P!==null)Me=P;else{var F=I.return;F!==null?(Me=F,gf(F)):Me=null}break t}}nt=0,Vn=null,ol(i,a,g,5);break;case 6:nt=0,Vn=null,ol(i,a,g,6);break;case 8:Kp(),pt=6;break e;default:throw Error(r(462))}}sI();break}catch(J){zT(i,J)}while(!0);return Ri=za=null,A.H=c,A.A=m,ot=o,Me!==null?0:(tt=null,je=0,Uh(),pt)}function sI(){for(;Me!==null&&!Sm();)qT(Me)}function qT(i){var a=cT(i.alternate,i,Ni);i.memoizedProps=i.pendingProps,a===null?gf(i):Me=a}function FT(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=iT(o,a,a.pendingProps,a.type,void 0,je);break;case 11:a=iT(o,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:ep(a);default:kT(o,a),a=Me=MT(a,Ni),a=cT(o,a,Ni)}i.memoizedProps=i.pendingProps,a===null?gf(i):Me=a}function ol(i,a,o,c){Ri=za=null,ep(a),Ko=null,Cu=0;var m=a.return;try{if(QC(i,m,a,o,je)){pt=1,sf(i,er(o,i.current)),Me=null;return}}catch(g){if(m!==null)throw Me=m,g;pt=1,sf(i,er(o,i.current)),Me=null;return}a.flags&32768?(Ge||c===1?i=!0:il||je&536870912?i=!1:(Mi=i=!0,(c===2||c===3||c===6)&&(c=rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),HT(a,i)):gf(a)}function gf(i){var a=i;do{if(a.flags&32768){HT(a,Mi);return}i=a.return;var o=ZC(a.alternate,a,Ni);if(o!==null){Me=o;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=i}while(a!==null);pt===0&&(pt=5)}function HT(i,a){do{var o=JC(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);pt=6,Me=null}function GT(i,a,o,c,m,g,E,I,P,F){var J=A.T,ie=le.p;try{le.p=2,A.T=null,aI(i,a,o,c,ie,m,g,E,I,P,F)}finally{A.T=J,le.p=ie}}function aI(i,a,o,c,m,g,E,I){do ll();while(Ha!==null);if(ot&6)throw Error(r(327));var P=i.finishedWork;if(c=i.finishedLanes,P===null)return null;if(i.finishedWork=null,i.finishedLanes=0,P===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var F=P.lanes|P.childLanes;if(F|=zm,_h(i,c,F,g,E,I),i===tt&&(Me=tt=null,je=0),!(P.subtreeFlags&10256)&&!(P.flags&10256)||mf||(mf=!0,Hp=F,Gp=o,cI(hi,function(){return ll(),null})),o=(P.flags&15990)!==0,P.subtreeFlags&15990||o?(o=A.T,A.T=null,g=le.p,le.p=2,E=ot,ot|=4,$C(i,P),AT(P,i),OC(lg,i.containerInfo),If=!!og,lg=og=null,i.current=P,ET(i,P.alternate,P),eu(),ot=E,le.p=g,A.T=o):i.current=P,mf?(mf=!1,Ha=i,Gu=c):YT(i,F),F=i.pendingLanes,F===0&&(xs=null),nu(P.stateNode),Fr(i),a!==null)for(m=i.onRecoverableError,P=0;P<a.length;P++)F=a[P],m(F.value,{componentStack:F.stack});return Gu&3&&ll(),F=i.pendingLanes,c&4194218&&F&42?i===Yp?Yu++:(Yu=0,Yp=i):Yu=0,Qu(0),null}function YT(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Du(a)))}function ll(){if(Ha!==null){var i=Ha,a=Hp;Hp=0;var o=yh(Gu),c=A.T,m=le.p;try{if(le.p=32>o?32:o,A.T=null,Ha===null)var g=!1;else{o=Gp,Gp=null;var E=Ha,I=Gu;if(Ha=null,Gu=0,ot&6)throw Error(r(331));var P=ot;if(ot|=4,OT(E.current),CT(E,E.current,I,o),ot=P,Qu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ns,E)}catch{}g=!0}return g}finally{le.p=m,A.T=c,YT(i,a)}}return!1}function QT(i,a,o){a=er(o,a),a=mp(i.stateNode,a,2),i=As(i,a,2),i!==null&&(yt(i,2),Fr(i))}function Je(i,a,o){if(i.tag===3)QT(i,i,o);else for(;a!==null;){if(a.tag===3){QT(a,i,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xs===null||!xs.has(c))){i=er(o,i),o=X0(2),c=As(a,o,2),c!==null&&(W0(o,c,a,i),yt(c,2),Fr(c));break}}a=a.return}}function Wp(i,a,o){var c=i.pingCache;if(c===null){c=i.pingCache=new tI;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(o)||(Bp=!0,m.add(o),i=oI.bind(null,i,a,o),a.then(i,i))}function oI(i,a,o){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,tt===i&&(je&o)===o&&(pt===4||pt===3&&(je&62914560)===je&&300>En()-Fp?!(ot&2)&&al(i,0):jp|=o,sl===je&&(sl=0)),Fr(i)}function KT(i,a){a===0&&(a=ss()),i=_s(i,a),i!==null&&(yt(i,a),Fr(i))}function lI(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),KT(i,o)}function uI(i,a){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),KT(i,o)}function cI(i,a){return ma(i,a)}var _f=null,ul=null,Zp=!1,yf=!1,Jp=!1,Ga=0;function Fr(i){i!==ul&&i.next===null&&(ul===null?_f=ul=i:ul=ul.next=i),yf=!0,Zp||(Zp=!0,fI(hI))}function Qu(i,a){if(!Jp&&yf){Jp=!0;do for(var o=!1,c=_f;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var E=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-pn(42|i)+1)-1,g&=m&~(E&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,WT(c,g))}else g=je,g=Qn(c,c===tt?g:0),!(g&3)||is(c,g)||(o=!0,WT(c,g));c=c.next}while(o);Jp=!1}}function hI(){yf=Zp=!1;var i=0;Ga!==0&&(TI()&&(i=Ga),Ga=0);for(var a=En(),o=null,c=_f;c!==null;){var m=c.next,g=$T(c,a);g===0?(c.next=null,o===null?_f=m:o.next=m,m===null&&(ul=o)):(o=c,(i!==0||g&3)&&(yf=!0)),c=m}Qu(i)}function $T(i,a){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-pn(g),I=1<<E,P=m[E];P===-1?(!(I&o)||I&c)&&(m[E]=Co(I,a)):P<=a&&(i.expiredLanes|=I),g&=~I}if(a=tt,o=je,o=Qn(i,i===a?o:0),c=i.callbackNode,o===0||i===a&&nt===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ro(c),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||is(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(c!==null&&Ro(c),yh(o)){case 2:case 8:o=Ut;break;case 32:o=hi;break;case 268435456:o=tu;break;default:o=hi}return c=XT.bind(null,i),o=ma(o,c),i.callbackPriority=a,i.callbackNode=o,a}return c!==null&&c!==null&&Ro(c),i.callbackPriority=2,i.callbackNode=null,2}function XT(i,a){var o=i.callbackNode;if(ll()&&i.callbackNode!==o)return null;var c=je;return c=Qn(i,i===tt?c:0),c===0?null:(LT(i,c,a),$T(i,En()),i.callbackNode!=null&&i.callbackNode===o?XT.bind(null,i):null)}function WT(i,a){if(ll())return null;LT(i,a,!0)}function fI(i){wI(function(){ot&6?ma(Ot,i):i()})}function eg(){return Ga===0&&(Ga=iu()),Ga}function ZT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Mr(""+i)}function JT(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function dI(i,a,o,c,m){if(a==="submit"&&o&&o.stateNode===m){var g=ZT((m[xt]||null).action),E=c.submitter;E&&(a=(a=E[xt]||null)?ZT(a.formAction):E.getAttribute("formAction"),a!==null&&(g=a,E=null));var I=new Po("action","action",null,c,m);i.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ga!==0){var P=E?JT(m,E):new FormData(m);up(o,{pending:!0,data:P,method:m.method,action:g},null,P)}}else typeof g=="function"&&(I.preventDefault(),P=E?JT(m,E):new FormData(m),up(o,{pending:!0,data:P,method:m.method,action:g},g,P))},currentTarget:m}]})}}for(var tg=0;tg<Gv.length;tg++){var ng=Gv[tg],mI=ng.toLowerCase(),pI=ng[0].toUpperCase()+ng.slice(1);gr(mI,"on"+pI)}gr(Bv,"onAnimationEnd"),gr(jv,"onAnimationIteration"),gr(qv,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(MC,"onTransitionRun"),gr(NC,"onTransitionStart"),gr(PC,"onTransitionCancel"),gr(Fv,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function eE(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var E=c.length-1;0<=E;E--){var I=c[E],P=I.instance,F=I.currentTarget;if(I=I.listener,P!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=F;try{g(m)}catch(J){rf(J)}m.currentTarget=null,g=P}else for(E=0;E<c.length;E++){if(I=c[E],P=I.instance,F=I.currentTarget,I=I.listener,P!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=F;try{g(m)}catch(J){rf(J)}m.currentTarget=null,g=P}}}}function Ve(i,a){var o=a[ga];o===void 0&&(o=a[ga]=new Set);var c=i+"__bubble";o.has(c)||(tE(a,i,2,!1),o.add(c))}function rg(i,a,o){var c=0;a&&(c|=4),tE(o,i,c,a)}var vf="_reactListening"+Math.random().toString(36).slice(2);function ig(i){if(!i[vf]){i[vf]=!0,au.forEach(function(o){o!=="selectionchange"&&(gI.has(o)||rg(o,!1,i),rg(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[vf]||(a[vf]=!0,rg("selectionchange",!1,a))}}function tE(i,a,o,c){switch(SE(a)){case 2:var m=qI;break;case 8:m=FI;break;default:m=_g}o=m.bind(null,a,o,i),m=void 0,!Wn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,o,{capture:!0,passive:m}):i.addEventListener(a,o,!0):m!==void 0?i.addEventListener(a,o,{passive:m}):i.addEventListener(a,o,!1)}function sg(i,a,o,c,m){var g=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var I=c.stateNode.containerInfo;if(I===m||I.nodeType===8&&I.parentNode===m)break;if(E===4)for(E=c.return;E!==null;){var P=E.tag;if((P===3||P===4)&&(P=E.stateNode.containerInfo,P===m||P.nodeType===8&&P.parentNode===m))return;E=E.return}for(;I!==null;){if(E=pr(I),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){c=g=E;continue e}I=I.parentNode}}c=c.return}bh(function(){var F=g,J=No(o),ie=[];e:{var K=Hv.get(i);if(K!==void 0){var Z=Po,ge=i;switch(i){case"keypress":if(Pr(o)===0)break e;case"keydown":case"keyup":Z=Bo;break;case"focusin":ge="focus",Z=Lo;break;case"focusout":ge="blur",Z=Lo;break;case"beforeblur":case"afterblur":Z=Lo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=xh;break;case Bv:case jv:case qv:Z=Uo;break;case Fv:Z=Nh;break;case"scroll":case"scrollend":Z=Sh;break;case"wheel":Z=jo;break;case"copy":case"cut":case"paste":Z=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=yu;break;case"toggle":case"beforetoggle":Z=kh}var Se=(a&4)!==0,gt=!Se&&(i==="scroll"||i==="scrollend"),G=Se?K!==null?K+"Capture":null:K;Se=[];for(var j=F,Q;j!==null;){var te=j;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||G===null||(te=Ea(j,G),te!=null&&Se.push($u(j,te,Q))),gt)break;j=j.return}0<Se.length&&(K=new Z(K,ge,null,o,J),ie.push({event:K,listeners:Se}))}}if(!(a&7)){e:{if(K=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",K&&o!==Xn&&(ge=o.relatedTarget||o.fromElement)&&(pr(ge)||ge[fi]))break e;if((Z||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(ge=o.relatedTarget||o.toElement,Z=F,ge=ge?pr(ge):null,ge!==null&&(gt=de(ge),Se=ge.tag,ge!==gt||Se!==5&&Se!==27&&Se!==6)&&(ge=null)):(Z=null,ge=F),Z!==ge)){if(Se=Zn,te="onMouseLeave",G="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Se=yu,te="onPointerLeave",G="onPointerEnter",j="pointer"),gt=Z==null?K:cs(Z),Q=ge==null?K:cs(ge),K=new Se(te,j+"leave",Z,o,J),K.target=gt,K.relatedTarget=Q,te=null,pr(J)===F&&(Se=new Se(G,j+"enter",ge,o,J),Se.target=Q,Se.relatedTarget=gt,te=Se),gt=te,Z&&ge)t:{for(Se=Z,G=ge,j=0,Q=Se;Q;Q=cl(Q))j++;for(Q=0,te=G;te;te=cl(te))Q++;for(;0<j-Q;)Se=cl(Se),j--;for(;0<Q-j;)G=cl(G),Q--;for(;j--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=cl(Se),G=cl(G)}Se=null}else Se=null;Z!==null&&nE(ie,K,Z,Se,!1),ge!==null&&gt!==null&&nE(ie,gt,ge,Se,!0)}}e:{if(K=F?cs(F):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var pe=Dv;else if(Nt(K))if(Ov)pe=IC;else{pe=RC;var Oe=AC}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&hu(F.elementType)&&(pe=Dv):pe=CC;if(pe&&(pe=pe(i,F))){Ti(ie,pe,o,J);break e}Oe&&Oe(i,K,F),i==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Mo(K,"number",K.value)}switch(Oe=F?cs(F):window,i){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(qo=Oe,Vm=F,Eu=null);break;case"focusout":Eu=Vm=qo=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Uv(ie,o,J);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":Uv(ie,o,J)}var _e;if(Lr)e:{switch(i){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ze?W(i,o)&&(ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(T&&o.locale!=="ko"&&(ze||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ze&&(_e=du()):(Nr=J,gs="value"in Nr?Nr.value:Nr.textContent,ze=!0)),Oe=Tf(F,ve),0<Oe.length&&(ve=new gu(ve,i,null,o,J),ie.push({event:ve,listeners:Oe}),_e?ve.data=_e:(_e=oe(o),_e!==null&&(ve.data=_e)))),(_e=y?Mt(i,o):Be(i,o))&&(ve=Tf(F,"onBeforeInput"),0<ve.length&&(Oe=new gu("onBeforeInput","beforeinput",null,o,J),ie.push({event:Oe,listeners:ve}),Oe.data=_e)),dI(ie,i,F,o,J)}eE(ie,a)})}function $u(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Tf(i,a){for(var o=a+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ea(i,o),m!=null&&c.unshift($u(i,m,g)),m=Ea(i,a),m!=null&&c.push($u(i,m,g))),i=i.return}return c}function cl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nE(i,a,o,c,m){for(var g=a._reactName,E=[];o!==null&&o!==c;){var I=o,P=I.alternate,F=I.stateNode;if(I=I.tag,P!==null&&P===c)break;I!==5&&I!==26&&I!==27||F===null||(P=F,m?(F=Ea(o,g),F!=null&&E.unshift($u(o,F,P))):m||(F=Ea(o,g),F!=null&&E.push($u(o,F,P)))),o=o.return}E.length!==0&&i.push({event:a,listeners:E})}var _I=/\r\n?/g,yI=/\u0000|\uFFFD/g;function rE(i){return(typeof i=="string"?i:""+i).replace(_I,`
`).replace(yI,"")}function iE(i,a){return a=rE(a),rE(i)===a}function Ef(){}function Ze(i,a,o,c,m,g){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||$n(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&$n(i,""+c);break;case"className":ds(i,"class",c);break;case"tabIndex":ds(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(i,o,c);break;case"style":wh(i,c,g);break;case"data":if(a!=="object"){ds(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Mr(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&Ze(i,a,"name",m.name,m,null),Ze(i,a,"formEncType",m.formEncType,m,null),Ze(i,a,"formMethod",m.formMethod,m,null),Ze(i,a,"formTarget",m.formTarget,m,null)):(Ze(i,a,"encType",m.encType,m,null),Ze(i,a,"method",m.method,m,null),Ze(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Mr(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ef);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Mr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),fs(i,"popover",c);break;case"xlinkActuate":Kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":fs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Dm.get(o)||o,fs(i,o,c))}}function ag(i,a,o,c,m,g){switch(o){case"style":wh(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?$n(i,c):(typeof c=="number"||typeof c=="bigint")&&$n(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),a=o.slice(2,m?o.length-7:void 0),g=i[xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(a,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):fs(i,o,c)}}}function Xt(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,g,E,o,null)}}m&&Ze(i,a,"srcSet",o.srcSet,o,null),c&&Ze(i,a,"src",o.src,o,null);return;case"input":Ve("invalid",i);var I=g=E=m=null,P=null,F=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":m=J;break;case"type":E=J;break;case"checked":P=J;break;case"defaultChecked":F=J;break;case"value":g=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:Ze(i,a,c,J,o,null)}}va(i,g,I,P,F,E,m,!1),ya(i);return;case"select":Ve("invalid",i),c=E=g=null;for(m in o)if(o.hasOwnProperty(m)&&(I=o[m],I!=null))switch(m){case"value":g=I;break;case"defaultValue":E=I;break;case"multiple":c=I;default:Ze(i,a,m,I,o,null)}a=g,o=E,i.multiple=!!c,a!=null?He(i,!!c,a,!1):o!=null&&He(i,!!c,o,!0);return;case"textarea":Ve("invalid",i),g=m=c=null;for(E in o)if(o.hasOwnProperty(E)&&(I=o[E],I!=null))switch(E){case"value":c=I;break;case"defaultValue":m=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ze(i,a,E,I,o,null)}ps(i,c,m,g),ya(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(c=o[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(i,a,P,c,o,null)}return;case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<Ku.length;c++)Ve(Ku[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,F,c,o,null)}return;default:if(hu(a)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&ag(i,a,J,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&Ze(i,a,I,c,o,null))}function vI(i,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,I=null,P=null,F=null,J=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=ie;default:c.hasOwnProperty(Z)||Ze(i,a,Z,null,c,ie)}}for(var K in c){var Z=c[K];if(ie=o[K],c.hasOwnProperty(K)&&(Z!=null||ie!=null))switch(K){case"type":g=Z;break;case"name":m=Z;break;case"checked":F=Z;break;case"defaultChecked":J=Z;break;case"value":E=Z;break;case"defaultValue":I=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:Z!==ie&&Ze(i,a,K,Z,c,ie)}}ms(i,E,I,P,F,J,g,m);return;case"select":Z=E=I=K=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":Z=P;default:c.hasOwnProperty(g)||Ze(i,a,g,null,c,P)}for(m in c)if(g=c[m],P=o[m],c.hasOwnProperty(m)&&(g!=null||P!=null))switch(m){case"value":K=g;break;case"defaultValue":I=g;break;case"multiple":E=g;default:g!==P&&Ze(i,a,m,g,c,P)}a=I,o=E,c=Z,K!=null?He(i,!!o,K,!1):!!c!=!!o&&(a!=null?He(i,!!o,a,!0):He(i,!!o,o?[]:"",!1));return;case"textarea":Z=K=null;for(I in o)if(m=o[I],o.hasOwnProperty(I)&&m!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ze(i,a,I,null,c,m)}for(E in c)if(m=c[E],g=o[E],c.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":K=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&Ze(i,a,E,m,c,g)}Ta(i,K,Z);return;case"option":for(var ge in o)if(K=o[ge],o.hasOwnProperty(ge)&&K!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:Ze(i,a,ge,null,c,K)}for(P in c)if(K=c[P],Z=o[P],c.hasOwnProperty(P)&&K!==Z&&(K!=null||Z!=null))switch(P){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(i,a,P,K,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!c.hasOwnProperty(Se)&&Ze(i,a,Se,null,c,K);for(F in c)if(K=c[F],Z=o[F],c.hasOwnProperty(F)&&K!==Z&&(K!=null||Z!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:Ze(i,a,F,K,c,Z)}return;default:if(hu(a)){for(var gt in o)K=o[gt],o.hasOwnProperty(gt)&&K!==void 0&&!c.hasOwnProperty(gt)&&ag(i,a,gt,void 0,c,K);for(J in c)K=c[J],Z=o[J],!c.hasOwnProperty(J)||K===Z||K===void 0&&Z===void 0||ag(i,a,J,K,c,Z);return}}for(var G in o)K=o[G],o.hasOwnProperty(G)&&K!=null&&!c.hasOwnProperty(G)&&Ze(i,a,G,null,c,K);for(ie in c)K=c[ie],Z=o[ie],!c.hasOwnProperty(ie)||K===Z||K==null&&Z==null||Ze(i,a,ie,K,c,Z)}var og=null,lg=null;function wf(i){return i.nodeType===9?i:i.ownerDocument}function sE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function ug(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cg=null;function TI(){var i=window.event;return i&&i.type==="popstate"?i===cg?!1:(cg=i,!0):(cg=null,!1)}var oE=typeof setTimeout=="function"?setTimeout:void 0,EI=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,wI=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(i){return lE.resolve(null).then(i).catch(bI)}:oE;function bI(i){setTimeout(function(){throw i})}function hg(i,a){var o=a,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){i.removeChild(m),rc(a);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);rc(a)}function fg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fg(o),_a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function SI(i,a,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[us])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=vr(i.nextSibling),i===null)break}return null}function AI(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vr(i.nextSibling),i===null))return null;return i}function vr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}function uE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function cE(i,a,o){switch(a=wf(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var lr=new Map,hE=new Set;function bf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ki=le.d;le.d={f:RI,r:CI,D:II,C:DI,L:OI,m:xI,X:NI,S:MI,M:PI};function RI(){var i=ki.f(),a=pf();return i||a}function CI(i){var a=di(i);a!==null&&a.tag===5&&a.type==="form"?U0(a):ki.r(i)}var hl=typeof document>"u"?null:document;function fE(i,a,o){var c=hl;if(c&&typeof a=="string"&&a){var m=dt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),hE.has(m)||(hE.add(m),i={rel:i,crossOrigin:o,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Xt(a,"link",i),st(a),c.head.appendChild(a)))}}function II(i){ki.D(i),fE("dns-prefetch",i,null)}function DI(i,a){ki.C(i,a),fE("preconnect",i,a)}function OI(i,a,o){ki.L(i,a,o);var c=hl;if(c&&i&&a){var m='link[rel="preload"][as="'+dt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+dt(o.imageSizes)+'"]')):m+='[href="'+dt(i)+'"]';var g=m;switch(a){case"style":g=fl(i);break;case"script":g=dl(i)}lr.has(g)||(i=M({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),lr.set(g,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(Xu(g))||a==="script"&&c.querySelector(Wu(g))||(a=c.createElement("link"),Xt(a,"link",i),st(a),c.head.appendChild(a)))}}function xI(i,a){ki.m(i,a);var o=hl;if(o&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+dt(c)+'"][href="'+dt(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=dl(i)}if(!lr.has(g)&&(i=M({rel:"modulepreload",href:i},a),lr.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wu(g)))return}c=o.createElement("link"),Xt(c,"link",i),st(c),o.head.appendChild(c)}}}function MI(i,a,o){ki.S(i,a,o);var c=hl;if(c&&i){var m=hs(c).hoistableStyles,g=fl(i);a=a||"default";var E=m.get(g);if(!E){var I={loading:0,preload:null};if(E=c.querySelector(Xu(g)))I.loading=5;else{i=M({rel:"stylesheet",href:i,"data-precedence":a},o),(o=lr.get(g))&&dg(i,o);var P=E=c.createElement("link");st(P),Xt(P,"link",i),P._p=new Promise(function(F,J){P.onload=F,P.onerror=J}),P.addEventListener("load",function(){I.loading|=1}),P.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Sf(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:I},m.set(g,E)}}}function NI(i,a){ki.X(i,a);var o=hl;if(o&&i){var c=hs(o).hoistableScripts,m=dl(i),g=c.get(m);g||(g=o.querySelector(Wu(m)),g||(i=M({src:i,async:!0},a),(a=lr.get(m))&&mg(i,a),g=o.createElement("script"),st(g),Xt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function PI(i,a){ki.M(i,a);var o=hl;if(o&&i){var c=hs(o).hoistableScripts,m=dl(i),g=c.get(m);g||(g=o.querySelector(Wu(m)),g||(i=M({src:i,async:!0,type:"module"},a),(a=lr.get(m))&&mg(i,a),g=o.createElement("script"),st(g),Xt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function dE(i,a,o,c){var m=(m=Yn.current)?bf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=fl(o.href),o=hs(m).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=fl(o.href);var g=hs(m).hoistableStyles,E=g.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=m.querySelector(Xu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),lr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},lr.set(i,o),g||kI(m,i,o,E.state))),a&&c===null)throw Error(r(528,""));return E}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=dl(o),o=hs(m).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fl(i){return'href="'+dt(i)+'"'}function Xu(i){return'link[rel="stylesheet"]['+i+"]"}function mE(i){return M({},i,{"data-precedence":i.precedence,precedence:null})}function kI(i,a,o,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Xt(a,"link",o),st(a),i.head.appendChild(a))}function dl(i){return'[src="'+dt(i)+'"]'}function Wu(i){return"script[async]"+i}function pE(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+dt(o.href)+'"]');if(c)return a.instance=c,st(c),c;var m=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),st(c),Xt(c,"style",m),Sf(c,o.precedence,i),a.instance=c;case"stylesheet":m=fl(o.href);var g=i.querySelector(Xu(m));if(g)return a.state.loading|=4,a.instance=g,st(g),g;c=mE(o),(m=lr.get(m))&&dg(c,m),g=(i.ownerDocument||i).createElement("link"),st(g);var E=g;return E._p=new Promise(function(I,P){E.onload=I,E.onerror=P}),Xt(g,"link",c),a.state.loading|=4,Sf(g,o.precedence,i),a.instance=g;case"script":return g=dl(o.src),(m=i.querySelector(Wu(g)))?(a.instance=m,st(m),m):(c=o,(m=lr.get(g))&&(c=M({},o),mg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),st(m),Xt(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,Sf(c,o.precedence,i));return a.instance}function Sf(i,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,E=0;E<c.length;E++){var I=c[E];if(I.dataset.precedence===a)g=I;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function dg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function mg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Af=null;function gE(i,a,o){if(Af===null){var c=new Map,m=Af=new Map;m.set(o,c)}else m=Af,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[us]||g[zt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(a)||"";E=i+E;var I=c.get(E);I?I.push(g):c.set(E,[g])}}return c}function _E(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function VI(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function yE(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Zu=null;function LI(){}function UI(i,a,o){if(Zu===null)throw Error(r(475));var c=Zu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=fl(o.href),g=i.querySelector(Xu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Rf.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,st(g);return}g=i.ownerDocument||i,o=mE(o),(m=lr.get(m))&&dg(o,m),g=g.createElement("link"),st(g);var E=g;E._p=new Promise(function(I,P){E.onload=I,E.onerror=P}),Xt(g,"link",o),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=Rf.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function zI(){if(Zu===null)throw Error(r(475));var i=Zu;return i.stylesheets&&i.count===0&&pg(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&pg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Rf(){if(this.count--,this.count===0){if(this.stylesheets)pg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cf=null;function pg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cf=new Map,a.forEach(BI,i),Cf=null,Rf.call(i))}function BI(i,a){if(!(a.state.loading&4)){var o=Cf.get(i);if(o)var c=o.get(null);else{o=new Map,Cf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}m=a.instance,E=m.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,m),o.set(E,m),this.count++,c=Rf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Ju={$$typeof:b,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function jI(i,a,o,c,m,g,E,I){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.hiddenUpdates=Io(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function vE(i,a,o,c,m,g,E,I,P,F,J,ie){return i=new jI(i,a,o,E,I,P,F,ie),a=1,g===!0&&(a|=24),g=ar(3,null,null,a),i.current=g,g.stateNode=i,a=Qm(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:a},Cp(g),i}function TE(i){return i?(i=Go,i):Go}function EE(i,a,o,c,m,g){m=TE(m),c.context===null?c.context=m:c.pendingContext=m,c=Ss(a),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=As(i,c,a),o!==null&&(vn(o,i,a),Vu(o,i,a))}function wE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function gg(i,a){wE(i,a),(i=i.alternate)&&wE(i,a)}function bE(i){if(i.tag===13){var a=_s(i,67108864);a!==null&&vn(a,i,67108864),gg(i,67108864)}}var If=!0;function qI(i,a,o,c){var m=A.T;A.T=null;var g=le.p;try{le.p=2,_g(i,a,o,c)}finally{le.p=g,A.T=m}}function FI(i,a,o,c){var m=A.T;A.T=null;var g=le.p;try{le.p=8,_g(i,a,o,c)}finally{le.p=g,A.T=m}}function _g(i,a,o,c){if(If){var m=yg(c);if(m===null)sg(i,a,c,Df,o),AE(i,c);else if(GI(m,i,a,o,c))c.stopPropagation();else if(AE(i,c),a&4&&-1<HI.indexOf(i)){for(;m!==null;){var g=di(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=mr(g.pendingLanes);if(E!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;E;){var P=1<<31-pn(E);I.entanglements[1]|=P,E&=~P}Fr(g),!(ot&6)&&(ff=En()+500,Qu(0))}}break;case 13:I=_s(g,2),I!==null&&vn(I,g,2),pf(),gg(g,2)}if(g=yg(c),g===null&&sg(i,a,c,Df,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else sg(i,a,c,null,o)}}function yg(i){return i=No(i),vg(i)}var Df=null;function vg(i){if(Df=null,i=pr(i),i!==null){var a=de(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=ke(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Df=i,null}function SE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dh()){case Ot:return 2;case Ut:return 8;case hi:case mh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Tg=!1,Ms=null,Ns=null,Ps=null,ec=new Map,tc=new Map,ks=[],HI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(i,a){switch(i){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":ec.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(a.pointerId)}}function nc(i,a,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},a!==null&&(a=di(a),a!==null&&bE(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function GI(i,a,o,c,m){switch(a){case"focusin":return Ms=nc(Ms,i,a,o,c,m),!0;case"dragenter":return Ns=nc(Ns,i,a,o,c,m),!0;case"mouseover":return Ps=nc(Ps,i,a,o,c,m),!0;case"pointerover":var g=m.pointerId;return ec.set(g,nc(ec.get(g)||null,i,a,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,tc.set(g,nc(tc.get(g)||null,i,a,o,c,m)),!0}return!1}function RE(i){var a=pr(i.target);if(a!==null){var o=de(a);if(o!==null){if(a=o.tag,a===13){if(a=ke(o),a!==null){i.blockedOn=a,ls(i.priority,function(){if(o.tag===13){var c=Ln(),m=_s(o,c);m!==null&&vn(m,o,c),gg(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Of(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=yg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Xn=c,o.target.dispatchEvent(c),Xn=null}else return a=di(o),a!==null&&bE(a),i.blockedOn=o,!1;a.shift()}return!0}function CE(i,a,o){Of(i)&&o.delete(a)}function YI(){Tg=!1,Ms!==null&&Of(Ms)&&(Ms=null),Ns!==null&&Of(Ns)&&(Ns=null),Ps!==null&&Of(Ps)&&(Ps=null),ec.forEach(CE),tc.forEach(CE)}function xf(i,a){i.blockedOn===a&&(i.blockedOn=null,Tg||(Tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YI)))}var Mf=null;function IE(i){Mf!==i&&(Mf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mf===i&&(Mf=null);for(var a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(vg(c||o)===null)continue;break}var g=di(o);g!==null&&(i.splice(a,3),a-=3,up(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function rc(i){function a(P){return xf(P,i)}Ms!==null&&xf(Ms,i),Ns!==null&&xf(Ns,i),Ps!==null&&xf(Ps,i),ec.forEach(a),tc.forEach(a);for(var o=0;o<ks.length;o++){var c=ks[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ks.length&&(o=ks[0],o.blockedOn===null);)RE(o),o.blockedOn===null&&ks.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],E=m[xt]||null;if(typeof g=="function")E||IE(o);else if(E){var I=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[xt]||null)I=E.formAction;else if(vg(m)!==null)continue}else I=E.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),IE(o)}}}function Eg(i){this._internalRoot=i}Nf.prototype.render=Eg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,c=Ln();EE(o,c,i,a,null,null)},Nf.prototype.unmount=Eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;i.tag===0&&ll(),EE(i.current,2,null,i,null,null),pf(),a[fi]=null}};function Nf(i){this._internalRoot=i}Nf.prototype.unstable_scheduleHydration=function(i){if(i){var a=vh();i={blockedOn:null,target:i,priority:a};for(var o=0;o<ks.length&&a!==0&&a<ks[o].priority;o++);ks.splice(o,0,i),o===0&&RE(i)}};var DE=e.version;if(DE!=="19.0.0")throw Error(r(527,DE,"19.0.0"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=se(a),i=i!==null?me(i):null,i=i===null?null:i.stateNode,i};var QI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:pr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{ns=Pf.inject(QI),nn=Pf}catch{}}return sc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,c="",m=Y0,g=Q0,E=K0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=vE(i,1,!1,null,null,o,c,m,g,E,I,null),i[fi]=a.current,ig(i.nodeType===8?i.parentNode:i),new Eg(a)},sc.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var c=!1,m="",g=Y0,E=Q0,I=K0,P=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),a=vE(i,1,!0,a,o??null,c,m,g,E,I,P,F),a.context=TE(null),o=a.current,c=Ln(),m=Ss(c),m.callback=null,As(o,m,c),a.current.lanes=c,yt(a,c),Fr(a),i[fi]=a.current,ig(i),new Nf(a)},sc.version="19.0.0",sc}var zE;function aD(){if(zE)return Sg.exports;zE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sg.exports=sD(),Sg.exports}var oD=aD(),$=Hd();const to=WI($);var Dg={exports:{}},Og={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function lD(){if(BE)return Og;BE=1;var n=Hd();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return Og.useSyncExternalStoreWithSelector=function(d,p,_,v,w){var b=s(null);if(b.current===null){var R={hasValue:!1,value:null};b.current=R}else R=b.current;b=u(function(){function D(q){if(!k){if(k=!0,L=q,q=v(q),w!==void 0&&R.hasValue){var X=R.value;if(w(X,q))return V=X}return V=q}if(X=V,t(L,q))return X;var x=v(q);return w!==void 0&&w(X,x)?(L=q,X):(L=q,V=x)}var k=!1,L,V,H=_===void 0?null:_;return[function(){return D(p())},H===null?void 0:function(){return D(H())}]},[p,_,v,w]);var S=r(d,b[0],b[1]);return l(function(){R.hasValue=!0,R.value=S},[S]),h(S),S},Og}var jE;function uD(){return jE||(jE=1,Dg.exports=lD()),Dg.exports}var cD=uD();function hD(n){n()}function fD(){let n=null,e=null;return{clear(){n=null,e=null},notify(){hD(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var qE={notify(){},get:()=>[]};function dD(n,e){let t,r=qE,s=0,l=!1;function u(S){_();const D=r.subscribe(S);let k=!1;return()=>{k||(k=!0,D(),v())}}function h(){r.notify()}function d(){R.onStateChange&&R.onStateChange()}function p(){return l}function _(){s++,t||(t=n.subscribe(d),r=fD())}function v(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=qE)}function w(){l||(l=!0,_())}function b(){l&&(l=!1,v())}const R={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:p,trySubscribe:w,tryUnsubscribe:b,getListeners:()=>r};return R}var mD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pD=mD(),gD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_D=gD(),yD=()=>pD||_D?$.useLayoutEffect:$.useEffect,vD=yD(),xg=Symbol.for("react-redux-context"),Mg=typeof globalThis<"u"?globalThis:{};function TD(){if(!$.createContext)return{};const n=Mg[xg]??(Mg[xg]=new Map);let e=n.get($.createContext);return e||(e=$.createContext(null),n.set($.createContext,e)),e}var Zs=TD();function ED(n){const{children:e,context:t,serverState:r,store:s}=n,l=$.useMemo(()=>{const d=dD(s);return{store:s,subscription:d,getServerState:r?()=>r:void 0}},[s,r]),u=$.useMemo(()=>s.getState(),[s]);vD(()=>{const{subscription:d}=l;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[l,u]);const h=t||Zs;return $.createElement(h.Provider,{value:l},e)}var wD=ED;function ey(n=Zs){return function(){return $.useContext(n)}}var uS=ey();function cS(n=Zs){const e=n===Zs?uS:ey(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var bD=cS();function SD(n=Zs){const e=n===Zs?bD:cS(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var ha=SD(),AD=(n,e)=>n===e;function RD(n=Zs){const e=n===Zs?uS:ey(n),t=(r,s={})=>{const{equalityFn:l=AD}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:d,getServerState:p}=u;$.useRef(!0);const _=$.useCallback({[r.name](w){return r(w)}}[r.name],[r]),v=cD.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,p||h.getState,_,l);return $.useDebugValue(v),v};return Object.assign(t,{withTypes:()=>t}),t}var fr=RD(),ac={},FE;function CD(){if(FE)return ac;FE=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.parse=u,ac.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,b){const R=new l,S=w.length;if(S<2)return R;const D=(b==null?void 0:b.decode)||_;let k=0;do{const L=w.indexOf("=",k);if(L===-1)break;const V=w.indexOf(";",k),H=V===-1?S:V;if(L>H){k=w.lastIndexOf(";",L-1)+1;continue}const q=h(w,k,L),X=d(w,L,q),x=w.slice(q,X);if(R[x]===void 0){let C=h(w,L+1,H),A=d(w,H,C);const M=D(w.slice(C,A));R[x]=M}k=H+1}while(k<S);return R}function h(w,b,R){do{const S=w.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<R);return R}function d(w,b,R){for(;b>R;){const S=w.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return R}function p(w,b,R){const S=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=S(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let k=w+"="+D;if(!R)return k;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);k+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);k+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);k+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);k+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(k+="; HttpOnly"),R.secure&&(k+="; Secure"),R.partitioned&&(k+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return k}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return s.call(w)==="[object Date]"}return ac}CD();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HE="popstate";function ID(n={}){function e(s,l){let{pathname:u="/",search:h="",hash:d=""}=go(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),a_("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:Dc(l))}function r(s,l){Sr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return OD(e,t,r,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DD(){return Math.random().toString(36).substring(2,10)}function GE(n,e){return{usr:n.state,key:n.key,idx:e}}function a_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:t,key:e&&e.key||r||DD()}}function Dc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function go(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function OD(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,u=s.history,h="POP",d=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=_(),k=D==null?null:D-p;p=D,d&&d({action:h,location:S.location,delta:k})}function w(D,k){h="PUSH";let L=a_(S.location,D,k);t&&t(L,D),p=_()+1;let V=GE(L,p),H=S.createHref(L);try{u.pushState(V,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(H)}l&&d&&d({action:h,location:S.location,delta:1})}function b(D,k){h="REPLACE";let L=a_(S.location,D,k);t&&t(L,D),p=_();let V=GE(L,p),H=S.createHref(L);u.replaceState(V,"",H),l&&d&&d({action:h,location:S.location,delta:0})}function R(D){let k=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof D=="string"?D:Dc(D);return L=L.replace(/ $/,"%20"),ct(k,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,k)}let S={get action(){return h},get location(){return n(s,u)},listen(D){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(HE,v),d=D,()=>{s.removeEventListener(HE,v),d=null}},createHref(D){return e(s,D)},createURL:R,encodeLocation(D){let k=R(D);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:b,go(D){return u.go(D)}};return S}function hS(n,e,t="/"){return xD(n,e,t,!1)}function xD(n,e,t,r){let s=typeof e=="string"?go(e):e,l=Js(s.pathname||"/",t);if(l==null)return null;let u=fS(n);MD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=FD(l);h=jD(u[d],p,r)}return h}function fS(n,e=[],t=[],r=""){let s=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=qi([r,d.relativePath]),_=t.concat(d);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),fS(l.children,e,_,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:zD(p,l.index),routesMeta:_})};return n.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,u);else for(let d of dS(l.path))s(l,u,d)}),e}function dS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let u=dS(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),s&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function MD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:BD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var ND=/^:[\w-]+$/,PD=3,kD=2,VD=1,LD=10,UD=-2,YE=n=>n==="*";function zD(n,e){let t=n.split("/"),r=t.length;return t.some(YE)&&(r+=UD),e&&(r+=kD),t.filter(s=>!YE(s)).reduce((s,l)=>s+(ND.test(l)?PD:l===""?VD:LD),r)}function BD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function jD(n,e,t=!1){let{routesMeta:r}=n,s={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=od({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),w=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=od({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:qi([l,v.pathname]),pathnameBase:QD(qi([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=qi([l,v.pathnameBase]))}return u}function od(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=qD(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:v},w)=>{if(_==="*"){let R=h[w]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const b=h[w];return v&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function qD(n,e=!1,t=!0){Sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function FD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Js(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function HD(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?go(n):n;return{pathname:t?t.startsWith("/")?t:GD(t,e):e,search:KD(r),hash:$D(s)}}function GD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ng(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mS(n){let e=YD(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function pS(n,e,t,r=!1){let s;typeof n=="string"?s=go(n):(s={...n},ct(!s.pathname||!s.pathname.includes("?"),Ng("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Ng("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Ng("#","search","hash",s)));let l=n===""||s.pathname==="",u=l?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}h=v>=0?e[v]:"/"}let d=HD(s,h),p=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}var qi=n=>n.join("/").replace(/\/\/+/g,"/"),QD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$D=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function XD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gS=["POST","PUT","PATCH","DELETE"];new Set(gS);var WD=["GET",...gS];new Set(WD);var Yl=$.createContext(null);Yl.displayName="DataRouter";var Gd=$.createContext(null);Gd.displayName="DataRouterState";var _S=$.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var ZD=$.createContext(new Map);ZD.displayName="Fetchers";var JD=$.createContext(null);JD.displayName="Await";var ai=$.createContext(null);ai.displayName="Navigation";var Zc=$.createContext(null);Zc.displayName="Location";var Rr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var ty=$.createContext(null);ty.displayName="RouteError";function eO(n,{relative:e}={}){ct(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(ai),{hash:s,pathname:l,search:u}=th(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:qi([t,l])),r.createHref({pathname:h,search:u,hash:s})}function Jc(){return $.useContext(Zc)!=null}function _o(){return ct(Jc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Zc).location}var yS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vS(n){$.useContext(ai).static||$.useLayoutEffect(n)}function eh(){let{isDataRoute:n}=$.useContext(Rr);return n?gO():tO()}function tO(){ct(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Yl),{basename:e,navigator:t}=$.useContext(ai),{matches:r}=$.useContext(Rr),{pathname:s}=_o(),l=JSON.stringify(mS(r)),u=$.useRef(!1);return vS(()=>{u.current=!0}),$.useCallback((d,p={})=>{if(Sr(u.current,yS),!u.current)return;if(typeof d=="number"){t.go(d);return}let _=pS(d,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:qi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,s,n])}var nO=$.createContext(null);function rO(n){let e=$.useContext(Rr).outlet;return e&&$.createElement(nO.Provider,{value:n},e)}function iO(){let{matches:n}=$.useContext(Rr),e=n[n.length-1];return e?e.params:{}}function th(n,{relative:e}={}){let{matches:t}=$.useContext(Rr),{pathname:r}=_o(),s=JSON.stringify(mS(t));return $.useMemo(()=>pS(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function sO(n,e){return TS(n,e)}function TS(n,e,t,r){var L;ct(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=$.useContext(ai),{matches:u}=$.useContext(Rr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",_=h?h.pathnameBase:"/",v=h&&h.route;{let V=v&&v.path||"";ES(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let w=_o(),b;if(e){let V=typeof e=="string"?go(e):e;ct(_==="/"||((L=V.pathname)==null?void 0:L.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${V.pathname}" was given in the \`location\` prop.`),b=V}else b=w;let R=b.pathname||"/",S=R;if(_!=="/"){let V=_.replace(/^\//,"").split("/");S="/"+R.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=!l&&t&&t.matches&&t.matches.length>0?t.matches:hS(n,{pathname:S});Sr(v||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Sr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=cO(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:qi([_,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?_:qi([_,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&k?$.createElement(Zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function aO(){let n=pO(),e=XD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,u)}var oO=$.createElement(aO,null),lO=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Rr.Provider,{value:this.props.routeContext},$.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uO({routeContext:n,match:e,children:t}){let r=$.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Rr.Provider,{value:n},t)}function cO(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let d=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:_,errors:v}=t,w=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,_)=>{let v,w=!1,b=null,R=null;t&&(v=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||oO,u&&(h<0&&_===0?(ES("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):h===_&&(w=!0,R=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,_+1)),D=()=>{let k;return v?k=b:w?k=R:p.route.Component?k=$.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,$.createElement(uO,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?$.createElement(lO,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):D()},null)}function ny(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hO(n){let e=$.useContext(Yl);return ct(e,ny(n)),e}function fO(n){let e=$.useContext(Gd);return ct(e,ny(n)),e}function dO(n){let e=$.useContext(Rr);return ct(e,ny(n)),e}function ry(n){let e=dO(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mO(){return ry("useRouteId")}function pO(){var r;let n=$.useContext(ty),e=fO("useRouteError"),t=ry("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function gO(){let{router:n}=hO("useNavigate"),e=ry("useNavigate"),t=$.useRef(!1);return vS(()=>{t.current=!0}),$.useCallback(async(s,l={})=>{Sr(t.current,yS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var QE={};function ES(n,e,t){!e&&!QE[n]&&(QE[n]=!0,Sr(!1,t))}$.memo(_O);function _O({routes:n,future:e,state:t}){return TS(n,void 0,t,e)}function yO(n){return rO(n.context)}function Hr(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:l=!1}){ct(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof t=="string"&&(t=go(t));let{pathname:d="/",search:p="",hash:_="",state:v=null,key:w="default"}=t,b=$.useMemo(()=>{let R=Js(d,u);return R==null?null:{location:{pathname:R,search:p,hash:_,state:v,key:w},navigationType:r}},[u,d,p,_,v,w,r]);return Sr(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:$.createElement(ai.Provider,{value:h},$.createElement(Zc.Provider,{children:e,value:b}))}function TO({children:n,location:e}){return sO(o_(n),e)}function o_(n,e=[]){let t=[];return $.Children.forEach(n,(r,s)=>{if(!$.isValidElement(r))return;let l=[...e,s];if(r.type===$.Fragment){t.push.apply(t,o_(r.props.children,l));return}ct(r.type===Hr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=o_(r.props.children,l)),t.push(u)}),t}var Gf="get",Yf="application/x-www-form-urlencoded";function Yd(n){return n!=null&&typeof n.tagName=="string"}function EO(n){return Yd(n)&&n.tagName.toLowerCase()==="button"}function wO(n){return Yd(n)&&n.tagName.toLowerCase()==="form"}function bO(n){return Yd(n)&&n.tagName.toLowerCase()==="input"}function SO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AO(n,e){return n.button===0&&(!e||e==="_self")&&!SO(n)}var kf=null;function RO(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var CO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pg(n){return n!=null&&!CO.has(n)?(Sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yf}"`),null):n}function IO(n,e){let t,r,s,l,u;if(wO(n)){let h=n.getAttribute("action");r=h?Js(h,e):null,t=n.getAttribute("method")||Gf,s=Pg(n.getAttribute("enctype"))||Yf,l=new FormData(n)}else if(EO(n)||bO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Js(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Gf,s=Pg(n.getAttribute("formenctype"))||Pg(h.getAttribute("enctype"))||Yf,l=new FormData(h,n),!RO()){let{name:p,type:_,value:v}=n;if(_==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(Yd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gf,r=null,s=Yf,u=n}return l&&s==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:l,body:u}}function iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function DO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xO(n,e,t){let r=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await DO(l,t);return u.links?u.links():[]}return[]}));return kO(r.flat(1).filter(OO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function KE(n,e,t,r,s,l){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>{var _;return t[p].pathname!==d.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{var v;let _=r.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function MO(n,e){return NO(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function NO(n){return[...new Set(n)]}function PO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function kO(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let l=JSON.stringify(PO(s));return t.has(l)||(t.add(l),r.push({key:l,link:s})),r},[])}function VO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LO(){let n=$.useContext(Yl);return iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UO(){let n=$.useContext(Gd);return iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sy=$.createContext(void 0);sy.displayName="FrameworkContext";function wS(){let n=$.useContext(sy);return iy(n,"You must render this element inside a <HydratedRouter> element"),n}function zO(n,e){let t=$.useContext(sy),[r,s]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=e,w=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=k=>{k.forEach(L=>{u(L.isIntersecting)})},D=new IntersectionObserver(S,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),$.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:oc(h,b),onBlur:oc(d,R),onMouseEnter:oc(p,b),onMouseLeave:oc(_,R),onTouchStart:oc(v,b)}]:[!1,w,{}]}function oc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BO({page:n,...e}){let{router:t}=LO(),r=$.useMemo(()=>hS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(qO,{page:n,matches:r,...e}):null}function jO(n){let{manifest:e,routeModules:t}=wS(),[r,s]=$.useState([]);return $.useEffect(()=>{let l=!1;return xO(n,e,t).then(u=>{l||s(u)}),()=>{l=!0}},[n,e,t]),r}function qO({page:n,matches:e,...t}){let r=_o(),{manifest:s,routeModules:l}=wS(),{loaderData:u,matches:h}=UO(),d=$.useMemo(()=>KE(n,e,h,s,r,"data"),[n,e,h,s,r]),p=$.useMemo(()=>KE(n,e,h,s,r,"assets"),[n,e,h,s,r]),_=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,R=!1;if(e.forEach(D=>{var L;let k=s.routes[D.route.id];!k||!k.hasLoader||(!d.some(V=>V.route.id===D.route.id)&&D.route.id in u&&((L=l[D.route.id])!=null&&L.shouldRevalidate)||k.hasClientLoader?R=!0:b.add(D.route.id))}),b.size===0)return[];let S=VO(n);return R&&b.size>0&&S.searchParams.set("_routes",e.filter(D=>b.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[u,r,s,d,e,n,l]),v=$.useMemo(()=>MO(p,s),[p,s]),w=jO(p);return $.createElement($.Fragment,null,_.map(b=>$.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>$.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:R})=>$.createElement("link",{key:b,...R})))}function FO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bS&&(window.__reactRouterVersion="7.1.5")}catch{}function HO({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=ID({window:t,v5Compat:!0}));let s=r.current,[l,u]=$.useState({action:s.action,location:s.location}),h=$.useCallback(d=>{$.startTransition(()=>u(d))},[u]);return $.useLayoutEffect(()=>s.listen(h),[s,h]),$.createElement(vO,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AS=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:_,viewTransition:v,...w},b){let{basename:R}=$.useContext(ai),S=typeof p=="string"&&SS.test(p),D,k=!1;if(typeof p=="string"&&S&&(D=p,bS))try{let A=new URL(window.location.href),M=p.startsWith("//")?new URL(A.protocol+p):new URL(p),U=Js(M.pathname,R);M.origin===A.origin&&U!=null?p=U+M.search+M.hash:k=!0}catch{Sr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=eO(p,{relative:s}),[V,H,q]=zO(r,w),X=QO(p,{replace:u,state:h,target:d,preventScrollReset:_,relative:s,viewTransition:v});function x(A){e&&e(A),A.defaultPrevented||X(A)}let C=$.createElement("a",{...w,...q,href:D||L,onClick:k||l?e:x,ref:FO(b,H),target:d,"data-discover":!S&&t==="render"?"true":void 0});return V&&!S?$.createElement($.Fragment,null,C,$.createElement(BO,{page:L})):C});AS.displayName="Link";var Tl=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:l,to:u,viewTransition:h,children:d,...p},_){let v=th(u,{relative:p.relative}),w=_o(),b=$.useContext(Gd),{navigator:R,basename:S}=$.useContext(ai),D=b!=null&&ZO(v)&&h===!0,k=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,L=w.pathname,V=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(L=L.toLowerCase(),V=V?V.toLowerCase():null,k=k.toLowerCase()),V&&S&&(V=Js(V,S)||V);const H=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=L===k||!s&&L.startsWith(k)&&L.charAt(H)==="/",X=V!=null&&(V===k||!s&&V.startsWith(k)&&V.charAt(k.length)==="/"),x={isActive:q,isPending:X,isTransitioning:D},C=q?e:void 0,A;typeof r=="function"?A=r(x):A=[r,q?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(x):l;return $.createElement(AS,{...p,"aria-current":C,className:A,ref:_,style:M,to:u,viewTransition:h},typeof d=="function"?d(x):d)});Tl.displayName="NavLink";var GO=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:l,method:u=Gf,action:h,onSubmit:d,relative:p,preventScrollReset:_,viewTransition:v,...w},b)=>{let R=XO(),S=WO(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&SS.test(h),L=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let H=V.nativeEvent.submitter,q=(H==null?void 0:H.getAttribute("formmethod"))||u;R(H||V.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:l,relative:p,preventScrollReset:_,viewTransition:v})};return $.createElement("form",{ref:b,method:D,action:S,onSubmit:r?d:L,...w,"data-discover":!k&&n==="render"?"true":void 0})});GO.displayName="Form";function YO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RS(n){let e=$.useContext(Yl);return ct(e,YO(n)),e}function QO(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:l,viewTransition:u}={}){let h=eh(),d=_o(),p=th(n,{relative:l});return $.useCallback(_=>{if(AO(_,e)){_.preventDefault();let v=t!==void 0?t:Dc(d)===Dc(p);h(n,{replace:v,state:r,preventScrollReset:s,relative:l,viewTransition:u})}},[d,h,p,t,r,e,n,s,l,u])}var KO=0,$O=()=>`__${String(++KO)}__`;function XO(){let{router:n}=RS("useSubmit"),{basename:e}=$.useContext(ai),t=mO();return $.useCallback(async(r,s={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=IO(r,e);if(s.navigate===!1){let _=s.fetcherKey||$O();await n.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function WO(n,{relative:e}={}){let{basename:t}=$.useContext(ai),r=$.useContext(Rr);ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...th(n||".",{relative:e})},u=_o();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:qi([t,l.pathname])),Dc(l)}function ZO(n,e={}){let t=$.useContext(_S);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RS("useViewTransitionState"),s=th(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Js(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Js(t.nextLocation.pathname,r)||t.nextLocation.pathname;return od(s.pathname,u)!=null||od(s.pathname,l)!=null}new TextEncoder;function Vi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function CS(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var jn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ol={duration:.5,overwrite:!1,delay:0},ay,en,it,$r=1e8,cn=1/$r,l_=Math.PI*2,JO=l_/4,ex=0,IS=Math.sqrt,tx=Math.cos,nx=Math.sin,Yt=function(e){return typeof e=="string"},_t=function(e){return typeof e=="function"},Qi=function(e){return typeof e=="number"},oy=function(e){return typeof e>"u"},ni=function(e){return typeof e=="object"},An=function(e){return e!==!1},ly=function(){return typeof window<"u"},Vf=function(e){return _t(e)||Yt(e)},DS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},hn=Array.isArray,u_=/(?:-?\.?\d|\.)+/gi,OS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,El=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,kg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,xS=/[+-]=-?[.\d]+/,MS=/[^,'"\[\]\s]+/gi,rx=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,lt,Gr,c_,uy,qn={},ld={},NS,PS=function(e){return(ld=xl(e,qn))&&On},cy=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Oc=function(e,t){return!t&&console.warn(e)},kS=function(e,t){return e&&(qn[e]=t)&&ld&&(ld[e]=t)||qn},xc=function(){return 0},ix={suppressEvents:!0,isStart:!0,kill:!1},Qf={suppressEvents:!0,kill:!1},sx={suppressEvents:!0},hy={},Ys=[],h_={},VS,Un={},Vg={},$E=30,Kf=[],fy="",dy=function(e){var t=e[0],r,s;if(ni(t)||_t(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(s=Kf.length;s--&&!Kf[s].targetTest(t););r=Kf[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new aA(e[s],r)))||e.splice(s,1);return e},no=function(e){return e._gsap||dy(dr(e))[0]._gsap},LS=function(e,t,r){return(r=e[t])&&_t(r)?e[t]():oy(r)&&e.getAttribute&&e.getAttribute(t)||r},Rn=function(e,t){return(e=e.split(",")).forEach(t)||e},Tt=function(e){return Math.round(e*1e5)/1e5||0},It=function(e){return Math.round(e*1e7)/1e7||0},bl=function(e,t){var r=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},ax=function(e,t){for(var r=t.length,s=0;e.indexOf(t[s])<0&&++s<r;);return s<r},ud=function(){var e=Ys.length,t=Ys.slice(0),r,s;for(h_={},Ys.length=0,r=0;r<e;r++)s=t[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},US=function(e,t,r,s){Ys.length&&!en&&ud(),e.render(t,r,en&&t<0&&(e._initted||e._startAt)),Ys.length&&!en&&ud()},zS=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(MS).length<2?t:Yt(e)?e.trim():e},BS=function(e){return e},Fn=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},ox=function(e){return function(t,r){for(var s in r)s in t||s==="duration"&&e||s==="ease"||(t[s]=r[s])}},xl=function(e,t){for(var r in t)e[r]=t[r];return e},XE=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ni(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},cd=function(e,t){var r={},s;for(s in e)s in t||(r[s]=e[s]);return r},yc=function(e){var t=e.parent||lt,r=e.keyframes?ox(hn(e.keyframes)):Fn;if(An(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},lx=function(e,t){for(var r=e.length,s=r===t.length;s&&r--&&e[r]===t[r];);return r<0},jS=function(e,t,r,s,l){var u=e[s],h;if(l)for(h=t[l];u&&u[l]>h;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[s]=t,t._prev=u,t.parent=t._dp=e,t},Qd=function(e,t,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var l=t._prev,u=t._next;l?l._next=u:e[r]===t&&(e[r]=u),u?u._prev=l:e[s]===t&&(e[s]=l),t._next=t._prev=t.parent=null},ea=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ro=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},ux=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},f_=function(e,t,r,s){return e._startAt&&(en?e._startAt.revert(Qf):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},cx=function n(e){return!e||e._ts&&n(e.parent)},WE=function(e){return e._repeat?Ml(e._tTime,e=e.duration()+e._rDelay)*e:0},Ml=function(e,t){var r=Math.floor(e=It(e/t));return e&&r===e?r-1:r},hd=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Kd=function(e){return e._end=It(e._start+(e._tDur/Math.abs(e._ts||e._rts||cn)||0))},$d=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=It(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Kd(e),r._dirty||ro(r,e)),e},qS=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=hd(e.rawTime(),t),(!t._dur||nh(0,t.totalDuration(),r)-t._tTime>cn)&&t.render(r,!0)),ro(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Qr=function(e,t,r,s){return t.parent&&ea(t),t._start=It((Qi(r)?r:r||e!==lt?ur(e,r,t):e._time)+t._delay),t._end=It(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),jS(e,t,"_first","_last",e._sort?"_start":0),d_(t)||(e._recent=t),s||qS(e,t),e._ts<0&&$d(e,e._tTime),e},FS=function(e,t){return(qn.ScrollTrigger||cy("scrollTrigger",t))&&qn.ScrollTrigger.create(t,e)},HS=function(e,t,r,s,l){if(py(e,t,l),!e._initted)return 1;if(!r&&e._pt&&!en&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&VS!==zn.frame)return Ys.push(e),e._lazy=[l,s],1},hx=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},d_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},fx=function(e,t,r,s){var l=e.ratio,u=t<0||!t&&(!e._start&&hx(e)&&!(!e._initted&&d_(e))||(e._ts<0||e._dp._ts<0)&&!d_(e))?0:1,h=e._rDelay,d=0,p,_,v;if(h&&e._repeat&&(d=nh(0,e._tDur,t),_=Ml(d,h),e._yoyo&&_&1&&(u=1-u),_!==Ml(e._tTime,h)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||en||s||e._zTime===cn||!t&&e._zTime){if(!e._initted&&HS(e,t,s,r,d))return;for(v=e._zTime,e._zTime=t||(r?cn:0),r||(r=t&&!v),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,p=e._pt;p;)p.r(u,p.d),p=p._next;t<0&&f_(e,t,r,!0),e._onUpdate&&!r&&Bn(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&Bn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&ea(e,1),!r&&!en&&(Bn(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},dx=function(e,t,r){var s;if(r>t)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},Nl=function(e,t,r,s){var l=e._repeat,u=It(t)||0,h=e._tTime/e._tDur;return h&&!s&&(e._time*=u/e._dur),e._dur=u,e._tDur=l?l<0?1e10:It(u*(l+1)+e._rDelay*l):u,h>0&&!s&&$d(e,e._tTime=e._tDur*h),e.parent&&Kd(e),r||ro(e.parent,e),e},ZE=function(e){return e instanceof Tn?ro(e):Nl(e,e._dur)},mx={_start:0,endTime:xc,totalDuration:xc},ur=function n(e,t,r){var s=e.labels,l=e._recent||mx,u=e.duration()>=$r?l.endTime(!1):e._dur,h,d,p;return Yt(t)&&(isNaN(t)||t in s)?(d=t.charAt(0),p=t.substr(-1)==="%",h=t.indexOf("="),d==="<"||d===">"?(h>=0&&(t=t.replace(/=/,"")),(d==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(h<0?l:r).totalDuration()/100:1)):h<0?(t in s||(s[t]=u),s[t]):(d=parseFloat(t.charAt(h-1)+t.substr(h+1)),p&&r&&(d=d/100*(hn(r)?r[0]:r).totalDuration()),h>1?n(e,t.substr(0,h-1),r)+d:u+d)):t==null?u:+t},vc=function(e,t,r){var s=Qi(t[1]),l=(s?2:1)+(e<2?0:1),u=t[l],h,d;if(s&&(u.duration=t[1]),u.parent=r,e){for(h=u,d=r;d&&!("immediateRender"in h);)h=d.vars.defaults||{},d=An(d.vars.inherit)&&d.parent;u.immediateRender=An(h.immediateRender),e<2?u.runBackwards=1:u.startAt=t[l-1]}return new Ct(t[0],u,t[l+1])},fa=function(e,t){return e||e===0?t(e):t},nh=function(e,t,r){return r<e?e:r>t?t:r},un=function(e,t){return!Yt(e)||!(t=rx.exec(e))?"":t[1]},px=function(e,t,r){return fa(r,function(s){return nh(e,t,s)})},m_=[].slice,GS=function(e,t){return e&&ni(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ni(e[0]))&&!e.nodeType&&e!==Gr},gx=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(s){var l;return Yt(s)&&!t||GS(s,1)?(l=r).push.apply(l,dr(s)):r.push(s)})||r},dr=function(e,t,r){return it&&!t&&it.selector?it.selector(e):Yt(e)&&!r&&(c_||!Pl())?m_.call((t||uy).querySelectorAll(e),0):hn(e)?gx(e,r):GS(e)?m_.call(e,0):e?[e]:[]},p_=function(e){return e=dr(e)[0]||Oc("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return dr(t,r.querySelectorAll?r:r===e?Oc("Invalid scope")||uy.createElement("div"):e)}},YS=function(e){return e.sort(function(){return .5-Math.random()})},QS=function(e){if(_t(e))return e;var t=ni(e)?e:{each:e},r=io(t.ease),s=t.from||0,l=parseFloat(t.base)||0,u={},h=s>0&&s<1,d=isNaN(s)||h,p=t.axis,_=s,v=s;return Yt(s)?_=v={center:.5,edges:.5,end:1}[s]||0:!h&&d&&(_=s[0],v=s[1]),function(w,b,R){var S=(R||t).length,D=u[S],k,L,V,H,q,X,x,C,A;if(!D){if(A=t.grid==="auto"?0:(t.grid||[1,$r])[1],!A){for(x=-1e8;x<(x=R[A++].getBoundingClientRect().left)&&A<S;);A<S&&A--}for(D=u[S]=[],k=d?Math.min(A,S)*_-.5:s%A,L=A===$r?0:d?S*v/A-.5:s/A|0,x=0,C=$r,X=0;X<S;X++)V=X%A-k,H=L-(X/A|0),D[X]=q=p?Math.abs(p==="y"?H:V):IS(V*V+H*H),q>x&&(x=q),q<C&&(C=q);s==="random"&&YS(D),D.max=x-C,D.min=C,D.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(A>S?S-1:p?p==="y"?S/A:A:Math.max(A,S/A))||0)*(s==="edges"?-1:1),D.b=S<0?l-S:l,D.u=un(t.amount||t.each)||0,r=r&&S<0?rA(r):r}return S=(D[w]-D.min)/D.max||0,It(D.b+(r?r(S):S)*D.v)+D.u}},g_=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=It(Math.round(parseFloat(r)/e)*e*t);return(s-s%1)/t+(Qi(r)?0:un(r))}},KS=function(e,t){var r=hn(e),s,l;return!r&&ni(e)&&(s=r=e.radius||$r,e.values?(e=dr(e.values),(l=!Qi(e[0]))&&(s*=s)):e=g_(e.increment)),fa(t,r?_t(e)?function(u){return l=e(u),Math.abs(l-u)<=s?l:u}:function(u){for(var h=parseFloat(l?u.x:u),d=parseFloat(l?u.y:0),p=$r,_=0,v=e.length,w,b;v--;)l?(w=e[v].x-h,b=e[v].y-d,w=w*w+b*b):w=Math.abs(e[v]-h),w<p&&(p=w,_=v);return _=!s||p<=s?e[_]:u,l||_===u||Qi(u)?_:_+un(u)}:g_(e))},$S=function(e,t,r,s){return fa(hn(e)?!t:r===!0?!!(r=0):!s,function(){return hn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*s)/s})},_x=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduce(function(l,u){return u(l)},s)}},yx=function(e,t){return function(r){return e(parseFloat(r))+(t||un(r))}},vx=function(e,t,r){return WS(e,t,0,1,r)},XS=function(e,t,r){return fa(r,function(s){return e[~~t(s)]})},Tx=function n(e,t,r){var s=t-e;return hn(e)?XS(e,n(0,e.length),t):fa(r,function(l){return(s+(l-e)%s)%s+e})},Ex=function n(e,t,r){var s=t-e,l=s*2;return hn(e)?XS(e,n(0,e.length-1),t):fa(r,function(u){return u=(l+(u-e)%l)%l||0,e+(u>s?l-u:u)})},Mc=function(e){for(var t=0,r="",s,l,u,h;~(s=e.indexOf("random(",t));)u=e.indexOf(")",s),h=e.charAt(s+7)==="[",l=e.substr(s+7,u-s-7).match(h?MS:u_),r+=e.substr(t,s-t)+$S(h?l:+l[0],h?0:+l[1],+l[2]||1e-5),t=u+1;return r+e.substr(t,e.length-t)},WS=function(e,t,r,s,l){var u=t-e,h=s-r;return fa(l,function(d){return r+((d-e)/u*h||0)})},wx=function n(e,t,r,s){var l=isNaN(e+t)?0:function(b){return(1-b)*e+b*t};if(!l){var u=Yt(e),h={},d,p,_,v,w;if(r===!0&&(s=1)&&(r=null),u)e={p:e},t={p:t};else if(hn(e)&&!hn(t)){for(_=[],v=e.length,w=v-2,p=1;p<v;p++)_.push(n(e[p-1],e[p]));v--,l=function(R){R*=v;var S=Math.min(w,~~R);return _[S](R-S)},r=t}else s||(e=xl(hn(e)?[]:{},e));if(!_){for(d in t)my.call(h,e,d,"get",t[d]);l=function(R){return yy(R,h)||(u?e.p:e)}}}return fa(r,l)},JE=function(e,t,r){var s=e.labels,l=$r,u,h,d;for(u in s)h=s[u]-t,h<0==!!r&&h&&l>(h=Math.abs(h))&&(d=u,l=h);return d},Bn=function(e,t,r){var s=e.vars,l=s[t],u=it,h=e._ctx,d,p,_;if(l)return d=s[t+"Params"],p=s.callbackScope||e,r&&Ys.length&&ud(),h&&(it=h),_=d?l.apply(p,d):l.call(p),it=u,_},hc=function(e){return ea(e),e.scrollTrigger&&e.scrollTrigger.kill(!!en),e.progress()<1&&Bn(e,"onInterrupt"),e},wl,ZS=[],JS=function(e){if(e)if(e=!e.name&&e.default||e,ly()||e.headless){var t=e.name,r=_t(e),s=t&&!r&&e.init?function(){this._props=[]}:e,l={init:xc,render:yy,add:my,kill:Ux,modifier:Lx,rawVars:0},u={targetTest:0,get:0,getSetter:_y,aliases:{},register:0};if(Pl(),e!==s){if(Un[t])return;Fn(s,Fn(cd(e,l),u)),xl(s.prototype,xl(l,cd(e,u))),Un[s.prop=t]=s,e.targetTest&&(Kf.push(s),hy[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}kS(t,s),e.register&&e.register(On,s,Cn)}else ZS.push(e)},et=255,fc={aqua:[0,et,et],lime:[0,et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,et],navy:[0,0,128],white:[et,et,et],olive:[128,128,0],yellow:[et,et,0],orange:[et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[et,0,0],pink:[et,192,203],cyan:[0,et,et],transparent:[et,et,et,0]},Lg=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*et+.5|0},eA=function(e,t,r){var s=e?Qi(e)?[e>>16,e>>8&et,e&et]:0:fc.black,l,u,h,d,p,_,v,w,b,R;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),fc[e])s=fc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),u=e.charAt(2),h=e.charAt(3),e="#"+l+l+u+u+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&et,s&et,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&et,e&et]}else if(e.substr(0,3)==="hsl"){if(s=R=e.match(u_),!t)d=+s[0]%360/360,p=+s[1]/100,_=+s[2]/100,u=_<=.5?_*(p+1):_+p-_*p,l=_*2-u,s.length>3&&(s[3]*=1),s[0]=Lg(d+1/3,l,u),s[1]=Lg(d,l,u),s[2]=Lg(d-1/3,l,u);else if(~e.indexOf("="))return s=e.match(OS),r&&s.length<4&&(s[3]=1),s}else s=e.match(u_)||fc.transparent;s=s.map(Number)}return t&&!R&&(l=s[0]/et,u=s[1]/et,h=s[2]/et,v=Math.max(l,u,h),w=Math.min(l,u,h),_=(v+w)/2,v===w?d=p=0:(b=v-w,p=_>.5?b/(2-v-w):b/(v+w),d=v===l?(u-h)/b+(u<h?6:0):v===u?(h-l)/b+2:(l-u)/b+4,d*=60),s[0]=~~(d+.5),s[1]=~~(p*100+.5),s[2]=~~(_*100+.5)),r&&s.length<4&&(s[3]=1),s},tA=function(e){var t=[],r=[],s=-1;return e.split(Qs).forEach(function(l){var u=l.match(El)||[];t.push.apply(t,u),r.push(s+=u.length+1)}),t.c=r,t},ew=function(e,t,r){var s="",l=(e+s).match(Qs),u=t?"hsla(":"rgba(",h=0,d,p,_,v;if(!l)return e;if(l=l.map(function(w){return(w=eA(w,t,1))&&u+(t?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),r&&(_=tA(e),d=r.c,d.join(s)!==_.c.join(s)))for(p=e.replace(Qs,"1").split(El),v=p.length-1;h<v;h++)s+=p[h]+(~d.indexOf(h)?l.shift()||u+"0,0,0,0)":(_.length?_:l.length?l:r).shift());if(!p)for(p=e.split(Qs),v=p.length-1;h<v;h++)s+=p[h]+l[h];return s+p[v]},Qs=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in fc)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),bx=/hsl[a]?\(/,nA=function(e){var t=e.join(" "),r;if(Qs.lastIndex=0,Qs.test(t))return r=bx.test(t),e[1]=ew(e[1],r),e[0]=ew(e[0],r,tA(e[1])),!0},Nc,zn=function(){var n=Date.now,e=500,t=33,r=n(),s=r,l=1e3/240,u=l,h=[],d,p,_,v,w,b,R=function S(D){var k=n()-s,L=D===!0,V,H,q,X;if((k>e||k<0)&&(r+=k-t),s+=k,q=s-r,V=q-u,(V>0||L)&&(X=++v.frame,w=q-v.time*1e3,v.time=q=q/1e3,u+=V+(V>=l?4:l-V),H=1),L||(d=p(S)),H)for(b=0;b<h.length;b++)h[b](q,w,X,D)};return v={time:0,frame:0,tick:function(){R(!0)},deltaRatio:function(D){return w/(1e3/(D||60))},wake:function(){NS&&(!c_&&ly()&&(Gr=c_=window,uy=Gr.document||{},qn.gsap=On,(Gr.gsapVersions||(Gr.gsapVersions=[])).push(On.version),PS(ld||Gr.GreenSockGlobals||!Gr.gsap&&Gr||{}),ZS.forEach(JS)),_=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&v.sleep(),p=_||function(D){return setTimeout(D,u-v.time*1e3+1|0)},Nc=1,R(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(d),Nc=0,p=xc},lagSmoothing:function(D,k){e=D||1/0,t=Math.min(k||33,e)},fps:function(D){l=1e3/(D||240),u=v.time*1e3+l},add:function(D,k,L){var V=k?function(H,q,X,x){D(H,q,X,x),v.remove(V)}:D;return v.remove(D),h[L?"unshift":"push"](V),Pl(),V},remove:function(D,k){~(k=h.indexOf(D))&&h.splice(k,1)&&b>=k&&b--},_listeners:h},v}(),Pl=function(){return!Nc&&zn.wake()},Ue={},Sx=/^[\d.\-M][\d.\-,\s]/,Ax=/["']/g,Rx=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),s=r[0],l=1,u=r.length,h,d,p;l<u;l++)d=r[l],h=l!==u-1?d.lastIndexOf(","):d.length,p=d.substr(0,h),t[s]=isNaN(p)?p.replace(Ax,"").trim():+p,s=d.substr(h+1).trim();return t},Cx=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<r?e.indexOf(")",r+1):r)},Ix=function(e){var t=(e+"").split("("),r=Ue[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Rx(t[1])]:Cx(e).split(",").map(zS)):Ue._CE&&Sx.test(e)?Ue._CE("",e):r},rA=function(e){return function(t){return 1-e(1-t)}},iA=function n(e,t){for(var r=e._first,s;r;)r instanceof Tn?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=t)),r=r._next},io=function(e,t){return e&&(_t(e)?e:Ue[e]||Ix(e))||t},yo=function(e,t,r,s){r===void 0&&(r=function(d){return 1-t(1-d)}),s===void 0&&(s=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var l={easeIn:t,easeOut:r,easeInOut:s},u;return Rn(e,function(h){Ue[h]=qn[h]=l,Ue[u=h.toLowerCase()]=r;for(var d in l)Ue[u+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Ue[h+"."+d]=l[d]}),l},sA=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Ug=function n(e,t,r){var s=t>=1?t:1,l=(r||(e?.3:.45))/(t<1?t:1),u=l/l_*(Math.asin(1/s)||0),h=function(_){return _===1?1:s*Math.pow(2,-10*_)*nx((_-u)*l)+1},d=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:sA(h);return l=l_/l,d.config=function(p,_){return n(e,p,_)},d},zg=function n(e,t){t===void 0&&(t=1.70158);var r=function(u){return u?--u*u*((t+1)*u+t)+1:0},s=e==="out"?r:e==="in"?function(l){return 1-r(1-l)}:sA(r);return s.config=function(l){return n(e,l)},s};Rn("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;yo(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ue.Linear.easeNone=Ue.none=Ue.Linear.easeIn;yo("Elastic",Ug("in"),Ug("out"),Ug());(function(n,e){var t=1/e,r=2*t,s=2.5*t,l=function(h){return h<t?n*h*h:h<r?n*Math.pow(h-1.5/e,2)+.75:h<s?n*(h-=2.25/e)*h+.9375:n*Math.pow(h-2.625/e,2)+.984375};yo("Bounce",function(u){return 1-l(1-u)},l)})(7.5625,2.75);yo("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});yo("Circ",function(n){return-(IS(1-n*n)-1)});yo("Sine",function(n){return n===1?1:-tx(n*JO)+1});yo("Back",zg("in"),zg("out"),zg());Ue.SteppedEase=Ue.steps=qn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,s=e+(t?0:1),l=t?1:0,u=1-cn;return function(h){return((s*nh(0,u,h)|0)+l)*r}}};Ol.ease=Ue["quad.out"];Rn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return fy+=n+","+n+"Params,"});var aA=function(e,t){this.id=ex++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:LS,this.set=t?t.getSetter:_y},Pc=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Nl(this,+t.duration,1,1),this.data=t.data,it&&(this._ctx=it,it.data.push(this)),Nc||zn.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Nl(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(Pl(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for($d(this,r),!l._dp||l.parent||qS(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Qr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===cn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),US(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+WE(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+WE(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*l,s):this._repeat?Ml(this._tTime,l)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var l=this.parent&&this._ts?hd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(nh(-Math.abs(this._delay),this._tDur,l),s!==!1),Kd(this),ux(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Pl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==cn&&(this._tTime-=cn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Qr(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(An(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?hd(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=sx);var s=en;return en=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),en=s,this},e.globalTime=function(r){for(var s=this,l=arguments.length?r:s.rawTime();s;)l=s._start+l/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):l},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,ZE(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,ZE(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(ur(this,r),An(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,An(s)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,l;return!!(!r||this._ts&&this._initted&&r.isActive()&&(l=r.rawTime(!0))>=s&&l<this.endTime(!0)-cn)},e.eventCallback=function(r,s,l){var u=this.vars;return arguments.length>1?(s?(u[r]=s,l&&(u[r+"Params"]=l),r==="onUpdate"&&(this._onUpdate=s)):delete u[r],this):u[r]},e.then=function(r){var s=this;return new Promise(function(l){var u=_t(r)?r:BS,h=function(){var p=s.then;s.then=null,_t(u)&&(u=u(s))&&(u.then||u===s)&&(s.then=p),l(u),s.then=p};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?h():s._prom=h})},e.kill=function(){hc(this)},n}();Fn(Pc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Tn=function(n){CS(e,n);function e(r,s){var l;return r===void 0&&(r={}),l=n.call(this,r)||this,l.labels={},l.smoothChildTiming=!!r.smoothChildTiming,l.autoRemoveChildren=!!r.autoRemoveChildren,l._sort=An(r.sortChildren),lt&&Qr(r.parent||lt,Vi(l),s),r.reversed&&l.reverse(),r.paused&&l.paused(!0),r.scrollTrigger&&FS(Vi(l),r.scrollTrigger),l}var t=e.prototype;return t.to=function(s,l,u){return vc(0,arguments,this),this},t.from=function(s,l,u){return vc(1,arguments,this),this},t.fromTo=function(s,l,u,h){return vc(2,arguments,this),this},t.set=function(s,l,u){return l.duration=0,l.parent=this,yc(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new Ct(s,l,ur(this,u),1),this},t.call=function(s,l,u){return Qr(this,Ct.delayedCall(0,s,l),u)},t.staggerTo=function(s,l,u,h,d,p,_){return u.duration=l,u.stagger=u.stagger||h,u.onComplete=p,u.onCompleteParams=_,u.parent=this,new Ct(s,u,ur(this,d)),this},t.staggerFrom=function(s,l,u,h,d,p,_){return u.runBackwards=1,yc(u).immediateRender=An(u.immediateRender),this.staggerTo(s,l,u,h,d,p,_)},t.staggerFromTo=function(s,l,u,h,d,p,_,v){return h.startAt=u,yc(h).immediateRender=An(h.immediateRender),this.staggerTo(s,l,h,d,p,_,v)},t.render=function(s,l,u){var h=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,_=s<=0?0:It(s),v=this._zTime<0!=s<0&&(this._initted||!p),w,b,R,S,D,k,L,V,H,q,X,x;if(this!==lt&&_>d&&s>=0&&(_=d),_!==this._tTime||u||v){if(h!==this._time&&p&&(_+=this._time-h,s+=this._time-h),w=_,H=this._start,V=this._ts,k=!V,v&&(p||(h=this._zTime),(s||!l)&&(this._zTime=s)),this._repeat){if(X=this._yoyo,D=p+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(D*100+s,l,u);if(w=It(_%D),_===d?(S=this._repeat,w=p):(q=It(_/D),S=~~q,S&&S===q&&(w=p,S--),w>p&&(w=p)),q=Ml(this._tTime,D),!h&&this._tTime&&q!==S&&this._tTime-q*D-this._dur<=0&&(q=S),X&&S&1&&(w=p-w,x=1),S!==q&&!this._lock){var C=X&&q&1,A=C===(X&&S&1);if(S<q&&(C=!C),h=C?0:_%p?p:_,this._lock=1,this.render(h||(x?0:It(S*D)),l,!p)._lock=0,this._tTime=_,!l&&this.parent&&Bn(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),h&&h!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,A&&(this._lock=2,h=C?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;iA(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=dx(this,It(h),It(w)),L&&(_-=w-(w=L._start))),this._tTime=_,this._time=w,this._act=!V,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,h=0),!h&&w&&!l&&!S&&(Bn(this,"onStart"),this._tTime!==_))return this;if(w>=h&&s>=0)for(b=this._first;b;){if(R=b._next,(b._act||w>=b._start)&&b._ts&&L!==b){if(b.parent!==this)return this.render(s,l,u);if(b.render(b._ts>0?(w-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(w-b._start)*b._ts,l,u),w!==this._time||!this._ts&&!k){L=0,R&&(_+=this._zTime=-1e-8);break}}b=R}else{b=this._last;for(var M=s<0?s:w;b;){if(R=b._prev,(b._act||M<=b._end)&&b._ts&&L!==b){if(b.parent!==this)return this.render(s,l,u);if(b.render(b._ts>0?(M-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(M-b._start)*b._ts,l,u||en&&(b._initted||b._startAt)),w!==this._time||!this._ts&&!k){L=0,R&&(_+=this._zTime=M?-1e-8:cn);break}}b=R}}if(L&&!l&&(this.pause(),L.render(w>=h?0:-1e-8)._zTime=w>=h?1:-1,this._ts))return this._start=H,Kd(this),this.render(s,l,u);this._onUpdate&&!l&&Bn(this,"onUpdate",!0),(_===d&&this._tTime>=this.totalDuration()||!_&&h)&&(H===this._start||Math.abs(V)!==Math.abs(this._ts))&&(this._lock||((s||!p)&&(_===d&&this._ts>0||!_&&this._ts<0)&&ea(this,1),!l&&!(s<0&&!h)&&(_||h||!d)&&(Bn(this,_===d&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,l){var u=this;if(Qi(l)||(l=ur(this,l,s)),!(s instanceof Pc)){if(hn(s))return s.forEach(function(h){return u.add(h,l)}),this;if(Yt(s))return this.addLabel(s,l);if(_t(s))s=Ct.delayedCall(0,s);else return this}return this!==s?Qr(this,s,l):this},t.getChildren=function(s,l,u,h){s===void 0&&(s=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),h===void 0&&(h=-1e8);for(var d=[],p=this._first;p;)p._start>=h&&(p instanceof Ct?l&&d.push(p):(u&&d.push(p),s&&d.push.apply(d,p.getChildren(!0,l,u)))),p=p._next;return d},t.getById=function(s){for(var l=this.getChildren(1,1,1),u=l.length;u--;)if(l[u].vars.id===s)return l[u]},t.remove=function(s){return Yt(s)?this.removeLabel(s):_t(s)?this.killTweensOf(s):(s.parent===this&&Qd(this,s),s===this._recent&&(this._recent=this._last),ro(this))},t.totalTime=function(s,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=It(zn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,l),this._forcing=0,this):this._tTime},t.addLabel=function(s,l){return this.labels[s]=ur(this,l),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,l,u){var h=Ct.delayedCall(0,l||xc,u);return h.data="isPause",this._hasPause=1,Qr(this,h,ur(this,s))},t.removePause=function(s){var l=this._first;for(s=ur(this,s);l;)l._start===s&&l.data==="isPause"&&ea(l),l=l._next},t.killTweensOf=function(s,l,u){for(var h=this.getTweensOf(s,u),d=h.length;d--;)qs!==h[d]&&h[d].kill(s,l);return this},t.getTweensOf=function(s,l){for(var u=[],h=dr(s),d=this._first,p=Qi(l),_;d;)d instanceof Ct?ax(d._targets,h)&&(p?(!qs||d._initted&&d._ts)&&d.globalTime(0)<=l&&d.globalTime(d.totalDuration())>l:!l||d.isActive())&&u.push(d):(_=d.getTweensOf(h,l)).length&&u.push.apply(u,_),d=d._next;return u},t.tweenTo=function(s,l){l=l||{};var u=this,h=ur(u,s),d=l,p=d.startAt,_=d.onStart,v=d.onStartParams,w=d.immediateRender,b,R=Ct.to(u,Fn({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale())||cn,onStart:function(){if(u.pause(),!b){var D=l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale());R._dur!==D&&Nl(R,D,0,1).render(R._time,!0,!0),b=1}_&&_.apply(R,v||[])}},l));return w?R.render(0):R},t.tweenFromTo=function(s,l,u){return this.tweenTo(l,Fn({startAt:{time:ur(this,s)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),JE(this,ur(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),JE(this,ur(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+cn)},t.shiftChildren=function(s,l,u){u===void 0&&(u=0);for(var h=this._first,d=this.labels,p;h;)h._start>=u&&(h._start+=s,h._end+=s),h=h._next;if(l)for(p in d)d[p]>=u&&(d[p]+=s);return ro(this)},t.invalidate=function(s){var l=this._first;for(this._lock=0;l;)l.invalidate(s),l=l._next;return n.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var l=this._first,u;l;)u=l._next,this.remove(l),l=u;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),ro(this)},t.totalDuration=function(s){var l=0,u=this,h=u._last,d=$r,p,_,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-s:s));if(u._dirty){for(v=u.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),_=h._start,_>d&&u._sort&&h._ts&&!u._lock?(u._lock=1,Qr(u,h,_-h._delay,1)._lock=0):d=_,_<0&&h._ts&&(l-=_,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=_/u._ts,u._time-=_,u._tTime-=_),u.shiftChildren(-_,!1,-1/0),d=0),h._end>l&&h._ts&&(l=h._end),h=p;Nl(u,u===lt&&u._time>l?u._time:l,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(s){if(lt._ts&&(US(lt,hd(s,lt)),VS=zn.frame),zn.frame>=$E){$E+=jn.autoSleep||120;var l=lt._first;if((!l||!l._ts)&&jn.autoSleep&&zn._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||zn.sleep()}}},e}(Pc);Fn(Tn.prototype,{_lock:0,_hasPause:0,_forcing:0});var Dx=function(e,t,r,s,l,u,h){var d=new Cn(this._pt,e,t,0,1,fA,null,l),p=0,_=0,v,w,b,R,S,D,k,L;for(d.b=r,d.e=s,r+="",s+="",(k=~s.indexOf("random("))&&(s=Mc(s)),u&&(L=[r,s],u(L,e,t),r=L[0],s=L[1]),w=r.match(kg)||[];v=kg.exec(s);)R=v[0],S=s.substring(p,v.index),b?b=(b+1)%5:S.substr(-5)==="rgba("&&(b=1),R!==w[_++]&&(D=parseFloat(w[_-1])||0,d._pt={_next:d._pt,p:S||_===1?S:",",s:D,c:R.charAt(1)==="="?bl(D,R)-D:parseFloat(R)-D,m:b&&b<4?Math.round:0},p=kg.lastIndex);return d.c=p<s.length?s.substring(p,s.length):"",d.fp=h,(xS.test(s)||k)&&(d.e=0),this._pt=d,d},my=function(e,t,r,s,l,u,h,d,p,_){_t(s)&&(s=s(l||0,e,u));var v=e[t],w=r!=="get"?r:_t(v)?p?e[t.indexOf("set")||!_t(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():v,b=_t(v)?p?Px:cA:gy,R;if(Yt(s)&&(~s.indexOf("random(")&&(s=Mc(s)),s.charAt(1)==="="&&(R=bl(w,s)+(un(w)||0),(R||R===0)&&(s=R))),!_||w!==s||__)return!isNaN(w*s)&&s!==""?(R=new Cn(this._pt,e,t,+w||0,s-(w||0),typeof v=="boolean"?Vx:hA,0,b),p&&(R.fp=p),h&&R.modifier(h,this,e),this._pt=R):(!v&&!(t in e)&&cy(t,s),Dx.call(this,e,t,w,s,b,d||jn.stringFilter,p))},Ox=function(e,t,r,s,l){if(_t(e)&&(e=Tc(e,l,t,r,s)),!ni(e)||e.style&&e.nodeType||hn(e)||DS(e))return Yt(e)?Tc(e,l,t,r,s):e;var u={},h;for(h in e)u[h]=Tc(e[h],l,t,r,s);return u},oA=function(e,t,r,s,l,u){var h,d,p,_;if(Un[e]&&(h=new Un[e]).init(l,h.rawVars?t[e]:Ox(t[e],s,l,u,r),r,s,u)!==!1&&(r._pt=d=new Cn(r._pt,l,e,0,1,h.render,h,0,h.priority),r!==wl))for(p=r._ptLookup[r._targets.indexOf(l)],_=h._props.length;_--;)p[h._props[_]]=d;return h},qs,__,py=function n(e,t,r){var s=e.vars,l=s.ease,u=s.startAt,h=s.immediateRender,d=s.lazy,p=s.onUpdate,_=s.runBackwards,v=s.yoyoEase,w=s.keyframes,b=s.autoRevert,R=e._dur,S=e._startAt,D=e._targets,k=e.parent,L=k&&k.data==="nested"?k.vars.targets:D,V=e._overwrite==="auto"&&!ay,H=e.timeline,q,X,x,C,A,M,U,B,N,xe,Ie,ae,he;if(H&&(!w||!l)&&(l="none"),e._ease=io(l,Ol.ease),e._yEase=v?rA(io(v===!0?l:v,Ol.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!H&&!!s.runBackwards,!H||w&&!s.stagger){if(B=D[0]?no(D[0]).harness:0,ae=B&&s[B.prop],q=cd(s,hy),S&&(S._zTime<0&&S.progress(1),t<0&&_&&h&&!b?S.render(-1,!0):S.revert(_&&R?Qf:ix),S._lazy=0),u){if(ea(e._startAt=Ct.set(D,Fn({data:"isStart",overwrite:!1,parent:k,immediateRender:!0,lazy:!S&&An(d),startAt:null,delay:0,onUpdate:p&&function(){return Bn(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(en||!h&&!b)&&e._startAt.revert(Qf),h&&R&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(_&&R&&!S){if(t&&(h=!1),x=Fn({overwrite:!1,data:"isFromStart",lazy:h&&!S&&An(d),immediateRender:h,stagger:0,parent:k},q),ae&&(x[B.prop]=ae),ea(e._startAt=Ct.set(D,x)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(en?e._startAt.revert(Qf):e._startAt.render(-1,!0)),e._zTime=t,!h)n(e._startAt,cn,cn);else if(!t)return}for(e._pt=e._ptCache=0,d=R&&An(d)||d&&!R,X=0;X<D.length;X++){if(A=D[X],U=A._gsap||dy(D)[X]._gsap,e._ptLookup[X]=xe={},h_[U.id]&&Ys.length&&ud(),Ie=L===D?X:L.indexOf(A),B&&(N=new B).init(A,ae||q,e,Ie,L)!==!1&&(e._pt=C=new Cn(e._pt,A,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(de){xe[de]=C}),N.priority&&(M=1)),!B||ae)for(x in q)Un[x]&&(N=oA(x,q,e,Ie,A,L))?N.priority&&(M=1):xe[x]=C=my.call(e,A,x,"get",q[x],Ie,L,0,s.stringFilter);e._op&&e._op[X]&&e.kill(A,e._op[X]),V&&e._pt&&(qs=e,lt.killTweensOf(A,xe,e.globalTime(t)),he=!e.parent,qs=0),e._pt&&d&&(h_[U.id]=1)}M&&dA(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!he,w&&t<=0&&H.render($r,!0,!0)},xx=function(e,t,r,s,l,u,h,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],_,v,w,b;if(!p)for(p=e._ptCache[t]=[],w=e._ptLookup,b=e._targets.length;b--;){if(_=w[b][t],_&&_.d&&_.d._pt)for(_=_.d._pt;_&&_.p!==t&&_.fp!==t;)_=_._next;if(!_)return __=1,e.vars[t]="+=0",py(e,h),__=0,d?Oc(t+" not eligible for reset"):1;p.push(_)}for(b=p.length;b--;)v=p[b],_=v._pt||v,_.s=(s||s===0)&&!l?s:_.s+(s||0)+u*_.c,_.c=r-_.s,v.e&&(v.e=Tt(r)+un(v.e)),v.b&&(v.b=_.s+un(v.b))},Mx=function(e,t){var r=e[0]?no(e[0]).harness:0,s=r&&r.aliases,l,u,h,d;if(!s)return t;l=xl({},t);for(u in s)if(u in l)for(d=s[u].split(","),h=d.length;h--;)l[d[h]]=l[u];return l},Nx=function(e,t,r,s){var l=t.ease||s||"power1.inOut",u,h;if(hn(t))h=r[e]||(r[e]=[]),t.forEach(function(d,p){return h.push({t:p/(t.length-1)*100,v:d,e:l})});else for(u in t)h=r[u]||(r[u]=[]),u==="ease"||h.push({t:parseFloat(e),v:t[u],e:l})},Tc=function(e,t,r,s,l){return _t(e)?e.call(t,r,s,l):Yt(e)&&~e.indexOf("random(")?Mc(e):e},lA=fy+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",uA={};Rn(lA+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return uA[n]=1});var Ct=function(n){CS(e,n);function e(r,s,l,u){var h;typeof s=="number"&&(l.duration=s,s=l,l=null),h=n.call(this,u?s:yc(s))||this;var d=h.vars,p=d.duration,_=d.delay,v=d.immediateRender,w=d.stagger,b=d.overwrite,R=d.keyframes,S=d.defaults,D=d.scrollTrigger,k=d.yoyoEase,L=s.parent||lt,V=(hn(r)||DS(r)?Qi(r[0]):"length"in s)?[r]:dr(r),H,q,X,x,C,A,M,U;if(h._targets=V.length?dy(V):Oc("GSAP target "+r+" not found. https://gsap.com",!jn.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=b,R||w||Vf(p)||Vf(_)){if(s=h.vars,H=h.timeline=new Tn({data:"nested",defaults:S||{},targets:L&&L.data==="nested"?L.vars.targets:V}),H.kill(),H.parent=H._dp=Vi(h),H._start=0,w||Vf(p)||Vf(_)){if(x=V.length,M=w&&QS(w),ni(w))for(C in w)~lA.indexOf(C)&&(U||(U={}),U[C]=w[C]);for(q=0;q<x;q++)X=cd(s,uA),X.stagger=0,k&&(X.yoyoEase=k),U&&xl(X,U),A=V[q],X.duration=+Tc(p,Vi(h),q,A,V),X.delay=(+Tc(_,Vi(h),q,A,V)||0)-h._delay,!w&&x===1&&X.delay&&(h._delay=_=X.delay,h._start+=_,X.delay=0),H.to(A,X,M?M(q,A,V):0),H._ease=Ue.none;H.duration()?p=_=0:h.timeline=0}else if(R){yc(Fn(H.vars.defaults,{ease:"none"})),H._ease=io(R.ease||s.ease||"none");var B=0,N,xe,Ie;if(hn(R))R.forEach(function(ae){return H.to(V,ae,">")}),H.duration();else{X={};for(C in R)C==="ease"||C==="easeEach"||Nx(C,R[C],X,R.easeEach);for(C in X)for(N=X[C].sort(function(ae,he){return ae.t-he.t}),B=0,q=0;q<N.length;q++)xe=N[q],Ie={ease:xe.e,duration:(xe.t-(q?N[q-1].t:0))/100*p},Ie[C]=xe.v,H.to(V,Ie,B),B+=Ie.duration;H.duration()<p&&H.to({},{duration:p-H.duration()})}}p||h.duration(p=H.duration())}else h.timeline=0;return b===!0&&!ay&&(qs=Vi(h),lt.killTweensOf(V),qs=0),Qr(L,Vi(h),l),s.reversed&&h.reverse(),s.paused&&h.paused(!0),(v||!p&&!R&&h._start===It(L._time)&&An(v)&&cx(Vi(h))&&L.data!=="nested")&&(h._tTime=-1e-8,h.render(Math.max(0,-_)||0)),D&&FS(Vi(h),D),h}var t=e.prototype;return t.render=function(s,l,u){var h=this._time,d=this._tDur,p=this._dur,_=s<0,v=s>d-cn&&!_?d:s<cn?0:s,w,b,R,S,D,k,L,V,H;if(!p)fx(this,s,l,u);else if(v!==this._tTime||!s||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(w=v,V=this.timeline,this._repeat){if(S=p+this._rDelay,this._repeat<-1&&_)return this.totalTime(S*100+s,l,u);if(w=It(v%S),v===d?(R=this._repeat,w=p):(D=It(v/S),R=~~D,R&&R===D?(w=p,R--):w>p&&(w=p)),k=this._yoyo&&R&1,k&&(H=this._yEase,w=p-w),D=Ml(this._tTime,S),w===h&&!u&&this._initted&&R===D)return this._tTime=v,this;R!==D&&(V&&this._yEase&&iA(V,k),this.vars.repeatRefresh&&!k&&!this._lock&&w!==S&&this._initted&&(this._lock=u=1,this.render(It(S*R),!0).invalidate()._lock=0))}if(!this._initted){if(HS(this,_?s:w,u,l,v))return this._tTime=0,this;if(h!==this._time&&!(u&&this.vars.repeatRefresh&&R!==D))return this;if(p!==this._dur)return this.render(s,l,u)}if(this._tTime=v,this._time=w,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(H||this._ease)(w/p),this._from&&(this.ratio=L=1-L),w&&!h&&!l&&!R&&(Bn(this,"onStart"),this._tTime!==v))return this;for(b=this._pt;b;)b.r(L,b.d),b=b._next;V&&V.render(s<0?s:V._dur*V._ease(w/this._dur),l,u)||this._startAt&&(this._zTime=s),this._onUpdate&&!l&&(_&&f_(this,s,l,u),Bn(this,"onUpdate")),this._repeat&&R!==D&&this.vars.onRepeat&&!l&&this.parent&&Bn(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(_&&!this._onUpdate&&f_(this,s,!0,!0),(s||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&ea(this,1),!l&&!(_&&!h)&&(v||h||k)&&(Bn(this,v===d?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},t.resetTo=function(s,l,u,h,d){Nc||zn.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_;return this._initted||py(this,p),_=this._ease(p/this._dur),xx(this,s,l,u,h,_,p,d)?this.resetTo(s,l,u,h,1):($d(this,0),this.parent||jS(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,l){if(l===void 0&&(l="all"),!s&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?hc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!en),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(s,l,qs&&qs.vars.overwrite!==!0)._first||hc(this),this.parent&&u!==this.timeline.totalDuration()&&Nl(this,this._dur*this.timeline._tDur/u,0,1),this}var h=this._targets,d=s?dr(s):h,p=this._ptLookup,_=this._pt,v,w,b,R,S,D,k;if((!l||l==="all")&&lx(h,d))return l==="all"&&(this._pt=0),hc(this);for(v=this._op=this._op||[],l!=="all"&&(Yt(l)&&(S={},Rn(l,function(L){return S[L]=1}),l=S),l=Mx(h,l)),k=h.length;k--;)if(~d.indexOf(h[k])){w=p[k],l==="all"?(v[k]=l,R=w,b={}):(b=v[k]=v[k]||{},R=l);for(S in R)D=w&&w[S],D&&((!("kill"in D.d)||D.d.kill(S)===!0)&&Qd(this,D,"_pt"),delete w[S]),b!=="all"&&(b[S]=1)}return this._initted&&!this._pt&&_&&hc(this),this},e.to=function(s,l){return new e(s,l,arguments[2])},e.from=function(s,l){return vc(1,arguments)},e.delayedCall=function(s,l,u,h){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:l,onReverseComplete:l,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:h})},e.fromTo=function(s,l,u){return vc(2,arguments)},e.set=function(s,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(s,l)},e.killTweensOf=function(s,l,u){return lt.killTweensOf(s,l,u)},e}(Pc);Fn(Ct.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Rn("staggerTo,staggerFrom,staggerFromTo",function(n){Ct[n]=function(){var e=new Tn,t=m_.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var gy=function(e,t,r){return e[t]=r},cA=function(e,t,r){return e[t](r)},Px=function(e,t,r,s){return e[t](s.fp,r)},kx=function(e,t,r){return e.setAttribute(t,r)},_y=function(e,t){return _t(e[t])?cA:oy(e[t])&&e.setAttribute?kx:gy},hA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Vx=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},fA=function(e,t){var r=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=t.c}t.set(t.t,t.p,s,t)},yy=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Lx=function(e,t,r,s){for(var l=this._pt,u;l;)u=l._next,l.p===s&&l.modifier(e,t,r),l=u},Ux=function(e){for(var t=this._pt,r,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?Qd(this,t,"_pt"):t.dep||(r=1),t=s;return!r},zx=function(e,t,r,s){s.mSet(e,t,s.m.call(s.tween,r,s.mt),s)},dA=function(e){for(var t=e._pt,r,s,l,u;t;){for(r=t._next,s=l;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:u)?t._prev._next=t:l=t,(t._next=s)?s._prev=t:u=t,t=r}e._pt=l},Cn=function(){function n(t,r,s,l,u,h,d,p,_){this.t=r,this.s=l,this.c=u,this.p=s,this.r=h||hA,this.d=d||this,this.set=p||gy,this.pr=_||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,s,l){this.mSet=this.mSet||this.set,this.set=zx,this.m=r,this.mt=l,this.tween=s},n}();Rn(fy+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return hy[n]=1});qn.TweenMax=qn.TweenLite=Ct;qn.TimelineLite=qn.TimelineMax=Tn;lt=new Tn({sortChildren:!1,defaults:Ol,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});jn.stringFilter=nA;var so=[],$f={},Bx=[],tw=0,jx=0,Bg=function(e){return($f[e]||Bx).map(function(t){return t()})},y_=function(){var e=Date.now(),t=[];e-tw>2&&(Bg("matchMediaInit"),so.forEach(function(r){var s=r.queries,l=r.conditions,u,h,d,p;for(h in s)u=Gr.matchMedia(s[h]).matches,u&&(d=1),u!==l[h]&&(l[h]=u,p=1);p&&(r.revert(),d&&t.push(r))}),Bg("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),tw=e,Bg("matchMedia"))},mA=function(){function n(t,r){this.selector=r&&p_(r),this.data=[],this._r=[],this.isReverted=!1,this.id=jx++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,s,l){_t(r)&&(l=s,s=r,r=_t);var u=this,h=function(){var p=it,_=u.selector,v;return p&&p!==u&&p.data.push(u),l&&(u.selector=p_(l)),it=u,v=s.apply(u,arguments),_t(v)&&u._r.push(v),it=p,u.selector=_,u.isReverted=!1,v};return u.last=h,r===_t?h(u,function(d){return u.add(null,d)}):r?u[r]=h:h},e.ignore=function(r){var s=it;it=null,r(this),it=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof n?r.push.apply(r,s.getTweens()):s instanceof Ct&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var l=this;if(r?function(){for(var h=l.getTweens(),d=l.data.length,p;d--;)p=l.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(_){return h.splice(h.indexOf(_),1)}));for(h.map(function(_){return{g:_._dur||_._delay||_._sat&&!_._sat.vars.immediateRender?_.globalTime(0):-1/0,t:_}}).sort(function(_,v){return v.g-_.g||-1/0}).forEach(function(_){return _.t.revert(r)}),d=l.data.length;d--;)p=l.data[d],p instanceof Tn?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof Ct)&&p.revert&&p.revert(r);l._r.forEach(function(_){return _(r,l)}),l.isReverted=!0}():this.data.forEach(function(h){return h.kill&&h.kill()}),this.clear(),s)for(var u=so.length;u--;)so[u].id===this.id&&so.splice(u,1)},e.revert=function(r){this.kill(r||{})},n}(),qx=function(){function n(t){this.contexts=[],this.scope=t,it&&it.data.push(this)}var e=n.prototype;return e.add=function(r,s,l){ni(r)||(r={matches:r});var u=new mA(0,l||this.scope),h=u.conditions={},d,p,_;it&&!u.selector&&(u.selector=it.selector),this.contexts.push(u),s=u.add("onMatch",s),u.queries=r;for(p in r)p==="all"?_=1:(d=Gr.matchMedia(r[p]),d&&(so.indexOf(u)<0&&so.push(u),(h[p]=d.matches)&&(_=1),d.addListener?d.addListener(y_):d.addEventListener("change",y_)));return _&&s(u,function(v){return u.add(null,v)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},n}(),fd={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(s){return JS(s)})},timeline:function(e){return new Tn(e)},getTweensOf:function(e,t){return lt.getTweensOf(e,t)},getProperty:function(e,t,r,s){Yt(e)&&(e=dr(e)[0]);var l=no(e||{}).get,u=r?BS:zS;return r==="native"&&(r=""),e&&(t?u((Un[t]&&Un[t].get||l)(e,t,r,s)):function(h,d,p){return u((Un[h]&&Un[h].get||l)(e,h,d,p))})},quickSetter:function(e,t,r){if(e=dr(e),e.length>1){var s=e.map(function(_){return On.quickSetter(_,t,r)}),l=s.length;return function(_){for(var v=l;v--;)s[v](_)}}e=e[0]||{};var u=Un[t],h=no(e),d=h.harness&&(h.harness.aliases||{})[t]||t,p=u?function(_){var v=new u;wl._pt=0,v.init(e,r?_+r:_,wl,0,[e]),v.render(1,v),wl._pt&&yy(1,wl)}:h.set(e,d);return u?p:function(_){return p(e,d,r?_+r:_,h,1)}},quickTo:function(e,t,r){var s,l=On.to(e,Fn((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),u=function(d,p,_){return l.resetTo(t,d,p,_)};return u.tween=l,u},isTweening:function(e){return lt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=io(e.ease,Ol.ease)),XE(Ol,e||{})},config:function(e){return XE(jn,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.plugins,l=e.defaults,u=e.extendTimeline;(s||"").split(",").forEach(function(h){return h&&!Un[h]&&!qn[h]&&Oc(t+" effect requires "+h+" plugin.")}),Vg[t]=function(h,d,p){return r(dr(h),Fn(d||{},l),p)},u&&(Tn.prototype[t]=function(h,d,p){return this.add(Vg[t](h,ni(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){Ue[e]=io(t)},parseEase:function(e,t){return arguments.length?io(e,t):Ue},getById:function(e){return lt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Tn(e),s,l;for(r.smoothChildTiming=An(e.smoothChildTiming),lt.remove(r),r._dp=0,r._time=r._tTime=lt._time,s=lt._first;s;)l=s._next,(t||!(!s._dur&&s instanceof Ct&&s.vars.onComplete===s._targets[0]))&&Qr(r,s,s._start-s._delay),s=l;return Qr(lt,r,0),r},context:function(e,t){return e?new mA(e,t):it},matchMedia:function(e){return new qx(e)},matchMediaRefresh:function(){return so.forEach(function(e){var t=e.conditions,r,s;for(s in t)t[s]&&(t[s]=!1,r=1);r&&e.revert()})||y_()},addEventListener:function(e,t){var r=$f[e]||($f[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=$f[e],s=r&&r.indexOf(t);s>=0&&r.splice(s,1)},utils:{wrap:Tx,wrapYoyo:Ex,distribute:QS,random:$S,snap:KS,normalize:vx,getUnit:un,clamp:px,splitColor:eA,toArray:dr,selector:p_,mapRange:WS,pipe:_x,unitize:yx,interpolate:wx,shuffle:YS},install:PS,effects:Vg,ticker:zn,updateRoot:Tn.updateRoot,plugins:Un,globalTimeline:lt,core:{PropTween:Cn,globals:kS,Tween:Ct,Timeline:Tn,Animation:Pc,getCache:no,_removeLinkedListItem:Qd,reverting:function(){return en},context:function(e){return e&&it&&(it.data.push(e),e._ctx=it),it},suppressOverwrites:function(e){return ay=e}}};Rn("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return fd[n]=Ct[n]});zn.add(Tn.updateRoot);wl=fd.to({},{duration:0});var Fx=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Hx=function(e,t){var r=e._targets,s,l,u;for(s in t)for(l=r.length;l--;)u=e._ptLookup[l][s],u&&(u=u.d)&&(u._pt&&(u=Fx(u,s)),u&&u.modifier&&u.modifier(t[s],e,r[l],s))},jg=function(e,t){return{name:e,rawVars:1,init:function(s,l,u){u._onInit=function(h){var d,p;if(Yt(l)&&(d={},Rn(l,function(_){return d[_]=1}),l=d),t){d={};for(p in l)d[p]=t(l[p]);l=d}Hx(h,l)}}}},On=fd.registerPlugin({name:"attr",init:function(e,t,r,s,l){var u,h,d;this.tween=r;for(u in t)d=e.getAttribute(u)||"",h=this.add(e,"setAttribute",(d||0)+"",t[u],s,l,0,0,u),h.op=u,h.b=d,this._props.push(u)},render:function(e,t){for(var r=t._pt;r;)en?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},jg("roundProps",g_),jg("modifiers"),jg("snap",KS))||fd;Ct.version=Tn.version=On.version="3.12.7";NS=1;ly()&&Pl();Ue.Power0;Ue.Power1;Ue.Power2;Ue.Power3;Ue.Power4;Ue.Linear;Ue.Quad;Ue.Cubic;Ue.Quart;Ue.Quint;Ue.Strong;Ue.Elastic;Ue.Back;Ue.SteppedEase;Ue.Bounce;Ue.Sine;Ue.Expo;Ue.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var nw,Fs,Sl,vy,Za,rw,Ty,Gx=function(){return typeof window<"u"},Ki={},Ka=180/Math.PI,Al=Math.PI/180,ml=Math.atan2,iw=1e8,Ey=/([A-Z])/g,Yx=/(left|right|width|margin|padding|x)/i,Qx=/[\s,\(]\S/,Kr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},v_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Kx=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},$x=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Xx=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},pA=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},gA=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Wx=function(e,t,r){return e.style[t]=r},Zx=function(e,t,r){return e.style.setProperty(t,r)},Jx=function(e,t,r){return e._gsap[t]=r},e2=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},t2=function(e,t,r,s,l){var u=e._gsap;u.scaleX=u.scaleY=r,u.renderTransform(l,u)},n2=function(e,t,r,s,l){var u=e._gsap;u[t]=r,u.renderTransform(l,u)},ut="transform",In=ut+"Origin",r2=function n(e,t){var r=this,s=this.target,l=s.style,u=s._gsap;if(e in Ki&&l){if(this.tfm=this.tfm||{},e!=="transform")e=Kr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(h){return r.tfm[h]=Li(s,h)}):this.tfm[e]=u.x?u[e]:Li(s,e),e===In&&(this.tfm.zOrigin=u.zOrigin);else return Kr.transform.split(",").forEach(function(h){return n.call(r,h,t)});if(this.props.indexOf(ut)>=0)return;u.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(In,t,"")),e=ut}(l||t)&&this.props.push(e,t,l[e])},_A=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},i2=function(){var e=this.props,t=this.target,r=t.style,s=t._gsap,l,u;for(l=0;l<e.length;l+=3)e[l+1]?e[l+1]===2?t[e[l]](e[l+2]):t[e[l]]=e[l+2]:e[l+2]?r[e[l]]=e[l+2]:r.removeProperty(e[l].substr(0,2)==="--"?e[l]:e[l].replace(Ey,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)s[u]=this.tfm[u];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),l=Ty(),(!l||!l.isStart)&&!r[ut]&&(_A(r),s.zOrigin&&r[In]&&(r[In]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},yA=function(e,t){var r={target:e,props:[],revert:i2,save:r2};return e._gsap||On.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return r.save(s)}),r},vA,T_=function(e,t){var r=Fs.createElementNS?Fs.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Fs.createElement(e);return r&&r.style?r:Fs.createElement(e)},Xr=function n(e,t,r){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(Ey,"-$1").toLowerCase())||s.getPropertyValue(t)||!r&&n(e,kl(t)||t,1)||""},sw="O,Moz,ms,Ms,Webkit".split(","),kl=function(e,t,r){var s=t||Za,l=s.style,u=5;if(e in l&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(sw[u]+e in l););return u<0?null:(u===3?"ms":u>=0?sw[u]:"")+e},E_=function(){Gx()&&window.document&&(nw=window,Fs=nw.document,Sl=Fs.documentElement,Za=T_("div")||{style:{}},T_("div"),ut=kl(ut),In=ut+"Origin",Za.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vA=!!kl("perspective"),Ty=On.core.reverting,vy=1)},aw=function(e){var t=e.ownerSVGElement,r=T_("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),l;s.style.display="block",r.appendChild(s),Sl.appendChild(r);try{l=s.getBBox()}catch{}return r.removeChild(s),Sl.removeChild(r),l},ow=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},TA=function(e){var t,r;try{t=e.getBBox()}catch{t=aw(e),r=1}return t&&(t.width||t.height)||r||(t=aw(e)),t&&!t.width&&!t.x&&!t.y?{x:+ow(e,["x","cx","x1"])||0,y:+ow(e,["y","cy","y1"])||0,width:0,height:0}:t},EA=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&TA(e))},lo=function(e,t){if(t){var r=e.style,s;t in Ki&&t!==In&&(t=ut),r.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(s==="--"?t:t.replace(Ey,"-$1").toLowerCase())):r.removeAttribute(t)}},Hs=function(e,t,r,s,l,u){var h=new Cn(e._pt,t,r,0,1,u?gA:pA);return e._pt=h,h.b=s,h.e=l,e._props.push(r),h},lw={deg:1,rad:1,turn:1},s2={grid:1,flex:1},ta=function n(e,t,r,s){var l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",h=Za.style,d=Yx.test(t),p=e.tagName.toLowerCase()==="svg",_=(p?"client":"offset")+(d?"Width":"Height"),v=100,w=s==="px",b=s==="%",R,S,D,k;if(s===u||!l||lw[s]||lw[u])return l;if(u!=="px"&&!w&&(l=n(e,t,r,"px")),k=e.getCTM&&EA(e),(b||u==="%")&&(Ki[t]||~t.indexOf("adius")))return R=k?e.getBBox()[d?"width":"height"]:e[_],Tt(b?l/R*v:l/100*R);if(h[d?"width":"height"]=v+(w?u:s),S=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!p?e:e.parentNode,k&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===Fs||!S.appendChild)&&(S=Fs.body),D=S._gsap,D&&b&&D.width&&d&&D.time===zn.time&&!D.uncache)return Tt(l/D.width*v);if(b&&(t==="height"||t==="width")){var L=e.style[t];e.style[t]=v+s,R=e[_],L?e.style[t]=L:lo(e,t)}else(b||u==="%")&&!s2[Xr(S,"display")]&&(h.position=Xr(e,"position")),S===e&&(h.position="static"),S.appendChild(Za),R=Za[_],S.removeChild(Za),h.position="absolute";return d&&b&&(D=no(S),D.time=zn.time,D.width=S[_]),Tt(w?R*l/v:R&&l?v/R*l:0)},Li=function(e,t,r,s){var l;return vy||E_(),t in Kr&&t!=="transform"&&(t=Kr[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ki[t]&&t!=="transform"?(l=Vc(e,s),l=t!=="transformOrigin"?l[t]:l.svg?l.origin:md(Xr(e,In))+" "+l.zOrigin+"px"):(l=e.style[t],(!l||l==="auto"||s||~(l+"").indexOf("calc("))&&(l=dd[t]&&dd[t](e,t,r)||Xr(e,t)||LS(e,t)||(t==="opacity"?1:0))),r&&!~(l+"").trim().indexOf(" ")?ta(e,t,l,r)+r:l},a2=function(e,t,r,s){if(!r||r==="none"){var l=kl(t,e,1),u=l&&Xr(e,l,1);u&&u!==r?(t=l,r=u):t==="borderColor"&&(r=Xr(e,"borderTopColor"))}var h=new Cn(this._pt,e.style,t,0,1,fA),d=0,p=0,_,v,w,b,R,S,D,k,L,V,H,q;if(h.b=r,h.e=s,r+="",s+="",s==="auto"&&(S=e.style[t],e.style[t]=s,s=Xr(e,t)||s,S?e.style[t]=S:lo(e,t)),_=[r,s],nA(_),r=_[0],s=_[1],w=r.match(El)||[],q=s.match(El)||[],q.length){for(;v=El.exec(s);)D=v[0],L=s.substring(d,v.index),R?R=(R+1)%5:(L.substr(-5)==="rgba("||L.substr(-5)==="hsla(")&&(R=1),D!==(S=w[p++]||"")&&(b=parseFloat(S)||0,H=S.substr((b+"").length),D.charAt(1)==="="&&(D=bl(b,D)+H),k=parseFloat(D),V=D.substr((k+"").length),d=El.lastIndex-V.length,V||(V=V||jn.units[t]||H,d===s.length&&(s+=V,h.e+=V)),H!==V&&(b=ta(e,t,S,V)||0),h._pt={_next:h._pt,p:L||p===1?L:",",s:b,c:k-b,m:R&&R<4||t==="zIndex"?Math.round:0});h.c=d<s.length?s.substring(d,s.length):""}else h.r=t==="display"&&s==="none"?gA:pA;return xS.test(s)&&(h.e=0),this._pt=h,h},uw={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},o2=function(e){var t=e.split(" "),r=t[0],s=t[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),t[0]=uw[r]||r,t[1]=uw[s]||s,t.join(" ")},l2=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,s=r.style,l=t.u,u=r._gsap,h,d,p;if(l==="all"||l===!0)s.cssText="",d=1;else for(l=l.split(","),p=l.length;--p>-1;)h=l[p],Ki[h]&&(d=1,h=h==="transformOrigin"?In:ut),lo(r,h);d&&(lo(r,ut),u&&(u.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Vc(r,1),u.uncache=1,_A(s)))}},dd={clearProps:function(e,t,r,s,l){if(l.data!=="isFromStart"){var u=e._pt=new Cn(e._pt,t,r,0,0,l2);return u.u=s,u.pr=-10,u.tween=l,e._props.push(r),1}}},kc=[1,0,0,1,0,0],wA={},bA=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},cw=function(e){var t=Xr(e,ut);return bA(t)?kc:t.substr(7).match(OS).map(Tt)},wy=function(e,t){var r=e._gsap||no(e),s=e.style,l=cw(e),u,h,d,p;return r.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,l=[d.a,d.b,d.c,d.d,d.e,d.f],l.join(",")==="1,0,0,1,0,0"?kc:l):(l===kc&&!e.offsetParent&&e!==Sl&&!r.svg&&(d=s.display,s.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,h=e.nextElementSibling,Sl.appendChild(e)),l=cw(e),d?s.display=d:lo(e,"display"),p&&(h?u.insertBefore(e,h):u?u.appendChild(e):Sl.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},w_=function(e,t,r,s,l,u){var h=e._gsap,d=l||wy(e,!0),p=h.xOrigin||0,_=h.yOrigin||0,v=h.xOffset||0,w=h.yOffset||0,b=d[0],R=d[1],S=d[2],D=d[3],k=d[4],L=d[5],V=t.split(" "),H=parseFloat(V[0])||0,q=parseFloat(V[1])||0,X,x,C,A;r?d!==kc&&(x=b*D-R*S)&&(C=H*(D/x)+q*(-S/x)+(S*L-D*k)/x,A=H*(-R/x)+q*(b/x)-(b*L-R*k)/x,H=C,q=A):(X=TA(e),H=X.x+(~V[0].indexOf("%")?H/100*X.width:H),q=X.y+(~(V[1]||V[0]).indexOf("%")?q/100*X.height:q)),s||s!==!1&&h.smooth?(k=H-p,L=q-_,h.xOffset=v+(k*b+L*S)-k,h.yOffset=w+(k*R+L*D)-L):h.xOffset=h.yOffset=0,h.xOrigin=H,h.yOrigin=q,h.smooth=!!s,h.origin=t,h.originIsAbsolute=!!r,e.style[In]="0px 0px",u&&(Hs(u,h,"xOrigin",p,H),Hs(u,h,"yOrigin",_,q),Hs(u,h,"xOffset",v,h.xOffset),Hs(u,h,"yOffset",w,h.yOffset)),e.setAttribute("data-svg-origin",H+" "+q)},Vc=function(e,t){var r=e._gsap||new aA(e);if("x"in r&&!t&&!r.uncache)return r;var s=e.style,l=r.scaleX<0,u="px",h="deg",d=getComputedStyle(e),p=Xr(e,In)||"0",_,v,w,b,R,S,D,k,L,V,H,q,X,x,C,A,M,U,B,N,xe,Ie,ae,he,de,ke,z,se,me,ue,le,Te;return _=v=w=S=D=k=L=V=H=0,b=R=1,r.svg=!!(e.getCTM&&EA(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(s[ut]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[ut]!=="none"?d[ut]:"")),s.scale=s.rotate=s.translate="none"),x=wy(e,r.svg),r.svg&&(r.uncache?(de=e.getBBox(),p=r.xOrigin-de.x+"px "+(r.yOrigin-de.y)+"px",he=""):he=!t&&e.getAttribute("data-svg-origin"),w_(e,he||p,!!he||r.originIsAbsolute,r.smooth!==!1,x)),q=r.xOrigin||0,X=r.yOrigin||0,x!==kc&&(U=x[0],B=x[1],N=x[2],xe=x[3],_=Ie=x[4],v=ae=x[5],x.length===6?(b=Math.sqrt(U*U+B*B),R=Math.sqrt(xe*xe+N*N),S=U||B?ml(B,U)*Ka:0,L=N||xe?ml(N,xe)*Ka+S:0,L&&(R*=Math.abs(Math.cos(L*Al))),r.svg&&(_-=q-(q*U+X*N),v-=X-(q*B+X*xe))):(Te=x[6],ue=x[7],z=x[8],se=x[9],me=x[10],le=x[11],_=x[12],v=x[13],w=x[14],C=ml(Te,me),D=C*Ka,C&&(A=Math.cos(-C),M=Math.sin(-C),he=Ie*A+z*M,de=ae*A+se*M,ke=Te*A+me*M,z=Ie*-M+z*A,se=ae*-M+se*A,me=Te*-M+me*A,le=ue*-M+le*A,Ie=he,ae=de,Te=ke),C=ml(-N,me),k=C*Ka,C&&(A=Math.cos(-C),M=Math.sin(-C),he=U*A-z*M,de=B*A-se*M,ke=N*A-me*M,le=xe*M+le*A,U=he,B=de,N=ke),C=ml(B,U),S=C*Ka,C&&(A=Math.cos(C),M=Math.sin(C),he=U*A+B*M,de=Ie*A+ae*M,B=B*A-U*M,ae=ae*A-Ie*M,U=he,Ie=de),D&&Math.abs(D)+Math.abs(S)>359.9&&(D=S=0,k=180-k),b=Tt(Math.sqrt(U*U+B*B+N*N)),R=Tt(Math.sqrt(ae*ae+Te*Te)),C=ml(Ie,ae),L=Math.abs(C)>2e-4?C*Ka:0,H=le?1/(le<0?-le:le):0),r.svg&&(he=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!bA(Xr(e,ut)),he&&e.setAttribute("transform",he))),Math.abs(L)>90&&Math.abs(L)<270&&(l?(b*=-1,L+=S<=0?180:-180,S+=S<=0?180:-180):(R*=-1,L+=L<=0?180:-180)),t=t||r.uncache,r.x=_-((r.xPercent=_&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+u,r.y=v-((r.yPercent=v&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+u,r.z=w+u,r.scaleX=Tt(b),r.scaleY=Tt(R),r.rotation=Tt(S)+h,r.rotationX=Tt(D)+h,r.rotationY=Tt(k)+h,r.skewX=L+h,r.skewY=V+h,r.transformPerspective=H+u,(r.zOrigin=parseFloat(p.split(" ")[2])||!t&&r.zOrigin||0)&&(s[In]=md(p)),r.xOffset=r.yOffset=0,r.force3D=jn.force3D,r.renderTransform=r.svg?c2:vA?SA:u2,r.uncache=0,r},md=function(e){return(e=e.split(" "))[0]+" "+e[1]},qg=function(e,t,r){var s=un(t);return Tt(parseFloat(t)+parseFloat(ta(e,"x",r+"px",s)))+s},u2=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,SA(e,t)},Ya="0deg",lc="0px",Qa=") ",SA=function(e,t){var r=t||this,s=r.xPercent,l=r.yPercent,u=r.x,h=r.y,d=r.z,p=r.rotation,_=r.rotationY,v=r.rotationX,w=r.skewX,b=r.skewY,R=r.scaleX,S=r.scaleY,D=r.transformPerspective,k=r.force3D,L=r.target,V=r.zOrigin,H="",q=k==="auto"&&e&&e!==1||k===!0;if(V&&(v!==Ya||_!==Ya)){var X=parseFloat(_)*Al,x=Math.sin(X),C=Math.cos(X),A;X=parseFloat(v)*Al,A=Math.cos(X),u=qg(L,u,x*A*-V),h=qg(L,h,-Math.sin(X)*-V),d=qg(L,d,C*A*-V+V)}D!==lc&&(H+="perspective("+D+Qa),(s||l)&&(H+="translate("+s+"%, "+l+"%) "),(q||u!==lc||h!==lc||d!==lc)&&(H+=d!==lc||q?"translate3d("+u+", "+h+", "+d+") ":"translate("+u+", "+h+Qa),p!==Ya&&(H+="rotate("+p+Qa),_!==Ya&&(H+="rotateY("+_+Qa),v!==Ya&&(H+="rotateX("+v+Qa),(w!==Ya||b!==Ya)&&(H+="skew("+w+", "+b+Qa),(R!==1||S!==1)&&(H+="scale("+R+", "+S+Qa),L.style[ut]=H||"translate(0, 0)"},c2=function(e,t){var r=t||this,s=r.xPercent,l=r.yPercent,u=r.x,h=r.y,d=r.rotation,p=r.skewX,_=r.skewY,v=r.scaleX,w=r.scaleY,b=r.target,R=r.xOrigin,S=r.yOrigin,D=r.xOffset,k=r.yOffset,L=r.forceCSS,V=parseFloat(u),H=parseFloat(h),q,X,x,C,A;d=parseFloat(d),p=parseFloat(p),_=parseFloat(_),_&&(_=parseFloat(_),p+=_,d+=_),d||p?(d*=Al,p*=Al,q=Math.cos(d)*v,X=Math.sin(d)*v,x=Math.sin(d-p)*-w,C=Math.cos(d-p)*w,p&&(_*=Al,A=Math.tan(p-_),A=Math.sqrt(1+A*A),x*=A,C*=A,_&&(A=Math.tan(_),A=Math.sqrt(1+A*A),q*=A,X*=A)),q=Tt(q),X=Tt(X),x=Tt(x),C=Tt(C)):(q=v,C=w,X=x=0),(V&&!~(u+"").indexOf("px")||H&&!~(h+"").indexOf("px"))&&(V=ta(b,"x",u,"px"),H=ta(b,"y",h,"px")),(R||S||D||k)&&(V=Tt(V+R-(R*q+S*x)+D),H=Tt(H+S-(R*X+S*C)+k)),(s||l)&&(A=b.getBBox(),V=Tt(V+s/100*A.width),H=Tt(H+l/100*A.height)),A="matrix("+q+","+X+","+x+","+C+","+V+","+H+")",b.setAttribute("transform",A),L&&(b.style[ut]=A)},h2=function(e,t,r,s,l){var u=360,h=Yt(l),d=parseFloat(l)*(h&&~l.indexOf("rad")?Ka:1),p=d-s,_=s+p+"deg",v,w;return h&&(v=l.split("_")[1],v==="short"&&(p%=u,p!==p%(u/2)&&(p+=p<0?u:-360)),v==="cw"&&p<0?p=(p+u*iw)%u-~~(p/u)*u:v==="ccw"&&p>0&&(p=(p-u*iw)%u-~~(p/u)*u)),e._pt=w=new Cn(e._pt,t,r,s,p,Kx),w.e=_,w.u="deg",e._props.push(r),w},hw=function(e,t){for(var r in t)e[r]=t[r];return e},f2=function(e,t,r){var s=hw({},r._gsap),l="perspective,force3D,transformOrigin,svgOrigin",u=r.style,h,d,p,_,v,w,b,R;s.svg?(p=r.getAttribute("transform"),r.setAttribute("transform",""),u[ut]=t,h=Vc(r,1),lo(r,ut),r.setAttribute("transform",p)):(p=getComputedStyle(r)[ut],u[ut]=t,h=Vc(r,1),u[ut]=p);for(d in Ki)p=s[d],_=h[d],p!==_&&l.indexOf(d)<0&&(b=un(p),R=un(_),v=b!==R?ta(r,d,p,R):parseFloat(p),w=parseFloat(_),e._pt=new Cn(e._pt,h,d,v,w-v,v_),e._pt.u=R||0,e._props.push(d));hw(h,s)};Rn("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",s="Bottom",l="Left",u=(e<3?[t,r,s,l]:[t+l,t+r,s+r,s+l]).map(function(h){return e<2?n+h:"border"+h+n});dd[e>1?"border"+n:n]=function(h,d,p,_,v){var w,b;if(arguments.length<4)return w=u.map(function(R){return Li(h,R,p)}),b=w.join(" "),b.split(w[0]).length===5?w[0]:b;w=(_+"").split(" "),b={},u.forEach(function(R,S){return b[R]=w[S]=w[S]||w[(S-1)/2|0]}),h.init(d,b,v)}});var AA={name:"css",register:E_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,s,l){var u=this._props,h=e.style,d=r.vars.startAt,p,_,v,w,b,R,S,D,k,L,V,H,q,X,x,C;vy||E_(),this.styles=this.styles||yA(e),C=this.styles.props,this.tween=r;for(S in t)if(S!=="autoRound"&&(_=t[S],!(Un[S]&&oA(S,t,r,s,e,l)))){if(b=typeof _,R=dd[S],b==="function"&&(_=_.call(r,s,e,l),b=typeof _),b==="string"&&~_.indexOf("random(")&&(_=Mc(_)),R)R(this,e,S,_,r)&&(x=1);else if(S.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(S)+"").trim(),_+="",Qs.lastIndex=0,Qs.test(p)||(D=un(p),k=un(_)),k?D!==k&&(p=ta(e,S,p,k)+k):D&&(_+=D),this.add(h,"setProperty",p,_,s,l,0,0,S),u.push(S),C.push(S,0,h[S]);else if(b!=="undefined"){if(d&&S in d?(p=typeof d[S]=="function"?d[S].call(r,s,e,l):d[S],Yt(p)&&~p.indexOf("random(")&&(p=Mc(p)),un(p+"")||p==="auto"||(p+=jn.units[S]||un(Li(e,S))||""),(p+"").charAt(1)==="="&&(p=Li(e,S))):p=Li(e,S),w=parseFloat(p),L=b==="string"&&_.charAt(1)==="="&&_.substr(0,2),L&&(_=_.substr(2)),v=parseFloat(_),S in Kr&&(S==="autoAlpha"&&(w===1&&Li(e,"visibility")==="hidden"&&v&&(w=0),C.push("visibility",0,h.visibility),Hs(this,h,"visibility",w?"inherit":"hidden",v?"inherit":"hidden",!v)),S!=="scale"&&S!=="transform"&&(S=Kr[S],~S.indexOf(",")&&(S=S.split(",")[0]))),V=S in Ki,V){if(this.styles.save(S),H||(q=e._gsap,q.renderTransform&&!t.parseTransform||Vc(e,t.parseTransform),X=t.smoothOrigin!==!1&&q.smooth,H=this._pt=new Cn(this._pt,h,ut,0,1,q.renderTransform,q,0,-1),H.dep=1),S==="scale")this._pt=new Cn(this._pt,q,"scaleY",q.scaleY,(L?bl(q.scaleY,L+v):v)-q.scaleY||0,v_),this._pt.u=0,u.push("scaleY",S),S+="X";else if(S==="transformOrigin"){C.push(In,0,h[In]),_=o2(_),q.svg?w_(e,_,0,X,0,this):(k=parseFloat(_.split(" ")[2])||0,k!==q.zOrigin&&Hs(this,q,"zOrigin",q.zOrigin,k),Hs(this,h,S,md(p),md(_)));continue}else if(S==="svgOrigin"){w_(e,_,1,X,0,this);continue}else if(S in wA){h2(this,q,S,w,L?bl(w,L+_):_);continue}else if(S==="smoothOrigin"){Hs(this,q,"smooth",q.smooth,_);continue}else if(S==="force3D"){q[S]=_;continue}else if(S==="transform"){f2(this,_,e);continue}}else S in h||(S=kl(S)||S);if(V||(v||v===0)&&(w||w===0)&&!Qx.test(_)&&S in h)D=(p+"").substr((w+"").length),v||(v=0),k=un(_)||(S in jn.units?jn.units[S]:D),D!==k&&(w=ta(e,S,p,k)),this._pt=new Cn(this._pt,V?q:h,S,w,(L?bl(w,L+v):v)-w,!V&&(k==="px"||S==="zIndex")&&t.autoRound!==!1?Xx:v_),this._pt.u=k||0,D!==k&&k!=="%"&&(this._pt.b=p,this._pt.r=$x);else if(S in h)a2.call(this,e,S,p,L?L+_:_);else if(S in e)this.add(e,S,p||e[S],L?L+_:_,s,l);else if(S!=="parseTransform"){cy(S,_);continue}V||(S in h?C.push(S,0,h[S]):typeof e[S]=="function"?C.push(S,2,e[S]()):C.push(S,1,p||e[S])),u.push(S)}}x&&dA(this)},render:function(e,t){if(t.tween._time||!Ty())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Li,aliases:Kr,getSetter:function(e,t,r){var s=Kr[t];return s&&s.indexOf(",")<0&&(t=s),t in Ki&&t!==In&&(e._gsap.x||Li(e,"x"))?r&&rw===r?t==="scale"?e2:Jx:(rw=r||{})&&(t==="scale"?t2:n2):e.style&&!oy(e.style[t])?Wx:~t.indexOf("-")?Zx:_y(e,t)},core:{_removeProperty:lo,_getMatrix:wy}};On.utils.checkPrefix=kl;On.core.getStyleSaver=yA;(function(n,e,t,r){var s=Rn(n+","+e+","+t,function(l){Ki[l]=1});Rn(e,function(l){jn.units[l]="deg",wA[l]=1}),Kr[s[13]]=n+","+e,Rn(r,function(l){var u=l.split(":");Kr[u[1]]=s[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Rn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){jn.units[n]="px"});On.registerPlugin(AA);var b_=On.registerPlugin(AA)||On;b_.core.Tween;const d2=()=>{const n=$.useRef(null),e=$.useRef(null),[t,r]=$.useState(!1);return $.useEffect(()=>{if(!n.current||!e.current)return;const s=n.current;s.dataset.originalText||(s.dataset.originalText=s.innerText);const l=s.dataset.originalText.split(" ");s.innerHTML=l.map(h=>`<span class="word">${h} </span>`).join("");const u=b_.timeline({repeat:-1});return u.fromTo(".word",{opacity:0},{opacity:1,duration:.6,stagger:.2,ease:"power1.inOut",onComplete:()=>{t||r(!0)}}),()=>{u.kill()}},[t]),$.useEffect(()=>{t&&e.current&&b_.to(e.current,{opacity:1,duration:1,ease:"power2.out"})},[t]),ee.jsxs("div",{className:"start-page",children:[ee.jsx("h3",{ref:n,className:"typing-effect",children:`"Welcome to the future of communication. A real-time chat built for the cyber age. Secure, fast, and always online. Whether you're here to connect, strategize, or just talk, you're in the right place. No delays. No limits. Just instant conversations."`}),ee.jsx(Tl,{to:"/login",children:ee.jsx("button",{ref:e,className:"start-button",style:{opacity:0},children:"Explore"})})]})};var fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},m2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|u&63)}}return e.join("")},CA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const l=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,_=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,b=p&63;d||(b=64,u||(w=64)),r.push(t[_],t[v],t[w],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):m2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||h==null||p==null||v==null)throw new p2;const w=l<<2|h>>4;if(r.push(w),p!==64){const b=h<<4&240|p>>2;if(r.push(b),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class p2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g2=function(n){const e=RA(n);return CA.encodeByteArray(e,!0)},pd=function(n){return g2(n).replace(/\./g,"")},IA=function(n){try{return CA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=()=>_2().__FIREBASE_DEFAULTS__,v2=()=>{if(typeof process>"u"||typeof fw>"u")return;const n=fw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},T2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IA(n[1]);return e&&JSON.parse(e)},Xd=()=>{try{return y2()||v2()||T2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DA=n=>{var e,t;return(t=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},OA=n=>{const e=DA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xA=()=>{var n;return(n=Xd())===null||n===void 0?void 0:n.config},MA=n=>{var e;return(e=Xd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pd(JSON.stringify(t)),pd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function b2(){var n;const e=(n=Xd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function R2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C2(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function I2(){return!b2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D2(){try{return typeof indexedDB=="object"}catch{return!1}}function O2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FirebaseError";class oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=x2,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rh.prototype.create)}}class rh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],u=l?M2(l,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new oi(s,h,r)}}function M2(n,e){return n.replace(N2,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N2=/\{\$([^}]+)}/g;function P2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const l=n[s],u=e[s];if(dw(l)&&dw(u)){if(!gd(l,u))return!1}else if(l!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function dw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function k2(n,e){const t=new V2(n,e);return t.subscribe.bind(t)}class V2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");L2(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Fg),s.error===void 0&&(s.error=Fg),s.complete===void 0&&(s.complete=Fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class na{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new E2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B2(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z2(n){return n===$a?void 0:n}function B2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const q2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},F2=Ne.INFO,H2={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},G2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=H2[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=F2,this._logHandler=G2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Y2=(n,e)=>e.some(t=>n instanceof t);let mw,pw;function Q2(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K2(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PA=new WeakMap,S_=new WeakMap,kA=new WeakMap,Hg=new WeakMap,Sy=new WeakMap;function $2(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ks(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&PA.set(t,n)}).catch(()=>{}),Sy.set(e,n),e}function X2(n){if(S_.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});S_.set(n,e)}let A_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return S_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function W2(n){A_=n(A_)}function Z2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Gg(this),e,...t);return kA.set(r,e.sort?e.sort():[e]),Ks(r)}:K2().includes(n)?function(...e){return n.apply(Gg(this),e),Ks(PA.get(this))}:function(...e){return Ks(n.apply(Gg(this),e))}}function J2(n){return typeof n=="function"?Z2(n):(n instanceof IDBTransaction&&X2(n),Y2(n,Q2())?new Proxy(n,A_):n)}function Ks(n){if(n instanceof IDBRequest)return $2(n);if(Hg.has(n))return Hg.get(n);const e=J2(n);return e!==n&&(Hg.set(n,e),Sy.set(e,n)),e}const Gg=n=>Sy.get(n);function eM(n,e,{blocked:t,upgrade:r,blocking:s,terminated:l}={}){const u=indexedDB.open(n,e),h=Ks(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ks(u.result),d.oldVersion,d.newVersion,Ks(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const tM=["get","getKey","getAll","getAllKeys","count"],nM=["put","add","delete","clear"],Yg=new Map;function gw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=nM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tM.includes(t)))return;const l=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&d.done]))[0]};return Yg.set(e,l),l}W2(n=>({...n,get:(e,t,r)=>gw(e,t)||n.get(e,t,r),has:(e,t)=>!!gw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function iM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R_="@firebase/app",_w="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new by("@firebase/app"),sM="@firebase/app-compat",aM="@firebase/analytics-compat",oM="@firebase/analytics",lM="@firebase/app-check-compat",uM="@firebase/app-check",cM="@firebase/auth",hM="@firebase/auth-compat",fM="@firebase/database",dM="@firebase/data-connect",mM="@firebase/database-compat",pM="@firebase/functions",gM="@firebase/functions-compat",_M="@firebase/installations",yM="@firebase/installations-compat",vM="@firebase/messaging",TM="@firebase/messaging-compat",EM="@firebase/performance",wM="@firebase/performance-compat",bM="@firebase/remote-config",SM="@firebase/remote-config-compat",AM="@firebase/storage",RM="@firebase/storage-compat",CM="@firebase/firestore",IM="@firebase/vertexai",DM="@firebase/firestore-compat",OM="firebase",xM="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="[DEFAULT]",MM={[R_]:"fire-core",[sM]:"fire-core-compat",[oM]:"fire-analytics",[aM]:"fire-analytics-compat",[uM]:"fire-app-check",[lM]:"fire-app-check-compat",[cM]:"fire-auth",[hM]:"fire-auth-compat",[fM]:"fire-rtdb",[dM]:"fire-data-connect",[mM]:"fire-rtdb-compat",[pM]:"fire-fn",[gM]:"fire-fn-compat",[_M]:"fire-iid",[yM]:"fire-iid-compat",[vM]:"fire-fcm",[TM]:"fire-fcm-compat",[EM]:"fire-perf",[wM]:"fire-perf-compat",[bM]:"fire-rc",[SM]:"fire-rc-compat",[AM]:"fire-gcs",[RM]:"fire-gcs-compat",[CM]:"fire-fst",[DM]:"fire-fst-compat",[IM]:"fire-vertex","fire-js":"fire-js",[OM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,NM=new Map,I_=new Map;function yw(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function uo(n){const e=n.name;if(I_.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;I_.set(e,n);for(const t of _d.values())yw(t,n);for(const t of NM.values())yw(t,n);return!0}function Wd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new rh("app","Firebase",PM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=xM;function VA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:C_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $s.create("bad-app-name",{appName:String(s)});if(t||(t=xA()),!t)throw $s.create("no-options");const l=_d.get(s);if(l){if(gd(t,l.options)&&gd(r,l.config))return l;throw $s.create("duplicate-app",{appName:s})}const u=new j2(s);for(const d of I_.values())u.addComponent(d);const h=new kM(t,r,u);return _d.set(s,h),h}function Ay(n=C_){const e=_d.get(n);if(!e&&n===C_&&xA())return VA();if(!e)throw $s.create("no-app",{appName:n});return e}function Wr(n,e,t){var r;let s=(r=MM[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(h.join(" "));return}uo(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="firebase-heartbeat-database",LM=1,Lc="firebase-heartbeat-store";let Qg=null;function LA(){return Qg||(Qg=eM(VM,LM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),Qg}async function UM(n){try{const t=(await LA()).transaction(Lc),r=await t.objectStore(Lc).get(UA(n));return await t.done,r}catch(e){if(e instanceof oi)$i.warn(e.message);else{const t=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(t.message)}}}async function vw(n,e){try{const r=(await LA()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,UA(n)),await r.done}catch(t){if(t instanceof oi)$i.warn(t.message);else{const r=$s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$i.warn(r.message)}}}function UA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=1024,BM=30;class jM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Tw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>BM){const u=HM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Tw(),{heartbeatsToSend:r,unsentEntries:s}=qM(this._heartbeatsCache.heartbeats),l=pd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function Tw(){return new Date().toISOString().substring(0,10)}function qM(n,e=zM){const t=[];let r=n.slice();for(const s of n){const l=t.find(u=>u.agent===s.agent);if(l){if(l.dates.push(s.date),Ew(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ew(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class FM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D2()?O2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return vw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return vw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ew(n){return pd(JSON.stringify({version:2,heartbeats:n})).length}function HM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(n){uo(new na("platform-logger",e=>new rM(e),"PRIVATE")),uo(new na("heartbeat",e=>new jM(e),"PRIVATE")),Wr(R_,_w,n),Wr(R_,_w,"esm2017"),Wr("fire-js","")}GM("");var YM="firebase",QM="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(YM,QM,"app");function Ry(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function zA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KM=zA,BA=new rh("auth","Firebase",zA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new by("@firebase/auth");function $M(n,...e){yd.logLevel<=Ne.WARN&&yd.warn(`Auth (${vo}): ${n}`,...e)}function Xf(n,...e){yd.logLevel<=Ne.ERROR&&yd.error(`Auth (${vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n,...e){throw Iy(n,...e)}function br(n,...e){return Iy(n,...e)}function Cy(n,e,t){const r=Object.assign(Object.assign({},KM()),{[e]:t});return new rh("auth","Firebase",r).create(e,{appName:n.name})}function ao(n){return Cy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XM(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ri(n,"argument-error"),Cy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BA.create(n,...e)}function we(n,e,...t){if(!n)throw Iy(e,...t)}function zi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xf(e),new Error(e)}function Xi(n,e){n||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WM(){return ww()==="http:"||ww()==="https:"}function ww(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WM()||A2()||"connection"in navigator)?navigator.onLine:!0}function JM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xi(t>e,"Short delay should be less than long delay!"),this.isMobile=w2()||R2()}get(){return ZM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e){Xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new sh(3e4,6e4);function Oy(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ql(n,e,t,r,s={}){return qA(n,s,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=ih(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},l);return S2()||(p.referrerPolicy="no-referrer"),jA.fetch()(FA(n,n.config.apiHost,t,h),p)})}async function qA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eN),e);try{const s=new rN(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Lf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Lf(n,"user-disabled",u);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Cy(n,_,p);ri(n,_)}}catch(s){if(s instanceof oi)throw s;ri(n,"network-request-failed",{message:String(s)})}}async function nN(n,e,t,r,s={}){const l=await Ql(n,e,t,r,s);return"mfaPendingCredential"in l&&ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}function FA(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Dy(n.config,s):`${n.config.apiScheme}://${s}`}class rN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),tN.get())})}}function Lf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=br(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){return Ql(n,"POST","/v1/accounts:delete",e)}async function HA(n,e){return Ql(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sN(n,e=!1){const t=dn(n),r=await t.getIdToken(e),s=xy(r);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:Ec(Kg(s.auth_time)),issuedAtTime:Ec(Kg(s.iat)),expirationTime:Ec(Kg(s.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Kg(n){return Number(n)*1e3}function xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{const s=IA(t);return s?JSON.parse(s):(Xf("Failed to decode base64 JWT payload"),null)}catch(s){return Xf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bw(n){const e=xy(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof oi&&aN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function aN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Uc(n,HA(t,{idToken:r}));we(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?GA(l.providerUserInfo):[],h=uN(n.providerData,u),d=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),_=d?p:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new O_(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function lN(n){const e=dn(n);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uN(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function GA(n){return n.map(e=>{var{providerId:t}=e,r=Ry(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e){const t=await qA(n,{},async()=>{const r=ih({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,u=FA(n,s,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",jA.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hN(n,e){return Ql(n,"POST","/v2/accounts:revokeToken",Oy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=bw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:l}=await cN(e,t);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:l}=t,u=new Rl;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,l=Ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new O_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sN(this,e)}reload(){return lN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await Uc(this,iN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,l,u,h,d,p,_;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,k=(p=t.createdAt)!==null&&p!==void 0?p:void 0,L=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:V,emailVerified:H,isAnonymous:q,providerData:X,stsTokenManager:x}=t;we(V&&x,e,"internal-error");const C=Rl.fromJSON(this.name,x);we(typeof V=="string",e,"internal-error"),Ls(v,e.name),Ls(w,e.name),we(typeof H=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),Ls(b,e.name),Ls(R,e.name),Ls(S,e.name),Ls(D,e.name),Ls(k,e.name),Ls(L,e.name);const A=new Bi({uid:V,auth:e,email:w,emailVerified:H,displayName:v,isAnonymous:q,photoURL:R,phoneNumber:b,tenantId:S,stsTokenManager:C,createdAt:k,lastLoginAt:L});return X&&Array.isArray(X)&&(A.providerData=X.map(M=>Object.assign({},M))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,t,r=!1){const s=new Rl;s.updateFromServerResponse(t);const l=new Bi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vd(l),l}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];we(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?GA(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),h=new Rl;h.updateFromIdToken(r);const d=new Bi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new O_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;function ji(n){Xi(n instanceof Function,"Expected a class definition");let e=Sw.get(n);return e?(Xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Sw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}YA.type="NONE";const Aw=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n,e,t){return`firebase:${n}:${e}:${t}`}class Cl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=Wf(this.userKey,s.apiKey,l),this.fullPersistenceKey=Wf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cl(ji(Aw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||ji(Aw);const u=Wf(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const _=await p._get(u);if(_){const v=Bi._fromJSON(e,_);p!==l&&(h=v),l=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Cl(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Cl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZA(e))return"Blackberry";if(JA(e))return"Webos";if(KA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(WA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QA(n=fn()){return/firefox\//i.test(n)}function KA(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(n=fn()){return/crios\//i.test(n)}function XA(n=fn()){return/iemobile/i.test(n)}function WA(n=fn()){return/android/i.test(n)}function ZA(n=fn()){return/blackberry/i.test(n)}function JA(n=fn()){return/webos/i.test(n)}function My(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fN(n=fn()){var e;return My(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dN(){return C2()&&document.documentMode===10}function e1(n=fn()){return My(n)||WA(n)||JA(n)||ZA(n)||/windows phone/i.test(n)||XA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n,e=[]){let t;switch(n){case"Browser":t=Rw(fn());break;case"Worker":t=`${Rw(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e={}){return Ql(n,"GET","/v2/passwordPolicy",Oy(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=6;class _N{constructor(e){var t,r,s,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:gN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new mN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await HA(this,{idToken:e}),r=await Bi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(ao(this));const t=e?dn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pN(this),t=new _N(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await hN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ji(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$M(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zd(n){return dn(n)}class Cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=k2(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vN(n){Ny=n}function TN(n){return Ny.loadJS(n)}function EN(){return Ny.gapiScript}function wN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n,e){const t=Wd(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(gd(l,e??{}))return s;ri(s,"already-initialized")}return t.initialize({options:e})}function SN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ji);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AN(n,e,t){const r=Zd(n);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=n1(e),{host:u,port:h}=RN(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${l}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),CN()}function n1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RN(n){const e=n1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:Iw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Iw(u)}}}function Iw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function CN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,t){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e){return nN(n,"POST","/v1/accounts:signInWithIdp",Oy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="http://localhost";class co extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,l=Ry(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new co(r,s);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Il(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Il(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Il(e,t)}buildRequest(){const e={requestUri:IN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ih(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends Py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends ah{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return co._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ah{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends ah{constructor(){super("twitter.com")}static credential(e,t){return co._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return js.credential(t,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const l=await Bi._fromIdTokenResponse(e,r,s),u=Dw(r);return new Vl({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Dw(r);return new Vl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Dw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends oi{constructor(e,t,r,s){var l;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Td(e,t,r,s)}}function i1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(n,l,e,r):l})}async function DN(n,e,t=!1){const r=await Uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(ao(r));const s="reauthenticate";try{const l=await Uc(n,i1(r,s,e,n),t);we(l.idToken,r,"internal-error");const u=xy(l.idToken);we(u,r,"internal-error");const{sub:h}=u;return we(n.uid===h,r,"user-mismatch"),Vl._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ri(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e,t=!1){if(cr(n.app))return Promise.reject(ao(n));const r="signIn",s=await i1(n,r,e),l=await Vl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(l.user),l}function MN(n,e,t,r){return dn(n).onIdTokenChanged(e,t,r)}function NN(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}function PN(n,e,t,r){return dn(n).onAuthStateChanged(e,t,r)}function kN(n){return dn(n).signOut()}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1e3,LN=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);dN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,LN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const UN=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}o1.type="SESSION";const l1=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:l}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,l)),d=await zN(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=ky("",20);s.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(_),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function jN(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function qN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function HN(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",GN=1,wd="firebaseLocalStorage",h1="fbase_key";class oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function em(n,e){return n.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function YN(){const n=indexedDB.deleteDatabase(c1);return new oh(n).toPromise()}function x_(){const n=indexedDB.open(c1,GN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(wd,{keyPath:h1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(wd)?e(r):(r.close(),await YN(),e(await x_()))})})}async function Ow(n,e,t){const r=em(n,!0).put({[h1]:e,value:t});return new oh(r).toPromise()}async function QN(n,e){const t=em(n,!1).get(e),r=await new oh(t).toPromise();return r===void 0?null:r.value}function xw(n,e){const t=em(n,!0).delete(e);return new oh(t).toPromise()}const KN=800,$N=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$N)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(HN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new BN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x_();return await Ow(e,Ed,"1"),await xw(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ow(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>QN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=em(s,!1).getAll();return new oh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const XN=f1;new sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n,e){return e?ji(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends r1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WN(n){return xN(n.auth,new Vy(n),n.bypassAuthState)}function ZN(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),ON(t,new Vy(n),n.bypassAuthState)}async function JN(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),DN(t,new Vy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WN;case"linkViaPopup":case"linkViaRedirect":return JN;case"reauthViaPopup":case"reauthViaRedirect":return ZN;default:ri(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new sh(2e3,1e4);async function tP(n,e,t){if(cr(n.app))return Promise.reject(br(n,"operation-not-supported-in-this-environment"));const r=Zd(n);XM(n,e,Py);const s=d1(r,t);return new Ja(r,"signInViaPopup",e,s).executeNotNull()}class Ja extends m1{constructor(e,t,r,s,l){super(e,t,s,l),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eP.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="pendingRedirect",Zf=new Map;class rP extends m1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const r=await iP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iP(n,e){const t=oP(e),r=aP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function sP(n,e){Zf.set(n._key(),e)}function aP(n){return ji(n._redirectPersistence)}function oP(n){return Wf(nP,n.config.apiKey,n.name)}async function lP(n,e,t=!1){if(cr(n.app))return Promise.reject(ao(n));const r=Zd(n),s=d1(r,e),u=await new rP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=10*60*1e3;class cP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!p1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(br(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function p1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e={}){return Ql(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mP=/^https?/;async function pP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fP(n);for(const t of e)try{if(gP(t))return}catch{}ri(n,"unauthorized-domain")}function gP(n){const e=D_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!mP.test(t))return!1;if(dP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new sh(3e4,6e4);function Nw(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yP(n){return new Promise((e,t)=>{var r,s,l;function u(){Nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nw(),t(br(n,"network-request-failed"))},timeout:_P.get()})}if(!((s=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Zr().gapi)===null||l===void 0)&&l.load)u();else{const h=wN("iframefcb");return Zr()[h]=()=>{gapi.load?u():t(br(n,"network-request-failed"))},TN(`${EN()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function vP(n){return Jf=Jf||yP(n),Jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new sh(5e3,15e3),EP="__/auth/iframe",wP="emulator/auth/iframe",bP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AP(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dy(e,wP):`https://${n.config.authDomain}/${EP}`,r={apiKey:e.apiKey,appName:n.name,v:vo},s=SP.get(n.config.apiHost);s&&(r.eid=s);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${ih(r).slice(1)}`}async function RP(n){const e=await vP(n),t=Zr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:AP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bP,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const u=br(n,"network-request-failed"),h=Zr().setTimeout(()=>{l(u)},TP.get());function d(){Zr().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IP=500,DP=600,OP="_blank",xP="http://localhost";class Pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MP(n,e,t,r=IP,s=DP){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},CP),{width:r.toString(),height:s.toString(),top:l,left:u}),p=fn().toLowerCase();t&&(h=$A(p)?OP:t),QA(p)&&(e=e||xP,d.scrollbars="yes");const _=Object.entries(d).reduce((w,[b,R])=>`${w}${b}=${R},`,"");if(fN(p)&&h!=="_self")return NP(e||"",h),new Pw(null);const v=window.open(e||"",h,_);we(v,n,"popup-blocked");try{v.focus()}catch{}return new Pw(v)}function NP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="__/auth/handler",kP="emulator/auth/handler",VP=encodeURIComponent("fac");async function kw(n,e,t,r,s,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vo,eventId:s};if(e instanceof Py){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",P2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof ah){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),p=d?`#${VP}=${encodeURIComponent(d)}`:"";return`${LP(n)}?${ih(h).slice(1)}${p}`}function LP({config:n}){return n.emulator?Dy(n,kP):`https://${n.authDomain}/${PP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class UP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=lP,this._overrideRedirectResult=sP}async _openPopup(e,t,r,s){var l;Xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await kw(e,t,r,D_(),s);return MP(e,u,ky())}async _openRedirect(e,t,r,s){await this._originValidation(e);const l=await kw(e,t,r,D_(),s);return jN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Xi(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await RP(e),r=new cP(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($g,{type:$g},s=>{var l;const u=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[$g];u!==void 0&&t(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return e1()||KA()||My()}}const zP=UP;var Vw="@firebase/auth",Lw="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qP(n){uo(new na("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(n)},p=new yN(r,s,l,d);return SN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),uo(new na("auth-internal",e=>{const t=Zd(e.getProvider("auth").getImmediate());return(r=>new BP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(Vw,Lw,jP(n)),Wr(Vw,Lw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=5*60,HP=MA("authIdTokenMaxAge")||FP;let Uw=null;const GP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>HP)return;const s=t==null?void 0:t.token;Uw!==s&&(Uw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function YP(n=Ay()){const e=Wd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bN(n,{popupRedirectResolver:zP,persistence:[XN,UN,l1]}),r=MA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=GP(l.toString());NN(t,u,()=>u(t.currentUser)),MN(t,h=>u(h))}}const s=DA("auth");return s&&AN(t,`http://${s}`),t}function QP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const l=br("internal-error");l.customData=s,t(l)},r.type="text/javascript",r.charset="UTF-8",QP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qP("Browser");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,g1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function A(){}A.prototype=C.prototype,x.D=C.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(M,U,B){for(var N=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)N[xe-2]=arguments[xe];return C.prototype[U].apply(M,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,C,A){A||(A=0);var M=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)M[U]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(U=0;16>U;++U)M[U]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=x.g[0],A=x.g[1],U=x.g[2];var B=x.g[3],N=C+(B^A&(U^B))+M[0]+3614090360&4294967295;C=A+(N<<7&4294967295|N>>>25),N=B+(U^C&(A^U))+M[1]+3905402710&4294967295,B=C+(N<<12&4294967295|N>>>20),N=U+(A^B&(C^A))+M[2]+606105819&4294967295,U=B+(N<<17&4294967295|N>>>15),N=A+(C^U&(B^C))+M[3]+3250441966&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(B^A&(U^B))+M[4]+4118548399&4294967295,C=A+(N<<7&4294967295|N>>>25),N=B+(U^C&(A^U))+M[5]+1200080426&4294967295,B=C+(N<<12&4294967295|N>>>20),N=U+(A^B&(C^A))+M[6]+2821735955&4294967295,U=B+(N<<17&4294967295|N>>>15),N=A+(C^U&(B^C))+M[7]+4249261313&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(B^A&(U^B))+M[8]+1770035416&4294967295,C=A+(N<<7&4294967295|N>>>25),N=B+(U^C&(A^U))+M[9]+2336552879&4294967295,B=C+(N<<12&4294967295|N>>>20),N=U+(A^B&(C^A))+M[10]+4294925233&4294967295,U=B+(N<<17&4294967295|N>>>15),N=A+(C^U&(B^C))+M[11]+2304563134&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(B^A&(U^B))+M[12]+1804603682&4294967295,C=A+(N<<7&4294967295|N>>>25),N=B+(U^C&(A^U))+M[13]+4254626195&4294967295,B=C+(N<<12&4294967295|N>>>20),N=U+(A^B&(C^A))+M[14]+2792965006&4294967295,U=B+(N<<17&4294967295|N>>>15),N=A+(C^U&(B^C))+M[15]+1236535329&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(U^B&(A^U))+M[1]+4129170786&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^U&(C^A))+M[6]+3225465664&4294967295,B=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(B^C))+M[11]+643717713&4294967295,U=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(U^B))+M[0]+3921069994&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(U^B&(A^U))+M[5]+3593408605&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^U&(C^A))+M[10]+38016083&4294967295,B=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(B^C))+M[15]+3634488961&4294967295,U=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(U^B))+M[4]+3889429448&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(U^B&(A^U))+M[9]+568446438&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^U&(C^A))+M[14]+3275163606&4294967295,B=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(B^C))+M[3]+4107603335&4294967295,U=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(U^B))+M[8]+1163531501&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(U^B&(A^U))+M[13]+2850285829&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^U&(C^A))+M[2]+4243563512&4294967295,B=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(B^C))+M[7]+1735328473&4294967295,U=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(U^B))+M[12]+2368359562&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(A^U^B)+M[5]+4294588738&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^U)+M[8]+2272392833&4294967295,B=C+(N<<11&4294967295|N>>>21),N=U+(B^C^A)+M[11]+1839030562&4294967295,U=B+(N<<16&4294967295|N>>>16),N=A+(U^B^C)+M[14]+4259657740&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(A^U^B)+M[1]+2763975236&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^U)+M[4]+1272893353&4294967295,B=C+(N<<11&4294967295|N>>>21),N=U+(B^C^A)+M[7]+4139469664&4294967295,U=B+(N<<16&4294967295|N>>>16),N=A+(U^B^C)+M[10]+3200236656&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(A^U^B)+M[13]+681279174&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^U)+M[0]+3936430074&4294967295,B=C+(N<<11&4294967295|N>>>21),N=U+(B^C^A)+M[3]+3572445317&4294967295,U=B+(N<<16&4294967295|N>>>16),N=A+(U^B^C)+M[6]+76029189&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(A^U^B)+M[9]+3654602809&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^U)+M[12]+3873151461&4294967295,B=C+(N<<11&4294967295|N>>>21),N=U+(B^C^A)+M[15]+530742520&4294967295,U=B+(N<<16&4294967295|N>>>16),N=A+(U^B^C)+M[2]+3299628645&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(U^(A|~B))+M[0]+4096336452&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~U))+M[7]+1126891415&4294967295,B=C+(N<<10&4294967295|N>>>22),N=U+(C^(B|~A))+M[14]+2878612391&4294967295,U=B+(N<<15&4294967295|N>>>17),N=A+(B^(U|~C))+M[5]+4237533241&4294967295,A=U+(N<<21&4294967295|N>>>11),N=C+(U^(A|~B))+M[12]+1700485571&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~U))+M[3]+2399980690&4294967295,B=C+(N<<10&4294967295|N>>>22),N=U+(C^(B|~A))+M[10]+4293915773&4294967295,U=B+(N<<15&4294967295|N>>>17),N=A+(B^(U|~C))+M[1]+2240044497&4294967295,A=U+(N<<21&4294967295|N>>>11),N=C+(U^(A|~B))+M[8]+1873313359&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~U))+M[15]+4264355552&4294967295,B=C+(N<<10&4294967295|N>>>22),N=U+(C^(B|~A))+M[6]+2734768916&4294967295,U=B+(N<<15&4294967295|N>>>17),N=A+(B^(U|~C))+M[13]+1309151649&4294967295,A=U+(N<<21&4294967295|N>>>11),N=C+(U^(A|~B))+M[4]+4149444226&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~U))+M[11]+3174756917&4294967295,B=C+(N<<10&4294967295|N>>>22),N=U+(C^(B|~A))+M[2]+718787259&4294967295,U=B+(N<<15&4294967295|N>>>17),N=A+(B^(U|~C))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+U&4294967295,x.g[3]=x.g[3]+B&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var A=C-this.blockSize,M=this.B,U=this.h,B=0;B<C;){if(U==0)for(;B<=A;)s(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<C;)if(M[U++]=x.charCodeAt(B++),U==this.blockSize){s(this,M),U=0;break}}else for(;B<C;)if(M[U++]=x[B++],U==this.blockSize){s(this,M),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var A=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.u(x),x=Array(16),C=A=0;4>C;++C)for(var M=0;32>M;M+=8)x[A++]=this.g[C]>>>M&255;return x};function l(x,C){var A=h;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=C(x)}function u(x,C){this.h=C;for(var A=[],M=!0,U=x.length-1;0<=U;U--){var B=x[U]|0;M&&B==C||(A[U]=B,M=!1)}this.g=A}var h={};function d(x){return-128<=x&&128>x?l(x,function(C){return new u([C|0],0>C?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return D(p(-x));for(var C=[],A=1,M=0;x>=A;M++)C[M]=x/A|0,A*=4294967296;return new u(C,0)}function _(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return D(_(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(C,8)),M=v,U=0;U<x.length;U+=8){var B=Math.min(8,x.length-U),N=parseInt(x.substring(U,U+B),C);8>B?(B=p(Math.pow(C,B)),M=M.j(B).add(p(N))):(M=M.j(A),M=M.add(p(N)))}return M}var v=d(0),w=d(1),b=d(16777216);n=u.prototype,n.m=function(){if(S(this))return-D(this).m();for(var x=0,C=1,A=0;A<this.g.length;A++){var M=this.i(A);x+=(0<=M?M:4294967296+M)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(S(this))return"-"+D(this).toString(x);for(var C=p(Math.pow(x,6)),A=this,M="";;){var U=H(A,C).g;A=k(A,U.j(C));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=U,R(A))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function S(x){return x.h==-1}n.l=function(x){return x=k(this,x),S(x)?-1:R(x)?0:1};function D(x){for(var C=x.g.length,A=[],M=0;M<C;M++)A[M]=~x.g[M];return new u(A,~x.h).add(w)}n.abs=function(){return S(this)?D(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0,U=0;U<=C;U++){var B=M+(this.i(U)&65535)+(x.i(U)&65535),N=(B>>>16)+(this.i(U)>>>16)+(x.i(U)>>>16);M=N>>>16,B&=65535,N&=65535,A[U]=N<<16|B}return new u(A,A[A.length-1]&-2147483648?-1:0)};function k(x,C){return x.add(D(C))}n.j=function(x){if(R(this)||R(x))return v;if(S(this))return S(x)?D(this).j(D(x)):D(D(this).j(x));if(S(x))return D(this.j(D(x)));if(0>this.l(b)&&0>x.l(b))return p(this.m()*x.m());for(var C=this.g.length+x.g.length,A=[],M=0;M<2*C;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<x.g.length;U++){var B=this.i(M)>>>16,N=this.i(M)&65535,xe=x.i(U)>>>16,Ie=x.i(U)&65535;A[2*M+2*U]+=N*Ie,L(A,2*M+2*U),A[2*M+2*U+1]+=B*Ie,L(A,2*M+2*U+1),A[2*M+2*U+1]+=N*xe,L(A,2*M+2*U+1),A[2*M+2*U+2]+=B*xe,L(A,2*M+2*U+2)}for(M=0;M<C;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=C;M<2*C;M++)A[M]=0;return new u(A,0)};function L(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function V(x,C){this.g=x,this.h=C}function H(x,C){if(R(C))throw Error("division by zero");if(R(x))return new V(v,v);if(S(x))return C=H(D(x),C),new V(D(C.g),D(C.h));if(S(C))return C=H(x,D(C)),new V(D(C.g),C.h);if(30<x.g.length){if(S(x)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var A=w,M=C;0>=M.l(x);)A=q(A),M=q(M);var U=X(A,1),B=X(M,1);for(M=X(M,2),A=X(A,2);!R(M);){var N=B.add(M);0>=N.l(x)&&(U=U.add(A),B=N),M=X(M,1),A=X(A,1)}return C=k(x,U.j(C)),new V(U,C)}for(U=v;0<=x.l(C);){for(A=Math.max(1,Math.floor(x.m()/C.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=p(A),N=B.j(C);S(N)||0<N.l(x);)A-=M,B=p(A),N=B.j(C);R(B)&&(B=w),U=U.add(B),x=k(x,N)}return new V(U,x)}n.A=function(x){return H(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)&x.i(M);return new u(A,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)|x.i(M);return new u(A,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)^x.i(M);return new u(A,this.h^x.h)};function q(x){for(var C=x.g.length+1,A=[],M=0;M<C;M++)A[M]=x.i(M)<<1|x.i(M-1)>>>31;return new u(A,x.h)}function X(x,C){var A=C>>5;C%=32;for(var M=x.g.length-A,U=[],B=0;B<M;B++)U[B]=0<C?x.i(B+A)>>>C|x.i(B+A+1)<<32-C:x.i(B+A);return new u(U,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,g1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,Xs=u}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _1,dc,y1,ed,M_,v1,T1,E1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(f,y){if(y)e:{var T=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var Y=f[O];if(!(Y in T))break e;T=T[Y]}f=f[f.length-1],O=T[f],y=y(O),y!=O&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var T=0,O=!1,Y={next:function(){if(!O&&T<f.length){var W=T++;return{value:y(W,f[W]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,T){return f.call.apply(f.bind,arguments)}function v(f,y,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),f.apply(y,Y)}}return function(){return f.apply(y,arguments)}}function w(f,y,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,w.apply(null,arguments)}function b(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function R(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,Y,W){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return y.prototype[Y].apply(O,oe)}}function S(f){const y=f.length;if(0<y){const T=Array(y);for(let O=0;O<y;O++)T[O]=f[O];return T}return[]}function D(f,y){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(d(O)){const Y=f.length||0,W=O.length||0;f.length=Y+W;for(let oe=0;oe<W;oe++)f[Y+oe]=O[oe]}else f.push(O)}}class k{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function X(f,y,T){for(const O in f)y.call(T,f[O],O,f)}function x(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function C(f){const y={};for(const T in f)y[T]=f[T];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,y){let T,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(T in O)f[T]=O[T];for(let W=0;W<A.length;W++)T=A[W],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function U(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function B(f){h.setTimeout(()=>{throw f},0)}function N(){var f=ke;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,T){const O=Ie.get();O.set(y,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Ie=new k(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let he,de=!1,ke=new xe,z=()=>{const f=h.Promise.resolve(void 0);he=()=>{f.then(se)}};var se=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(T){B(T)}var y=Ie;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}de=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,y),h.removeEventListener("test",T,y)}catch{}return f}();function Te(f,y){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(q){e:{try{H(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Te.aa.h.call(this)}}R(Te,ue);var Re={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function ft(f,y,T,O,Y){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!O,this.ha=Y,this.key=++Fe,this.da=this.fa=!1}function $e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function mn(f){this.src=f,this.g={},this.h=0}mn.prototype.add=function(f,y,T,O,Y){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var oe=Yn(f,y,O,Y);return-1<oe?(y=f[oe],T||(y.fa=!1)):(y=new ft(y,this.src,W,!!O,Y),y.fa=T,f.push(y)),y};function ui(f,y){var T=y.type;if(T in f.g){var O=f.g[T],Y=Array.prototype.indexOf.call(O,y,void 0),W;(W=0<=Y)&&Array.prototype.splice.call(O,Y,1),W&&($e(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Yn(f,y,T,O){for(var Y=0;Y<f.length;++Y){var W=f[Y];if(!W.da&&W.listener==y&&W.capture==!!T&&W.ha==O)return Y}return-1}var es="closure_lm_"+(1e6*Math.random()|0),ts={};function ci(f,y,T,O,Y){if(Array.isArray(y)){for(var W=0;W<y.length;W++)ci(f,y[W],T,O,Y);return null}return T=dh(T),f&&f[wt]?f.K(y,T,p(O)?!!O.capture:!1,Y):Jl(f,y,T,!1,O,Y)}function Jl(f,y,T,O,Y,W){if(!y)throw Error("Invalid event type");var oe=p(Y)?!!Y.capture:!!Y,ze=eu(f);if(ze||(f[es]=ze=new mn(f)),T=ze.add(y,T,O,oe,W),T.proxy)return T;if(O=So(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)le||(Y=oe),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),O,Y);else if(f.attachEvent)f.attachEvent(Ro(y.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function So(){function f(T){return y.call(f.src,f.listener,T)}const y=Sm;return f}function Ao(f,y,T,O,Y){if(Array.isArray(y))for(var W=0;W<y.length;W++)Ao(f,y[W],T,O,Y);else O=p(O)?!!O.capture:!!O,T=dh(T),f&&f[wt]?(f=f.i,y=String(y).toString(),y in f.g&&(W=f.g[y],T=Yn(W,T,O,Y),-1<T&&($e(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete f.g[y],f.h--)))):f&&(f=eu(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Yn(y,T,O,Y)),(T=-1<f?y[f]:null)&&ma(T))}function ma(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[wt])ui(y.i,f);else{var T=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(T,O,f.capture):y.detachEvent?y.detachEvent(Ro(T),O):y.addListener&&y.removeListener&&y.removeListener(O),(T=eu(y))?(ui(T,f),T.h==0&&(T.src=null,y[es]=null)):$e(f)}}}function Ro(f){return f in ts?ts[f]:ts[f]="on"+f}function Sm(f,y){if(f.da)f=!0;else{y=new Te(y,this);var T=f.listener,O=f.ha||f.src;f.fa&&ma(f),f=T.call(O,y)}return f}function eu(f){return f=f[es],f instanceof mn?f:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function dh(f){return typeof f=="function"?f:(f[En]||(f[En]=function(y){return f.handleEvent(y)}),f[En])}function Ot(){me.call(this),this.i=new mn(this),this.M=this,this.F=null}R(Ot,me),Ot.prototype[wt]=!0,Ot.prototype.removeEventListener=function(f,y,T,O){Ao(this,f,y,T,O)};function Ut(f,y){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=y.type||y,typeof y=="string")y=new ue(y,f);else if(y instanceof ue)y.target=y.target||f;else{var Y=y;y=new ue(O,f),M(y,Y)}if(Y=!0,T)for(var W=T.length-1;0<=W;W--){var oe=y.g=T[W];Y=hi(oe,O,!0,y)&&Y}if(oe=y.g=f,Y=hi(oe,O,!0,y)&&Y,Y=hi(oe,O,!1,y)&&Y,T)for(W=0;W<T.length;W++)oe=y.g=T[W],Y=hi(oe,O,!1,y)&&Y}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var T=f.g[y],O=0;O<T.length;O++)$e(T[O]);delete f.g[y],f.h--}}this.F=null},Ot.prototype.K=function(f,y,T,O){return this.i.add(String(f),y,!1,T,O)},Ot.prototype.L=function(f,y,T,O){return this.i.add(String(f),y,!0,T,O)};function hi(f,y,T,O){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==T){var ze=oe.listener,Mt=oe.ha||oe.src;oe.fa&&ui(f.i,oe),Y=ze.call(Mt,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function mh(f,y,T){if(typeof f=="function")T&&(f=w(f,T));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function tu(f){f.g=mh(()=>{f.g=null,f.i&&(f.i=!1,tu(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Am extends me{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(f){me.call(this),this.h=f,this.g={}}R(pa,me);var ns=[];function nn(f){X(f.g,function(y,T){this.g.hasOwnProperty(T)&&ma(y)},f),f.g={}}pa.prototype.N=function(){pa.aa.N.call(this),nn(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nu=h.JSON.stringify,Ir=h.JSON.parse,pn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function ru(){}ru.prototype.h=null;function ph(f){return f.h||(f.h=f.i())}function gh(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){ue.call(this,"d")}R(rs,ue);function mr(){ue.call(this,"c")}R(mr,ue);var Qn={},is=null;function Co(){return is=is||new Ot}Qn.La="serverreachability";function iu(f){ue.call(this,Qn.La,f)}R(iu,ue);function ss(f){const y=Co();Ut(y,new iu(y))}Qn.STAT_EVENT="statevent";function Io(f,y){ue.call(this,Qn.STAT_EVENT,f),this.stat=y}R(Io,ue);function yt(f){const y=Co();Ut(y,new Io(y,f))}Qn.Ma="timingevent";function _h(f,y){ue.call(this,Qn.Ma,f),this.size=y}R(_h,ue);function as(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function yh(f,y,T,O,Y,W){f.info(function(){if(f.g)if(W)for(var oe="",ze=W.split("&"),Mt=0;Mt<ze.length;Mt++){var Be=ze[Mt].split("=");if(1<Be.length){var jt=Be[0];Be=Be[1];var Nt=jt.split("_");oe=2<=Nt.length&&Nt[1]=="type"?oe+(jt+"="+Be+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+y+`
`+T+`
`+oe})}function vh(f,y,T,O,Y,W,oe){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+y+`
`+T+`
`+W+" "+oe})}function ls(f,y,T,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+zt(f,T)+(O?" "+O:"")})}function Or(f,y){f.info(function(){return"TIMEOUT: "+y})}os.prototype.info=function(){};function zt(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var W=Y[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<Y.length;oe++)Y[oe]=""}}}}return nu(T)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ga;function Do(){}R(Do,ru),Do.prototype.g=function(){return new XMLHttpRequest},Do.prototype.i=function(){return{}},ga=new Do;function xr(f,y,T,O){this.j=f,this.i=y,this.l=T,this.R=O||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var us={},_a={};function pr(f,y,T){f.L=1,f.v=Ta(dt(y)),f.m=T,f.P=!0,di(f,null)}function di(f,y){f.F=Date.now(),st(f),f.A=dt(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),gi(T.i,"t",O),f.C=0,T=f.j.J,f.h=new su,f.g=Nh(f.j,T?y:null,!f.m),0<f.O&&(f.M=new Am(w(f.Y,f,f.g),f.O)),y=f.U,T=f.g,O=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ns[0]=Y.toString()),Y=ns);for(var W=0;W<Y.length;W++){var oe=ci(T,Y[W],O||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ss(),yh(f.i,f.u,f.A,f.l,f.R,f.m)}xr.prototype.ca=function(f){f=f.target;const y=this.M;y&&Zn(f)==3?y.j():this.Y(f)},xr.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=Zn(this.g);var y=this.g.Ba();const Ti=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Ah(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Ti?ss(3):ss(2)),Oo(this);var T=this.g.Z();this.X=T;t:if(cs(this)){var O=Ah(this.g);f="";var Y=O.length,W=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),xn(this);var oe="";break t}this.h.i=new h.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(W&&y==Y-1)});O.length=0,this.h.g+=f,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=T==200,vh(this.i,this.u,this.A,this.l,this.R,Nt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Mt=this.g;if((ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ze)){var Be=ze;break t}}Be=null}if(T=Be)ls(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mn(this,T);else{this.o=!1,this.s=3,yt(12),wn(this),xn(this);break e}}if(this.P){T=!0;let Qt;for(;!this.J&&this.C<oe.length;)if(Qt=hs(this,oe),Qt==_a){Nt==4&&(this.s=4,yt(14),T=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==us){this.s=4,yt(15),ls(this.i,this.l,oe,"[Invalid Chunk]"),T=!1;break}else ls(this.i,this.l,Qt,null),Mn(this,Qt);if(cs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||oe.length!=0||this.h.h||(this.s=1,yt(16),T=!1),this.o=this.o&&T,!T)ls(this.i,this.l,oe,"[Invalid Chunked Response]"),wn(this),xn(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ca(jt),jt.M=!0,yt(11))}}else ls(this.i,this.l,oe,null),Mn(this,oe);Nt==4&&wn(this),this.o&&!this.J&&(Nt==4?Oh(this.j,this):(this.o=!1,st(this)))}else xm(this.g),T==400&&0<oe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),wn(this),xn(this)}}}catch{}finally{}};function cs(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function hs(f,y){var T=f.C,O=y.indexOf(`
`,T);return O==-1?_a:(T=Number(y.substring(T,O)),isNaN(T)?us:(O+=1,O+T>y.length?_a:(y=y.slice(O,O+T),f.C=O+T,y)))}xr.prototype.cancel=function(){this.J=!0,wn(this)};function st(f){f.S=Date.now()+f.I,au(f,f.I)}function au(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=as(w(f.ba,f),y)}function Oo(f){f.B&&(h.clearTimeout(f.B),f.B=null)}xr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Or(this.i,this.A),this.L!=2&&(ss(),yt(17)),wn(this),this.s=2,xn(this)):au(this,this.S-f)};function xn(f){f.j.G==0||f.J||Oh(f.j,f)}function wn(f){Oo(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,nn(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Mn(f,y){try{var T=f.j;if(T.G!=0&&(T.g==f||fs(T.h,f))){if(!f.K&&fs(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Bo(T),Uo(T);else break e;_u(T),yt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=as(w(T.Za,T),6e3));if(1>=Th(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else vi(T,11)}else if((f.K||T.g==f)&&Bo(T),!L(y))for(Y=T.Da.g.parse(y),y=0;y<Y.length;y++){let Be=Y[y];if(T.T=Be[0],Be=Be[1],T.G==2)if(Be[0]=="c"){T.K=Be[1],T.ia=Be[2];const jt=Be[3];jt!=null&&(T.la=jt,T.j.info("VER="+T.la));const Nt=Be[4];Nt!=null&&(T.Aa=Nt,T.j.info("SVER="+T.Aa));const Ti=Be[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(O=1.5*Ti,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Qt=f.g;if(Qt){const Ur=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var W=O.h;W.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ds(W,W.h),W.h=null))}if(O.D){const vu=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;vu&&(O.ya=vu,He(O.I,O.D,vu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var oe=f;if(O.qa=Mh(O,O.J?O.ia:null,O.W),oe.K){Kn(O.h,oe);var ze=oe,Mt=O.L;Mt&&(ze.I=Mt),ze.B&&(Oo(ze),st(ze)),O.g=oe}else Ih(O);0<T.i.length&&zo(T)}else Be[0]!="stop"&&Be[0]!="close"||vi(T,7);else T.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?vi(T,7):pu(T):Be[0]!="noop"&&T.l&&T.l.ta(Be),T.v=0)}}ss(4)}catch{}}var Rm=class{constructor(f,y){this.g=f,this.map=y}};function ou(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Th(f){return f.h?1:f.g?f.g.size:0}function fs(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ds(f,y){f.g?f.g.add(y):f.h=y}function Kn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ou.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function gn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return S(f.i)}function Eh(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],T=f.length,O=0;O<T;O++)y.push(f[O]);return y}y=[],T=0;for(O in f)y[T++]=f[O];return y}function Cm(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const O in f)y[T++]=O;return y}}}function ya(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var T=Cm(f),O=Eh(f),Y=O.length,W=0;W<Y;W++)y.call(void 0,O[W],T&&T[W],f)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),Y=null;if(0<=O){var W=f[T].substring(0,O);Y=f[T].substring(O+1)}else W=f[T];y(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function mi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof mi){this.h=f.h,ms(this,f.j),this.o=f.o,this.g=f.g,va(this,f.s),this.l=f.l;var y=f.i,T=new Mr;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Mo(this,T),this.m=f.m}else f&&(y=String(f).match(uu))?(this.h=!1,ms(this,y[1]||"",!0),this.o=ps(y[2]||""),this.g=ps(y[3]||"",!0),va(this,y[4]),this.l=ps(y[5]||"",!0),Mo(this,y[6]||"",!0),this.m=ps(y[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}mi.prototype.toString=function(){var f=[],y=this.j;y&&f.push($n(y,cu,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push($n(y,cu,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push($n(T,T.charAt(0)=="/"?hu:wh,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",$n(T,Om)),f.join("")};function dt(f){return new mi(f)}function ms(f,y,T){f.j=T?ps(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function va(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Mo(f,y,T){y instanceof Mr?(f.i=y,fu(f.i,f.h)):(T||(y=$n(y,Dm)),f.i=new Mr(y,f.h))}function He(f,y,T){f.i.set(y,T)}function Ta(f){return He(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ps(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $n(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,Im),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Im(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cu=/[#\/\?@]/g,wh=/[#\?:]/g,hu=/[#\?]/g,Dm=/[#\?@]/g,Om=/#/g;function Mr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Xn(f){f.g||(f.g=new Map,f.h=0,f.i&&xo(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Mr.prototype,n.add=function(f,y){Xn(this),this.i=null,f=_i(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function No(f,y){Xn(f),y=_i(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function pi(f,y){return Xn(f),y=_i(f,y),f.g.has(y)}n.forEach=function(f,y){Xn(this),this.g.forEach(function(T,O){T.forEach(function(Y){f.call(y,Y,O,this)},this)},this)},n.na=function(){Xn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let O=0;O<y.length;O++){const Y=f[O];for(let W=0;W<Y.length;W++)T.push(y[O])}return T},n.V=function(f){Xn(this);let y=[];if(typeof f=="string")pi(this,f)&&(y=y.concat(this.g.get(_i(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return Xn(this),this.i=null,f=_i(this,f),pi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function gi(f,y,T){No(f,y),0<T.length&&(f.i=null,f.g.set(_i(f,y),S(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var O=y[T];const W=encodeURIComponent(String(O)),oe=this.V(O);for(O=0;O<oe.length;O++){var Y=W;oe[O]!==""&&(Y+="="+encodeURIComponent(String(oe[O]))),f.push(Y)}}return this.i=f.join("&")};function _i(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function fu(f,y){y&&!f.j&&(Xn(f),f.i=null,f.g.forEach(function(T,O){var Y=O.toLowerCase();O!=Y&&(No(this,O),gi(this,Y,T))},f)),f.j=y}function bh(f,y){const T=new os;if(h.Image){const O=new Image;O.onload=b(Wn,T,"TestLoadImage: loaded",!0,y,O),O.onerror=b(Wn,T,"TestLoadImage: error",!1,y,O),O.onabort=b(Wn,T,"TestLoadImage: abort",!1,y,O),O.ontimeout=b(Wn,T,"TestLoadImage: timeout",!1,y,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}function Ea(f,y){const T=new os,O=new AbortController,Y=setTimeout(()=>{O.abort(),Wn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:O.signal}).then(W=>{clearTimeout(Y),W.ok?Wn(T,"TestPingServer: ok",!0,y):Wn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Wn(T,"TestPingServer: error",!1,y)})}function Wn(f,y,T,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(T)}catch{}}function wa(){this.g=new pn}function Nr(f,y,T){const O=T||"";try{ya(f,function(Y,W){let oe=Y;p(Y)&&(oe=nu(Y)),y.push(O+W+"="+encodeURIComponent(oe))})}catch(Y){throw y.push(O+"type="+encodeURIComponent("_badmap")),Y}}function gs(f){this.l=f.Ub||null,this.j=f.eb||!1}R(gs,ru),gs.prototype.g=function(){return new yi(this.l,this.j)},gs.prototype.i=function(f){return function(){return f}}({});function yi(f,y){Ot.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(yi,Ot),n=yi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,kr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;du(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function du(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Pr(this):kr(this),this.readyState==3&&du(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Pr(this))},n.Qa=function(f){this.g&&(this.response=f,Pr(this))},n.ga=function(){this.g&&Pr(this)};function Pr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,kr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function kr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mu(f){let y="";return X(f,function(T,O){y+=O,y+=":",y+=T,y+=`\r
`}),y}function Bt(f,y,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=mu(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):He(f,y,T))}function Qe(f){Ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Qe,Ot);var Po=/^https?$/i,ba=["POST","PUT"];n=Qe.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ga.g(),this.v=this.o?ph(this.o):ph(ga),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){Sh(this,W);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)T.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const W of O.keys())T.set(W,O.get(W));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ba,y,void 0))||O||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of T)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){Sh(this,W)}};function Sh(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,ko(f),Vr(f)}function ko(f){f.A||(f.A=!0,Ut(f,"complete"),Ut(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ut(this,"complete"),Ut(this,"abort"),Vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vo(this):this.bb())},n.bb=function(){Vo(this)};function Vo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Zn(f)!=4||f.Z()!=2)){if(f.u&&Zn(f)==4)mh(f.Ea,0,f);else if(Ut(f,"readystatechange"),Zn(f)==4){f.h=!1;try{const oe=f.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var O;if(O=oe===0){var Y=String(f.D).match(uu)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),O=!Po.test(Y?Y.toLowerCase():"")}T=O}if(T)Ut(f,"complete"),Ut(f,"success");else{f.m=6;try{var W=2<Zn(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",ko(f)}}finally{Vr(f)}}}}function Vr(f,y){if(f.g){Sa(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ut(f,"ready");try{T.onreadystatechange=O}catch{}}}function Sa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Zn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ir(y)}};function Ah(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xm(f){const y={};f=(f.g&&2<=Zn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(L(f[O]))continue;var T=U(f[O]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=y[Y]||[];y[Y]=W,W.push(T)}x(y,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function Lo(f){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,f),this.cb=Aa("retryDelaySeedMs",1e4,f),this.Wa=Aa("forwardChannelMaxRetries",2,f),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ou(f&&f.concurrentRequestLimit),this.Da=new wa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Lo.prototype,n.la=8,n.G=1,n.connect=function(f,y,T,O){yt(0),this.W=f,this.H=y||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=Mh(this,null,this.W),zo(this)};function pu(f){if(Rh(f),f.G==3){var y=f.U++,T=dt(f.I);if(He(T,"SID",f.K),He(T,"RID",y),He(T,"TYPE","terminate"),Ra(f,T),y=new xr(f,f.j,y),y.L=2,y.v=Ta(dt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=y.v,T=!0),T||(y.g=Nh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),st(y)}xh(f)}function Uo(f){f.g&&(Ca(f),f.g.cancel(),f.g=null)}function Rh(f){Uo(f),f.u&&(h.clearTimeout(f.u),f.u=null),Bo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function zo(f){if(!lu(f.h)&&!f.s){f.s=!0;var y=f.Ga;he||z(),de||(he(),de=!0),ke.add(y,f),f.B=0}}function Mm(f,y){return Th(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=as(w(f.Ga,f,y),yu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new xr(this,this.j,f);let W=this.o;if(this.S&&(W?(W=C(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(Y.H=W,W=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ch(this,Y,y),T=dt(this.I),He(T,"RID",f),He(T,"CVER",22),this.D&&He(T,"X-HTTP-Session-Id",this.D),Ra(this,T),W&&(this.O?y="headers="+encodeURIComponent(String(mu(W)))+"&"+y:this.m&&Bt(T,this.m,W)),ds(this.h,Y),this.Ua&&He(T,"TYPE","init"),this.P?(He(T,"$req",y),He(T,"SID","null"),Y.T=!0,pr(Y,T,null)):pr(Y,T,y),this.G=2}}else this.G==3&&(f?gu(this,f):this.i.length==0||lu(this.h)||gu(this))};function gu(f,y){var T;y?T=y.l:T=f.U++;const O=dt(f.I);He(O,"SID",f.K),He(O,"RID",T),He(O,"AID",f.T),Ra(f,O),f.m&&f.o&&Bt(O,f.m,f.o),T=new xr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Ch(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ds(f.h,T),pr(T,O,y)}function Ra(f,y){f.H&&X(f.H,function(T,O){He(y,O,T)}),f.l&&ya({},function(T,O){He(y,O,T)})}function Ch(f,y,T){T=Math.min(f.i.length,T);var O=f.l?w(f.l.Na,f.l,f):null;e:{var Y=f.i;let W=-1;for(;;){const oe=["count="+T];W==-1?0<T?(W=Y[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let ze=!0;for(let Mt=0;Mt<T;Mt++){let Be=Y[Mt].g;const jt=Y[Mt].map;if(Be-=W,0>Be)W=Math.max(0,Y[Mt].g-100),ze=!1;else try{Nr(jt,oe,"req"+Be+"_")}catch{O&&O(jt)}}if(ze){O=oe.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,O}function Ih(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;he||z(),de||(he(),de=!0),ke.add(y,f),f.v=0}}function _u(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=as(w(f.Fa,f),yu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Dh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=as(w(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Uo(this),Dh(this))};function Ca(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Dh(f){f.g=new xr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=dt(f.qa);He(y,"RID","rpc"),He(y,"SID",f.K),He(y,"AID",f.T),He(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&He(y,"TO",f.ja),He(y,"TYPE","xmlhttp"),Ra(f,y),f.m&&f.o&&Bt(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Ta(dt(y)),T.m=null,T.P=!0,di(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Uo(this),_u(this),yt(19))};function Bo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Oh(f,y){var T=null;if(f.g==y){Bo(f),Ca(f),f.g=null;var O=2}else if(fs(f.h,y))T=y.D,Kn(f.h,y),O=1;else return;if(f.G!=0){if(y.o)if(O==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var Y=f.B;O=Co(),Ut(O,new _h(O,T)),zo(f)}else Ih(f);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(O==1&&Mm(f,y)||O==2&&_u(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),Y){case 1:vi(f,5);break;case 4:vi(f,10);break;case 3:vi(f,6);break;default:vi(f,2)}}}function yu(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function vi(f,y){if(f.j.info("Error code "+y),y==2){var T=w(f.fb,f),O=f.Xa;const Y=!O;O=new mi(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ms(O,"https"),Ta(O),Y?bh(O.toString(),T):Ea(O.toString(),T)}else yt(2);f.G=0,f.l&&f.l.sa(y),xh(f),Rh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function xh(f){if(f.G=0,f.ka=[],f.l){const y=gn(f.h);(y.length!=0||f.i.length!=0)&&(D(f.ka,y),D(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Mh(f,y,T){var O=T instanceof mi?dt(T):new mi(T);if(O.g!="")y&&(O.g=y+"."+O.g),va(O,O.s);else{var Y=h.location;O=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var W=new mi(null);O&&ms(W,O),y&&(W.g=y),Y&&va(W,Y),T&&(W.l=T),O=W}return T=f.D,y=f.ya,T&&y&&He(O,T,y),He(O,"VER",f.la),Ra(f,O),O}function Nh(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Qe(new gs({eb:T})):new Qe(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ph(){}n=Ph.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function jo(){}jo.prototype.g=function(f,y){return new _n(f,y)};function _n(f,y){Ot.call(this),this.g=new Lo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!L(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Lr(this)}R(_n,Ot),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){pu(this.g)},_n.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=nu(f),f=T);y.i.push(new Rm(y.Ya++,f)),y.G==3&&zo(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,_n.aa.N.call(this)};function kh(f){rs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}R(kh,rs);function Vh(){mr.call(this),this.status=1}R(Vh,mr);function Lr(f){this.g=f}R(Lr,Ph),Lr.prototype.ua=function(){Ut(this.g,"a")},Lr.prototype.ta=function(f){Ut(this.g,new kh(f))},Lr.prototype.sa=function(f){Ut(this.g,new Vh)},Lr.prototype.ra=function(){Ut(this.g,"b")},jo.prototype.createWebChannel=jo.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,E1=function(){return new jo},T1=function(){return Co()},v1=Qn,M_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,ed=xt,fi.COMPLETE="complete",y1=fi,gh.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,dc=gh,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,_1=Qe}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore",jw="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new by("@firebase/firestore");function gl(){return ho.logLevel}function ce(n,...e){if(ho.logLevel<=Ne.DEBUG){const t=e.map(Ly);ho.debug(`Firestore (${Kl}): ${n}`,...t)}}function Wi(n,...e){if(ho.logLevel<=Ne.ERROR){const t=e.map(Ly);ho.error(`Firestore (${Kl}): ${n}`,...t)}}function Ll(n,...e){if(ho.logLevel<=Ne.WARN){const t=e.map(Ly);ho.warn(`Firestore (${Kl}): ${n}`,...t)}}function Ly(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+n;throw Wi(e),new Error(e)}function Ke(n,e){n||Ee()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class $P{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XP{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let l=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new w1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new on(e)}}class WP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ZP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JP{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0);const r=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new qw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=ek(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Ul(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=-62135596800,Hw=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Hw);return new Vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fw)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Fw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="__name__";class Yr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=Yr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Yr.isNumericId(e),s=Yr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class rt extends Yr{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Yr{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return tk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gw}static keyField(){return new Jt([Gw])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(l(),s++)}if(l(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function nk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new ra(s,ye.empty(),e)}function rk(n){return new ra(n.readTime,n.key,zc)}class ra{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ra(be.min(),ye.empty(),zc)}static max(){return new ra(be.max(),ye.empty(),zc)}}function ik(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==sk)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let s=0,l=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++l,u&&l===s&&t()},d=>r(d))}),u=!0,l===s&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(s=>s?re.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}static mapArray(e,t){return new re((r,s)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;t(e[p]).next(_=>{u[p]=_,++h,h===l&&r(u)},_=>s(_))}})}static doWhile(e,t){return new re((r,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):r()};l()})}}function ok(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function nm(n){return n==null}function bd(n){return n===0&&1/n==-1/0}function lk(n){return typeof n=="number"&&Number.isInteger(n)&&!bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="";function uk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yw(e)),e=ck(n.get(t),e);return Yw(e)}function ck(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case S1:t+="";break;default:t+=l}}return t}function Yw(n){return n+S1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new Zt(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,s,l){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kw(this.data.getIterator())}getIteratorFrom(e){return new Kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Er([])}unionWith(e){let t=new Lt(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new R1("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=hk.exec(n);if(Ke(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sa(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="server_timestamp",I1="__type__",D1="__previous_value__",O1="__local_write_time__";function zy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[I1])===null||t===void 0?void 0:t.stringValue)===C1}function rm(n){const e=n.mapValue.fields[D1];return zy(e)?rm(e):e}function Bc(n){const e=ia(n.mapValue.fields[O1].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,r,s,l,u,h,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Sd="(default)";class jc{constructor(e,t){this.projectId=e,this.database=t||Sd}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="__type__",dk="__max__",Bf={mapValue:{}},M1="__vector__",Ad="value";function aa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zy(n)?4:pk(n)?9007199254740991:mk(n)?10:11:Ee()}function ii(n,e){if(n===e)return!0;const t=aa(n);if(t!==aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bc(n).isEqual(Bc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=ia(s.timestampValue),h=ia(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return sa(s.bytesValue).isEqual(sa(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Et(s.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Et(s.integerValue)===Et(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Et(s.doubleValue),h=Et(l.doubleValue);return u===h?bd(u)===bd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ul(n.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(s,l){const u=s.mapValue.fields||{},h=l.mapValue.fields||{};if(Qw(u)!==Qw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ii(u[d],h[d])))return!1;return!0}(n,e);default:return Ee()}}function qc(n,e){return(n.values||[]).find(t=>ii(t,e))!==void 0}function zl(n,e){if(n===e)return 0;const t=aa(n),r=aa(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(l,u){const h=Et(l.integerValue||l.doubleValue),d=Et(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return $w(n.timestampValue,e.timestampValue);case 4:return $w(Bc(n),Bc(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(l,u){const h=sa(l),d=sa(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const _=Le(h[p],d[p]);if(_!==0)return _}return Le(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const h=Le(Et(l.latitude),Et(u.latitude));return h!==0?h:Le(Et(l.longitude),Et(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Xw(n.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,p,_;const v=l.fields||{},w=u.fields||{},b=(h=v[Ad])===null||h===void 0?void 0:h.arrayValue,R=(d=w[Ad])===null||d===void 0?void 0:d.arrayValue,S=Le(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return S!==0?S:Xw(b,R)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===Bf.mapValue&&u===Bf.mapValue)return 0;if(l===Bf.mapValue)return 1;if(u===Bf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const w=Le(d[v],_[v]);if(w!==0)return w;const b=zl(h[d[v]],p[_[v]]);if(b!==0)return b}return Le(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function $w(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ia(n),r=ia(e),s=Le(t.seconds,r.seconds);return s!==0?s:Le(t.nanos,r.nanos)}function Xw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const l=zl(t[s],r[s]);if(l)return l}return Le(t.length,r.length)}function Bl(n){return N_(n)}function N_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ia(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return sa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const l of t.values||[])s?s=!1:r+=",",r+=N_(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${N_(t.fields[u])}`;return s+"}"}(n.mapValue):Ee()}function td(n){switch(aa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rm(n);return e?16+td(e):16;case 5:return 2*n.stringValue.length;case 6:return sa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,l)=>s+td(l),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return To(r.fields,(l,u)=>{s+=l.length+td(u)}),s}(n.mapValue);default:throw Ee()}}function Ww(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function P_(n){return!!n&&"integerValue"in n}function By(n){return!!n&&"arrayValue"in n}function Zw(n){return!!n&&"nullValue"in n}function Jw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nd(n){return!!n&&"mapValue"in n}function mk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[x1])===null||t===void 0?void 0:t.stringValue)===M1}function wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(t)}setAll(e){let t=Jt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=wc(u):s.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());nd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];nd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){To(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new hr(wc(this.value))}}function N1(n){const e=[];return To(n.fields,(t,r)=>{const s=new Jt([t]);if(nd(r)){const l=N1(r.mapValue).fields;if(l.length===0)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,s,l,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ln(e,0,be.min(),be.min(),be.min(),hr.empty(),0)}static newFoundDocument(e,t,r,s){return new ln(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new ln(e,2,t,be.min(),be.min(),hr.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,be.min(),be.min(),hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.position=e,this.inclusive=t}}function eb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],u=n.position[s];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=zl(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function tb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ii(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function gk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class Dt extends P1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new yk(e,t,r):t==="array-contains"?new Ek(e,r):t==="in"?new wk(e,r):t==="not-in"?new bk(e,r):t==="array-contains-any"?new Sk(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vk(e,r):new Tk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zl(t,this.value)):t!==null&&aa(this.value)===aa(t)&&this.matchesComparison(zl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends P1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ar(e,t)}matches(e){return k1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function k1(n){return n.op==="and"}function V1(n){return _k(n)&&k1(n)}function _k(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function k_(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Bl(n.value);if(V1(n))return n.filters.map(e=>k_(e)).join(",");{const e=n.filters.map(t=>k_(t)).join(",");return`${n.op}(${e})`}}function L1(n,e){return n instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&ii(r.value,s.value)}(n,e):n instanceof Ar?function(r,s){return s instanceof Ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((l,u,h)=>l&&L1(u,s.filters[h]),!0):!1}(n,e):void Ee()}function U1(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bl(t.value)}`}(n):n instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(U1).join(" ,")+"}"}(n):"Filter"}class yk extends Dt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class vk extends Dt{constructor(e,t){super(e,"in",t),this.keys=z1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Tk extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=z1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function z1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class Ek extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return By(t)&&qc(t.arrayValue,this.value)}}class wk extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qc(this.value.arrayValue,t)}}class bk extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!qc(this.value.arrayValue,t)}}class Sk extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!By(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t=null,r=[],s=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=u,this.endAt=h,this.le=null}}function nb(n,e=null,t=[],r=[],s=null,l=null,u=null){return new Ak(n,e,t,r,s,l,u)}function jy(n){const e=Ae(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>k_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),nm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bl(r)).join(",")),e.le=t}return e.le}function qy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!L1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tb(n.startAt,e.startAt)&&tb(n.endAt,e.endAt)}function V_(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t=null,r=[],s=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Rk(n,e,t,r,s,l,u,h){return new Wl(n,e,t,r,s,l,u,h)}function im(n){return new Wl(n)}function rb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B1(n){return n.collectionGroup!==null}function bc(n){const e=Ae(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Lt(Jt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Fc(l,r))}),t.has(Jt.keyField().canonicalString())||e.he.push(new Fc(Jt.keyField(),r))}return e.he}function Jr(n){const e=Ae(n);return e.Pe||(e.Pe=Ck(e,bc(n))),e.Pe}function Ck(n,e){if(n.limitType==="F")return nb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Fc(s.field,l)});const t=n.endAt?new Rd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rd(n.startAt.position,n.startAt.inclusive):null;return nb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function L_(n,e){const t=n.filters.concat([e]);return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function U_(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sm(n,e){return qy(Jr(n),Jr(e))&&n.limitType===e.limitType}function j1(n){return`${jy(Jr(n))}|lt:${n.limitType}`}function _l(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>U1(s)).join(", ")}]`),nm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Bl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Bl(s)).join(",")),`Target(${r})`}(Jr(n))}; limitType=${n.limitType})`}function am(n,e){return e.isFoundDocument()&&function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,s){for(const l of bc(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,d){const p=eb(u,h,d);return u.inclusive?p<=0:p<0}(r.startAt,bc(r),s)||r.endAt&&!function(u,h,d){const p=eb(u,h,d);return u.inclusive?p>=0:p>0}(r.endAt,bc(r),s))}(n,e)}function Ik(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function q1(n){return(e,t)=>{let r=!1;for(const s of bc(n)){const l=Dk(s,e,t);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function Dk(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?zl(d,p):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new ht(ye.comparator);function Zi(){return Ok}const F1=new ht(ye.comparator);function mc(...n){let e=F1;for(const t of n)e=e.insert(t.key,t);return e}function H1(n){let e=F1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function eo(){return Sc()}function G1(){return Sc()}function Sc(){return new Eo(n=>n.toString(),(n,e)=>n.isEqual(e))}const xk=new ht(ye.comparator),Mk=new Lt(ye.comparator);function Pe(...n){let e=Mk;for(const t of n)e=e.add(t);return e}const Nk=new Lt(Le);function Pk(){return Nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function Y1(n){return{integerValue:""+n}}function kk(n,e){return lk(e)?Y1(e):Fy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function Vk(n,e,t){return n instanceof Hc?function(s,l){const u={fields:{[I1]:{stringValue:C1},[O1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&zy(l)&&(l=rm(l)),l&&(u.fields[D1]=l),{mapValue:u}}(t,e):n instanceof Gc?K1(n,e):n instanceof Yc?$1(n,e):function(s,l){const u=Q1(s,l),h=ib(u)+ib(s.Ie);return P_(u)&&P_(s.Ie)?Y1(h):Fy(s.serializer,h)}(n,e)}function Lk(n,e,t){return n instanceof Gc?K1(n,e):n instanceof Yc?$1(n,e):t}function Q1(n,e){return n instanceof Cd?function(r){return P_(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Hc extends om{}class Gc extends om{constructor(e){super(),this.elements=e}}function K1(n,e){const t=X1(e);for(const r of n.elements)t.some(s=>ii(s,r))||t.push(r);return{arrayValue:{values:t}}}class Yc extends om{constructor(e){super(),this.elements=e}}function $1(n,e){let t=X1(e);for(const r of n.elements)t=t.filter(s=>!ii(s,r));return{arrayValue:{values:t}}}class Cd extends om{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ib(n){return Et(n.integerValue||n.doubleValue)}function X1(n){return By(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.field=e,this.transform=t}}function zk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Gc&&s instanceof Gc||r instanceof Yc&&s instanceof Yc?Ul(r.elements,s.elements,ii):r instanceof Cd&&s instanceof Cd?ii(r.Ie,s.Ie):r instanceof Hc&&s instanceof Hc}(n.transform,e.transform)}class Bk{constructor(e,t){this.version=e,this.transformResults=t}}class Hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class lm{}function W1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new J1(n.key,Hi.none()):new lh(n.key,n.data,Hi.none());{const t=n.data,r=hr.empty();let s=new Lt(Jt.comparator);for(let l of e.fields)if(!s.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),s=s.add(l)}return new wo(n.key,r,new Er(s.toArray()),Hi.none())}}function jk(n,e,t){n instanceof lh?function(s,l,u){const h=s.value.clone(),d=ab(s.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof wo?function(s,l,u){if(!rd(s.precondition,l))return void l.convertToUnknownDocument(u.version);const h=ab(s.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(Z1(s)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ac(n,e,t,r){return n instanceof lh?function(l,u,h,d){if(!rd(l.precondition,u))return h;const p=l.value.clone(),_=ob(l.fieldTransforms,d,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof wo?function(l,u,h,d){if(!rd(l.precondition,u))return h;const p=ob(l.fieldTransforms,d,u),_=u.data;return _.setAll(Z1(l)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(l,u,h){return rd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function qk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=Q1(r.transform,s||null);l!=null&&(t===null&&(t=hr.empty()),t.set(r.field,l))}return t||null}function sb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ul(r,s,(l,u)=>zk(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lh extends lm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wo extends lm{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ab(n,e,t){const r=new Map;Ke(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],u=l.transform,h=e.data.field(l.field);r.set(l.field,Lk(u,h,t[s]))}return r}function ob(n,e,t){const r=new Map;for(const s of n){const l=s.transform,u=t.data.field(s.field);r.set(s.field,Vk(l,u,e))}return r}class J1 extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fk extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&jk(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ac(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ac(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=G1();return this.mutations.forEach(s=>{const l=e.get(s.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(s.key)?null:h;const d=W1(u,h);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(t,r)=>sb(t,r))&&Ul(this.baseMutations,e.baseMutations,(t,r)=>sb(t,r))}}class Hy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length);let s=function(){return xk}();const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,r[u].version);return new Hy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function Qk(n){switch(n){case ne.OK:return Ee();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee()}}function eR(n){if(n===void 0)return Wi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee()}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Xs([4294967295,4294967295],0);function lb(n){const e=Kk().encode(n),t=new g1;return t.update(e),new Uint8Array(t.digest())}function ub(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xs([t,r],0),new Xs([s,l],0)]}class Gy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pc(`Invalid padding: ${t}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Xs.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(Xs.fromNumber(r)));return s.compare($k)===1&&(s=new Xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=lb(e),[r,s]=ub(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,s,l);if(!this.Re(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Gy(l,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=lb(e),[r,s]=ub(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,s,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new um(be.min(),s,new ht(Le),Zi(),Pe())}}class uh{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uh(r,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class tR{constructor(e,t){this.targetId=e,this.ge=t}}class nR{constructor(e,t,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class cb{constructor(){this.pe=0,this.ye=hb(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),r=Pe();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ee()}}),new uh(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=hb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Xk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zi(),this.$e=jf(),this.Ke=jf(),this.Ue=new ht(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(V_(l))if(r===0){const u=new ye(l.path);this.ze(t,u,ln.newNoDocument(u,be.min()))}else Ke(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=t;let u,h;try{u=sa(r).toUint8Array()}catch(d){if(d instanceof R1)return Ll("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Gy(u,s,l)}catch(d){return Ll(d instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(l=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const h=this.Xe(u);if(h){if(l.current&&V_(h.target)){const d=new ye(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,ln.newNoDocument(d,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let r=Pe();this.Ke.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const s=new um(e,t,this.Ue,this.Qe,r);return this.Qe=Zi(),this.$e=jf(),this.Ke=jf(),this.Ue=new ht(Le),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new cb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Lt(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Lt(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function jf(){return new ht(ye.comparator)}function hb(){return new ht(ye.comparator)}const Wk={asc:"ASCENDING",desc:"DESCENDING"},Zk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jk={and:"AND",or:"OR"};class eV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function z_(n,e){return n.useProto3Json||nm(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tV(n,e){return Id(n,e.toTimestamp())}function ei(n){return Ke(!!n),be.fromTimestamp(function(t){const r=ia(t);return new Vt(r.seconds,r.nanos)}(n))}function Yy(n,e){return B_(n,e).canonicalString()}function B_(n,e){const t=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function iR(n){const e=rt.fromString(n);return Ke(uR(e)),e}function j_(n,e){return Yy(n.databaseId,e.path)}function Xg(n,e){const t=iR(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(aR(t))}function sR(n,e){return Yy(n.databaseId,e)}function nV(n){const e=iR(n);return e.length===4?rt.emptyPath():aR(e)}function q_(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aR(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fb(n,e,t){return{name:j_(n,e),fields:t.value.mapValue.fields}}function rV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?(Ke(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const _=p.code===void 0?ne.UNKNOWN:eR(p.code);return new fe(_,p.message||"")}(u);t=new nR(r,s,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xg(n,r.document.name),l=ei(r.document.updateTime),u=r.document.createTime?ei(r.document.createTime):be.min(),h=new hr({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(s,l,u,h),p=r.targetIds||[],_=r.removedTargetIds||[];t=new id(p,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xg(n,r.document),l=r.readTime?ei(r.readTime):be.min(),u=ln.newNoDocument(s,l),h=r.removedTargetIds||[];t=new id([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xg(n,r.document),l=r.removedTargetIds||[];t=new id([],l,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,u=new Yk(s,l),h=r.targetId;t=new tR(h,u)}}return t}function iV(n,e){let t;if(e instanceof lh)t={update:fb(n,e.key,e.value)};else if(e instanceof J1)t={delete:j_(n,e.key)};else if(e instanceof wo)t={update:fb(n,e.key,e.data),updateMask:dV(e.fieldMask)};else{if(!(e instanceof Fk))return Ee();t={verify:j_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const h=u.transform;if(h instanceof Hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Cd)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:tV(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee()}(n,e.precondition)),t}function sV(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(s,l){let u=s.updateTime?ei(s.updateTime):ei(l);return u.isEqual(be.min())&&(u=ei(l)),new Bk(u,s.transformResults||[])}(t,e))):[]}function aV(n,e){return{documents:[sR(n,e.path)]}}function oV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sR(n,s);const l=function(p){if(p.length!==0)return lR(Ar.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(_=>function(w){return{field:yl(w.field),direction:cV(w.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=z_(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function lV(n){let e=nV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(v){const w=oR(v);return w instanceof Ar&&V1(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(w=>function(R){return new Fc(vl(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let h=null;t.limit&&(h=function(v){let w;return w=typeof v=="object"?v.value:v,nm(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(v){const w=!!v.before,b=v.values||[];return new Rd(b,w)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const w=!v.before,b=v.values||[];return new Rd(b,w)}(t.endAt)),Rk(e,s,u,l,h,"F",d,p)}function uV(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=vl(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vl(t.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vl(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=vl(t.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(vl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(r=>oR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function cV(n){return Wk[n]}function hV(n){return Zk[n]}function fV(n){return Jk[n]}function yl(n){return{fieldPath:n.canonicalString()}}function vl(n){return Jt.fromServerFormat(n.fieldPath)}function lR(n){return n instanceof Dt?function(t){if(t.op==="=="){if(Jw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NAN"}};if(Zw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NAN"}};if(Zw(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(t.field),op:hV(t.op),value:t.value}}}(n):n instanceof Ar?function(t){const r=t.getFilters().map(s=>lR(s));return r.length===1?r[0]:{compositeFilter:{op:fV(t.op),filters:r}}}(n):Ee()}function dV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t,r,s,l=be.min(),u=be.min(),h=tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.Tt=e}}function pV(n){const e=lV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?U_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.Tn=new _V}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ra.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class _V{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Lt(rt.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cR=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(cR,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new jl(0)}static Un(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="LruGarbageCollector",yV=1048576;function pb([n,e],[t,r]){const s=Le(n,t);return s===0?Le(e,r):s}class vV{constructor(e){this.Hn=e,this.buffer=new Lt(pb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(mb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xl(t)?ce(mb,"Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.er(3e5)})}}class EV{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(tm.ae);const r=new vV(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(db)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,l,u,h,d,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,t))).next(v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),gl()<=Ne.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:v})))}}function wV(n,e){return new EV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.changes=new Eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ac(r.mutation,s,Er.empty(),Vt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){const s=eo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(l=>{let u=mc();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=eo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){const s=[];return r.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let l=Zi();const u=Sc(),h=function(){return Sc()}();return t.forEach((d,p)=>{const _=r.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof wo)?l=l.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),Ac(_.mutation,p,_.mutation.getFieldMask(),Vt.now())):u.set(p.key,Er.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,_)=>u.set(p,_)),t.forEach((p,_)=>{var v;return h.set(p,new SV(_,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Sc();let s=new ht((u,h)=>u-h),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let _=r.get(d)||Er.empty();_=h.applyToLocalView(p,_),r.set(d,_);const v=(s.get(h.batchId)||Pe()).add(d);s=s.insert(h.batchId,v)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,_=d.value,v=G1();_.forEach(w=>{if(!l.has(w)){const b=W1(t.get(w),r.get(w));b!==null&&v.set(w,b),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):re.resolve(eo());let h=zc,d=l;return u.next(p=>re.forEach(p,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{d=d.insert(_,w)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,Pe())).next(_=>({batchId:h,changes:H1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=mc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const l=t.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(e,l).next(h=>re.forEach(h,d=>{const p=function(v,w){return new Wl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(_=>{_.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,s))).next(u=>{l.forEach((d,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,ln.newInvalidDocument(_)))});let h=mc();return u.forEach((d,p)=>{const _=l.get(d);_!==void 0&&Ac(_.mutation,p,Er.empty(),Vt.now()),am(t,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ei(s.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:pV(s.bundledQuery),readTime:ei(s.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.overlays=new ht(ye.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=eo();return re.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.Et(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=eo(),l=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&s.set(d.getKey(),d)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new ht((p,_)=>p-_);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=eo(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=eo(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,_)=>h.set(p,_)),!(h.size()>=s)););return re.resolve(h)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Gk(t,r));let l=this.Rr.get(t);l===void 0&&(l=Pe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.Vr=new Lt(Gt.mr),this.gr=new Lt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Gt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ye(new rt([])),r=new Gt(t,e),s=new Gt(t,e+1),l=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new rt([])),r=new Gt(t,e),s=new Gt(t,e+1);let l=Pe();return this.gr.forEachInRange([r,s],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Gt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Gt.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Hk(l,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Mr=this.Mr.add(new Gt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),l=s<0?0:s;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Uy:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),s=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,s],u=>{const h=this.Or(u.Cr);l.push(h)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Lt(Le);return t.forEach(s=>{const l=new Gt(s,0),u=new Gt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],h=>{r=r.add(h.Cr)})}),re.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const u=new Gt(new ye(l),0);let h=new Lt(Le);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Cr)),!0)},u),re.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ke(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return re.forEach(t.mutations,s=>{const l=new Gt(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Gt(t,0),s=this.Mr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.kr=e,this.docs=function(){return new ht(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Zi();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():ln.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let l=Zi();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||ik(rk(_),r)<=0||(s.has(_.key)||am(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,r,s){Ee()}qr(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xV(this)}getSize(e){return re.resolve(this.size)}}class xV extends bV{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.persistence=e,this.Qr=new Eo(t=>jy(t),qy),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Qy,this.targetCount=0,this.Ur=jl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new jl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),re.waitFor(l).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(u=>{l.push(s.markPotentiallyOrphaned(e,u))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new tm(0),this.zr=!1,this.zr=!0,this.jr=new IV,this.referenceDelegate=e(this),this.Hr=new MV(this),this.indexManager=new gV,this.remoteDocumentCache=function(s){return new OV(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new mV(t),this.Yr=new RV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new DV(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new NV(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return re.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class NV extends ak{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.ti=new Qy,this.ni=null}static ri(e){return new Ky(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,r=>{const s=ye.fromPath(r);return this.si(e,s).next(l=>{l||t.removeEntry(s,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Dd{constructor(e,t){this.persistence=e,this.oi=new Eo(r=>uk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=wV(this,t)}static ri(e,t){return new Dd(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(l=>l?re.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,l.removeEntry(u,be.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=td(e.data.value)),t}ar(e,t,r){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Pe(),s=Pe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new $y(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return I2()?8:ok(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,s,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new PV;return this._s(e,t,u).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>l.result)}us(e,t,r,s){return r.documentReadCount<this.es?(gl()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(gl()<=Ne.DEBUG&&ce("QueryEngine","Query:",_l(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(gl()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):re.resolve())}rs(e,t){if(rb(t))return re.resolve(null);let r=Jr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=U_(t,null,"F"),r=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Pe(...l);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(t,h);return this.ls(t,p,u,d.readTime)?this.rs(e,U_(t,null,"F")):this.hs(e,p,t,d)}))})))}ss(e,t,r,s){return rb(t)||s.isEqual(be.min())?re.resolve(null):this.ns.getDocuments(e,r).next(l=>{const u=this.cs(t,l);return this.ls(t,u,r,s)?re.resolve(null):(gl()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_l(t)),this.hs(e,u,t,nk(s,zc)).next(h=>h))})}cs(e,t){let r=new Lt(q1(e));return t.forEach((s,l)=>{am(e,l)&&(r=r.add(l))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,r){return gl()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",_l(t)),this.ns.getDocumentsMatchingQuery(e,t,ra.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LocalStore",VV=3e8;class LV{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new ht(Le),this.Is=new Eo(l=>jy(l),qy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function UV(n,e,t,r){return new LV(n,e,t,r)}async function fR(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],h=[];let d=Pe();for(const p of s){u.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}for(const p of l){h.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function zV(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,_){const v=p.batch,w=v.keys();let b=re.resolve();return w.forEach(R=>{b=b.next(()=>_.getEntry(d,R)).next(S=>{const D=p.docVersions.get(R);Ke(D!==null),S.version.compareTo(D)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),_.addEntry(S)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Pe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function dR(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function BV(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const h=[];e.targetChanges.forEach((_,v)=>{const w=s.get(v);if(!w)return;h.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,v)));let b=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,r)),s=s.insert(v,b),function(S,D,k){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=VV?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(w,b,_)&&h.push(t.Hr.updateTargetData(l,b))});let d=Zi(),p=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),h.push(jV(l,u,e.documentUpdates).next(_=>{d=_.Vs,p=_.fs})),!r.isEqual(be.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(v=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));h.push(_)}return re.waitFor(h).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(t.Ts=s,l))}function jV(n,e,t){let r=Pe(),s=Pe();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let u=Zi();return t.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ce(Xy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:u,fs:s}})}function qV(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FV(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(l=>l?(s=l,re.resolve(s)):t.Hr.allocateTargetId(r).next(u=>(s=new Gs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function F_(n,e,t){const r=Ae(n),s=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Xl(u))throw u;ce(Xy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function gb(n,e,t){const r=Ae(n);let s=be.min(),l=Pe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,_){const v=Ae(d),w=v.Is.get(_);return w!==void 0?re.resolve(v.Ts.get(w)):v.Hr.getTargetData(p,_)}(r,u,Jr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?s:be.min(),t?l:Pe())).next(h=>(HV(r,Ik(e),h),{documents:h,gs:l})))}function HV(n,e,t){let r=n.Es.get(e)||be.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Es.set(e,r)}class _b{constructor(){this.activeTargetIds=Pk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GV{constructor(){this.ho=new _b,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new _b,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="ConnectivityMonitor";class vb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(yb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(yb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=null;function H_(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="RestConnection",QV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Sd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,l){const u=H_(),h=this.bo(e,t.toUriEncodedString());ce(Wg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,l),this.vo(e,h,d,r).then(p=>(ce(Wg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Ll(Wg,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,t,r,s,l,u){return this.So(e,t,r,s,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}bo(e,t){const r=QV[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class XV extends KV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const l=H_();return new Promise((u,h)=>{const d=new _1;d.setWithCredentials(!0),d.listenOnce(y1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ed.NO_ERROR:const _=d.getResponseJson();ce(an,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case ed.TIMEOUT:ce(an,`RPC '${e}' ${l} timed out`),h(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const v=d.getStatus();if(ce(an,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const R=function(D){const k=D.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(k)>=0?k:ne.UNKNOWN}(b.status);h(new fe(R,b.message))}else h(new fe(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ce(an,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);ce(an,`RPC '${e}' ${l} sending request:`,s),d.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=H_(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=E1(),h=T1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=l.join("");ce(an,`Creating RPC '${e}' stream ${s}: ${_}`,d);const v=u.createWebChannel(_,d);let w=!1,b=!1;const R=new $V({Fo:D=>{b?ce(an,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(w||(ce(an,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),ce(an,`RPC '${e}' stream ${s} sending:`,D),v.send(D))},Mo:()=>v.close()}),S=(D,k,L)=>{D.listen(k,V=>{try{L(V)}catch(H){setTimeout(()=>{throw H},0)}})};return S(v,dc.EventType.OPEN,()=>{b||(ce(an,`RPC '${e}' stream ${s} transport opened.`),R.Qo())}),S(v,dc.EventType.CLOSE,()=>{b||(b=!0,ce(an,`RPC '${e}' stream ${s} transport closed`),R.Ko())}),S(v,dc.EventType.ERROR,D=>{b||(b=!0,Ll(an,`RPC '${e}' stream ${s} transport errored:`,D),R.Ko(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),S(v,dc.EventType.MESSAGE,D=>{var k;if(!b){const L=D.data[0];Ke(!!L);const V=L,H=(V==null?void 0:V.error)||((k=V[0])===null||k===void 0?void 0:k.error);if(H){ce(an,`RPC '${e}' stream ${s} received error:`,H);const q=H.status;let X=function(A){const M=Rt[A];if(M!==void 0)return eR(M)}(q),x=H.message;X===void 0&&(X=ne.INTERNAL,x="Unknown error status: "+q+" with message "+H.message),b=!0,R.Ko(new fe(X,x)),v.close()}else ce(an,`RPC '${e}' stream ${s} received:`,L),R.Uo(L)}}),S(h,v1.STAT_EVENT,D=>{D.stat===M_.PROXY?ce(an,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===M_.NOPROXY&&ce(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n){return new eV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="PersistentStream";class pR{constructor(e,t,r,s,l,u,h,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(Tb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(Tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WV extends pR{constructor(e,t,r,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=rV(this.serializer,e),r=function(l){if(!("targetChange"in l))return be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?ei(u.readTime):be.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=q_(this.serializer),t.addTarget=function(l,u){let h;const d=u.target;if(h=V_(d)?{documents:aV(l,d)}:{query:oV(l,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=rR(l,u.resumeToken);const p=z_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(be.min())>0){h.readTime=Id(l,u.snapshotVersion.toTimestamp());const p=z_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=uV(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=q_(this.serializer),t.removeTarget=e,this.I_(t)}}class ZV extends pR{constructor(e,t,r,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=sV(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=q_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>iV(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{}class eL extends JV{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.So(e,B_(t,r),s,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())})}Co(e,t,r,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,B_(t,r),s,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class tL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wi(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="RemoteStore";class nL{constructor(e,t,r,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{r.enqueueAndForget(async()=>{bo(this)&&(ce(fo,"Restarting streams for network reachability change."),await async function(d){const p=Ae(d);p.W_.add(4),await ch(p),p.j_.set("Unknown"),p.W_.delete(4),await hm(p)}(this))})}),this.j_=new tL(r,s)}}async function hm(n){if(bo(n))for(const e of n.G_)await e(!0)}async function ch(n){for(const e of n.G_)await e(!1)}function gR(n,e){const t=Ae(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ev(t)?Jy(t):Zl(t).c_()&&Zy(t,e))}function Wy(n,e){const t=Ae(n),r=Zl(t);t.U_.delete(e),r.c_()&&_R(t,e),t.U_.size===0&&(r.c_()?r.P_():bo(t)&&t.j_.set("Unknown"))}function Zy(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zl(n).y_(e)}function _R(n,e){n.H_.Ne(e),Zl(n).w_(e)}function Jy(n){n.H_=new Xk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.j_.B_()}function ev(n){return bo(n)&&!Zl(n).u_()&&n.U_.size>0}function bo(n){return Ae(n).W_.size===0}function yR(n){n.H_=void 0}async function rL(n){n.j_.set("Online")}async function iL(n){n.U_.forEach((e,t)=>{Zy(n,e)})}async function sL(n,e){yR(n),ev(n)?(n.j_.q_(e),Jy(n)):n.j_.set("Unknown")}async function aL(n,e,t){if(n.j_.set("Online"),e instanceof nR&&e.state===2&&e.cause)try{await async function(s,l){const u=l.cause;for(const h of l.targetIds)s.U_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.U_.delete(h),s.H_.removeTarget(h))}(n,e)}catch(r){ce(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Od(n,r)}else if(e instanceof id?n.H_.We(e):e instanceof tR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(be.min()))try{const r=await dR(n.localStore);t.compareTo(r)>=0&&await function(l,u){const h=l.H_.ot(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=l.U_.get(p);_&&l.U_.set(p,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const _=l.U_.get(d);if(!_)return;l.U_.set(d,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),_R(l,d);const v=new Gs(_.target,d,p,_.sequenceNumber);Zy(l,v)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ce(fo,"Failed to raise snapshot:",r),await Od(n,r)}}async function Od(n,e,t){if(!Xl(e))throw e;n.W_.add(1),await ch(n),n.j_.set("Offline"),t||(t=()=>dR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(fo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await hm(n)})}function vR(n,e){return e().catch(t=>Od(n,t,e))}async function fm(n){const e=Ae(n),t=oa(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Uy;for(;oL(e);)try{const s=await qV(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,lL(e,s)}catch(s){await Od(e,s)}TR(e)&&ER(e)}function oL(n){return bo(n)&&n.K_.length<10}function lL(n,e){n.K_.push(e);const t=oa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function TR(n){return bo(n)&&!oa(n).u_()&&n.K_.length>0}function ER(n){oa(n).start()}async function uL(n){oa(n).C_()}async function cL(n){const e=oa(n);for(const t of n.K_)e.b_(t.mutations)}async function hL(n,e,t){const r=n.K_.shift(),s=Hy.from(r,e,t);await vR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await fm(n)}async function fL(n,e){e&&oa(n).S_&&await async function(r,s){if(function(u){return Qk(u)&&u!==ne.ABORTED}(s.code)){const l=r.K_.shift();oa(r).h_(),await vR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),await fm(r)}}(n,e),TR(n)&&ER(n)}async function Eb(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce(fo,"RemoteStore received new credentials");const r=bo(t);t.W_.add(3),await ch(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await hm(t)}async function dL(n,e){const t=Ae(n);e?(t.W_.delete(2),await hm(t)):e||(t.W_.add(2),await ch(t),t.j_.set("Unknown"))}function Zl(n){return n.J_||(n.J_=function(t,r,s){const l=Ae(t);return l.M_(),new WV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:rL.bind(null,n),No:iL.bind(null,n),Lo:sL.bind(null,n),p_:aL.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),ev(n)?Jy(n):n.j_.set("Unknown")):(await n.J_.stop(),yR(n))})),n.J_}function oa(n){return n.Y_||(n.Y_=function(t,r,s){const l=Ae(t);return l.M_(),new ZV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:uL.bind(null,n),Lo:fL.bind(null,n),D_:cL.bind(null,n),v_:hL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await fm(n)):(await n.Y_.stop(),n.K_.length>0&&(ce(fo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,l){const u=Date.now()+r,h=new tv(e,t,u,s,l);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(n,e){if(Wi("AsyncQueue",`${e}: ${n}`),Xl(n))return new fe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=mc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.Z_=new ht(ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ql{constructor(e,t,r,s,l,u,h,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,l){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ql(e,t,Dl.emptySet(t),u,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class pL{constructor(){this.queries=bb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Ae(t),l=s.queries;s.queries=bb(),l.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function bb(){return new Eo(n=>j1(n),sm)}async function rv(n,e){const t=Ae(n);let r=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(r=2):(l=new mL,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=nv(u,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&sv(t)}async function iv(n,e){const t=Ae(n),r=e.query;let s=3;const l=t.queries.get(r);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gL(n,e){const t=Ae(n);let r=!1;for(const s of e){const l=s.query,u=t.queries.get(l);if(u){for(const h of u.ta)h.oa(s)&&(r=!0);u.ea=s}}r&&sv(t)}function _L(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const l of s.ta)l.onError(t);r.queries.delete(e)}function sv(n){n.ia.forEach(e=>{e.next()})}var G_,Sb;(Sb=G_||(G_={}))._a="default",Sb.Cache="cache";class av{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==G_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.key=e}}class bR{constructor(e){this.key=e}}class yL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=q1(e),this.wa=new Dl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new wb,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,v)=>{const w=s.get(_),b=am(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;w&&b?w.data.isEqual(b.data)?R!==S&&(r.track({type:3,doc:b}),D=!0):this.va(w,b)||(r.track({type:2,doc:b}),D=!0,(d&&this.ya(b,d)>0||p&&this.ya(b,p)<0)&&(h=!0)):!w&&b?(r.track({type:0,doc:b}),D=!0):w&&!b&&(r.track({type:1,doc:w}),D=!0,(d||p)&&(h=!0)),D&&(b?(u=u.add(b),l=S?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{wa:u,Da:r,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,v)=>function(b,R){const S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return S(b)-S(R)}(_.type,v.type)||this.ya(_.doc,v.doc)),this.Ca(r),s=s!=null&&s;const h=t&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,u.length!==0||p?{snapshot:new ql(this.query,e.wa,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new bR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new wR(r))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ql.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ov="SyncEngine";class vL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TL{constructor(e){this.key=e,this.Ba=!1}}class EL{constructor(e,t,r,s,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Eo(h=>j1(h),sm),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ye.comparator),this.Ka=new Map,this.Ua=new Qy,this.Wa={},this.Ga=new Map,this.za=jl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wL(n,e,t=!0){const r=DR(n);let s;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await SR(r,e,t,!0),s}async function bL(n,e){const t=DR(n);await SR(t,e,!0,!1)}async function SR(n,e,t,r){const s=await FV(n.localStore,Jr(e)),l=s.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await SL(n,e,l,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&gR(n.remoteStore,s),h}async function SL(n,e,t,r,s){n.Ha=(v,w,b)=>async function(S,D,k,L){let V=D.view.ba(k);V.ls&&(V=await gb(S.localStore,D.query,!1).then(({documents:x})=>D.view.ba(x,V)));const H=L&&L.targetChanges.get(D.targetId),q=L&&L.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(V,S.isPrimaryClient,H,q);return Rb(S,D.targetId,X.Ma),X.snapshot}(n,v,w,b);const l=await gb(n.localStore,e,!0),u=new yL(e,l.gs),h=u.ba(l.documents),d=uh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,d);Rb(n,t,p.Ma);const _=new vL(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function AL(n,e,t){const r=Ae(n),s=r.ka.get(e),l=r.qa.get(s.targetId);if(l.length>1)return r.qa.set(s.targetId,l.filter(u=>!sm(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await F_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Wy(r.remoteStore,s.targetId),Y_(r,s.targetId)}).catch($l)):(Y_(r,s.targetId),await F_(r.localStore,s.targetId,!0))}async function RL(n,e){const t=Ae(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wy(t.remoteStore,r.targetId))}async function CL(n,e,t){const r=PL(n);try{const s=await function(u,h){const d=Ae(u),p=Vt.now(),_=h.reduce((b,R)=>b.add(R.key),Pe());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let R=Zi(),S=Pe();return d.ds.getEntries(b,_).next(D=>{R=D,R.forEach((k,L)=>{L.isValidDocument()||(S=S.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,R)).next(D=>{v=D;const k=[];for(const L of h){const V=qk(L,v.get(L.key).overlayedDocument);V!=null&&k.push(new wo(L.key,V,N1(V.value.mapValue),Hi.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,k,h)}).next(D=>{w=D;const k=D.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(b,D.batchId,k)})}).then(()=>({batchId:w.batchId,changes:H1(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,d){let p=u.Wa[u.currentUser.toKey()];p||(p=new ht(Le)),p=p.insert(h,d),u.Wa[u.currentUser.toKey()]=p}(r,s.batchId,t),await hh(r,s.changes),await fm(r.remoteStore)}catch(s){const l=nv(s,"Failed to persist write");t.reject(l)}}async function AR(n,e){const t=Ae(n);try{const r=await BV(t.localStore,e);e.targetChanges.forEach((s,l)=>{const u=t.Ka.get(l);u&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?Ke(u.Ba):s.removedDocuments.size>0&&(Ke(u.Ba),u.Ba=!1))}),await hh(t,r,e)}catch(r){await $l(r)}}function Ab(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((l,u)=>{const h=u.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const d=Ae(u);d.onlineState=h;let p=!1;d.queries.forEach((_,v)=>{for(const w of v.ta)w.sa(h)&&(p=!0)}),p&&sv(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IL(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),l=s&&s.key;if(l){let u=new ht(ye.comparator);u=u.insert(l,ln.newNoDocument(l,be.min()));const h=Pe().add(l),d=new um(be.min(),new Map,new ht(Le),u,h);await AR(r,d),r.$a=r.$a.remove(l),r.Ka.delete(e),lv(r)}else await F_(r.localStore,e,!1).then(()=>Y_(r,e,t)).catch($l)}async function DL(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await zV(t.localStore,e);CR(t,r,null),RR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hh(t,s)}catch(s){await $l(s)}}async function OL(n,e,t){const r=Ae(n);try{const s=await function(u,h){const d=Ae(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,h).next(v=>(Ke(v!==null),_=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(r.localStore,e);CR(r,e,t),RR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hh(r,s)}catch(s){await $l(s)}}function RR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function CR(n,e,t){const r=Ae(n);let s=r.Wa[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Y_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||IR(n,r)})}function IR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Wy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),lv(n))}function Rb(n,e,t){for(const r of t)r instanceof wR?(n.Ua.addReference(r.key,e),xL(n,r)):r instanceof bR?(ce(ov,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||IR(n,r.key)):Ee()}function xL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ce(ov,"New document in limbo: "+t),n.Qa.add(r),lv(n))}function lv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(rt.fromString(e)),r=n.za.next();n.Ka.set(r,new TL(t)),n.$a=n.$a.insert(t,r),gR(n.remoteStore,new Gs(Jr(im(t.path)),r,"TargetPurposeLimboResolution",tm.ae))}}async function hh(n,e,t){const r=Ae(n),s=[],l=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(p=>{var _;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){s.push(p);const v=$y.Yi(d.targetId,p);l.push(v)}}))}),await Promise.all(u),r.La.p_(s),await async function(d,p){const _=Ae(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(p,w=>re.forEach(w.Hi,b=>_.persistence.referenceDelegate.addReference(v,w.targetId,b)).next(()=>re.forEach(w.Ji,b=>_.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))}catch(v){if(!Xl(v))throw v;ce(Xy,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const b=_.Ts.get(w),R=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(R);_.Ts=_.Ts.insert(w,S)}}}(r.localStore,l))}async function ML(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce(ov,"User change. New user:",e.toKey());const r=await fR(t.localStore,e);t.currentUser=e,function(l,u){l.Ga.forEach(h=>{h.forEach(d=>{d.reject(new fe(ne.CANCELLED,u))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hh(t,r.Rs)}}function NL(n,e){const t=Ae(n),r=t.Ka.get(e);if(r&&r.Ba)return Pe().add(r.key);{let s=Pe();const l=t.qa.get(e);if(!l)return s;for(const u of l){const h=t.ka.get(u);s=s.unionWith(h.view.Sa)}return s}}function DR(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IL.bind(null,e),e.La.p_=gL.bind(null,e.eventManager),e.La.Ja=_L.bind(null,e.eventManager),e}function PL(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OL.bind(null,e),e}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return UV(this.persistence,new kV,e.initialUser,this.serializer)}Xa(e){return new hR(Ky.ri,this.serializer)}Za(e){return new GV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class kL extends xd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ke(this.persistence.referenceDelegate instanceof Dd);const r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new hR(r=>Dd.ri(r,t),this.serializer)}}class Q_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ab(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ML.bind(null,this.syncEngine),await dL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pL}()}createDatastore(e){const t=cm(e.databaseInfo.databaseId),r=function(l){return new XV(l)}(e.databaseInfo);return function(l,u,h,d){return new eL(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,l,u,h){return new nL(r,s,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Ab(this.syncEngine,t,0),function(){return vb.D()?new vb:new YV}())}createSyncEngine(e,t){return function(s,l,u,h,d,p,_){const v=new EL(s,l,u,h,d,p);return _&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Ae(s);ce(fo,"RemoteStore shutting down."),l.W_.add(5),await ch(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Q_.provider={build:()=>new Q_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class VL{constructor(e,t,r,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=b1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{ce(la,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce(la,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=nv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jg(n,e){n.asyncQueue.verifyOperationInProgress(),ce(la,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await fR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Cb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LL(n);ce(la,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Eb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Eb(e.remoteStore,s)),n._onlineComponents=e}async function LL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(la,"Using user provided OfflineComponentProvider");try{await Jg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ll("Error using user provided cache. Falling back to memory cache: "+t),await Jg(n,new xd)}}else ce(la,"Using default OfflineComponentProvider"),await Jg(n,new kL(void 0));return n._offlineComponents}async function OR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(la,"Using user provided OnlineComponentProvider"),await Cb(n,n._uninitializedComponentsProvider._online)):(ce(la,"Using default OnlineComponentProvider"),await Cb(n,new Q_))),n._onlineComponents}function UL(n){return OR(n).then(e=>e.syncEngine)}async function Md(n){const e=await OR(n),t=e.eventManager;return t.onListen=wL.bind(null,e.syncEngine),t.onUnlisten=AL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RL.bind(null,e.syncEngine),t}function zL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const _=new uv({next:w=>{_.su(),u.enqueueAndForget(()=>iv(l,v));const b=w.docs.has(h);!b&&w.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&d&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new av(im(h.path),_,{includeMetadataChanges:!0,Ta:!0});return rv(l,v)}(await Md(n),n.asyncQueue,e,t,r)),r.promise}function BL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const _=new uv({next:w=>{_.su(),u.enqueueAndForget(()=>iv(l,v)),w.fromCache&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new av(h,_,{includeMetadataChanges:!0,Ta:!0});return rv(l,v)}(await Md(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n,e,t){if(!t)throw new fe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jL(n,e,t,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Db(n){if(!ye.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ob(n){if(ye.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Gi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dm(n);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firestore.googleapis.com",xb=!0;class Mb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NR,this.ssl=xb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:xb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yV)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KP;switch(r.type){case"firstParty":return new ZP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ib.get(t);r&&(ce("ComponentProvider","Removing Datastore"),Ib.delete(t),r.terminate())}(this),Promise.resolve()}}function qL(n,e,t,r={}){var s;const l=(n=Gi(n,mm))._getSettings(),u=`${e}:${t}`;if(l.host!==NR&&l.host!==u&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=on.MOCK_USER;else{h=NA(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new on(p)}n._authCredentials=new $P(new w1(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Ws extends da{constructor(e,t,r){super(e,t,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ye(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function ua(n,e,...t){if(n=dn(n),MR("collection","path",e),n instanceof mm){const r=rt.fromString(e,...t);return Ob(r),new Ws(n,null,r)}{if(!(n instanceof Dn||n instanceof Ws))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Ob(r),new Ws(n.firestore,null,r)}}function cv(n,e,...t){if(n=dn(n),arguments.length===1&&(e=b1.newId()),MR("doc","path",e),n instanceof mm){const r=rt.fromString(e,...t);return Db(r),new Dn(n,null,new ye(r))}{if(!(n instanceof Dn||n instanceof Ws))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Db(r),new Dn(n.firestore,n instanceof Ws?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class Pb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mR(this,"async_queue_retry"),this.Su=()=>{const r=Zg();r&&ce(Nb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Zg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Zg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xl(e))throw e;ce(Nb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Wi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=tv.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function kb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of r)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Fl extends mm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Pb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pb(e),this._firestoreClient=void 0,await e}}}function FL(n,e){const t=typeof n=="object"?n:Ay(),r=typeof n=="string"?n:Sd,s=Wd(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=OA("firestore");l&&qL(s,...l)}return s}function pm(n){if(n._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HL(n),n._firestoreClient}function HL(n){var e,t,r;const s=n._freezeSettings(),l=function(h,d,p,_){return new fk(h,d,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,xR(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new VL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(tn.fromBase64String(e))}catch(t){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hl(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=/^__.*__$/;class YL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new lh(e,this.data,t,this.fieldTransforms)}}function PR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class pv{constructor(e,t,r,s,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(PR(this.Lu)&&GL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class QL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cm(e)}ju(e,t,r,s=!1){return new pv({Lu:e,methodName:t,zu:r,path:Jt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kR(n){const e=n._freezeSettings(),t=cm(n._databaseId);return new QL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KL(n,e,t,r,s,l={}){const u=n.ju(l.merge||l.mergeFields?2:0,e,t,s);UR("Data must be an object, but it was:",u,r);const h=VR(r,u);let d,p;if(l.merge)d=new Er(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const w=XL(e,v,t);if(!u.contains(w))throw new fe(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ZL(_,w)||_.push(w)}d=new Er(_),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new YL(new hr(h),d,p)}class gv extends fv{_toFieldTransform(e){return new Uk(e.path,new Hc)}isEqual(e){return e instanceof gv}}function $L(n,e,t,r=!1){return _v(t,n.ju(r?4:3,e))}function _v(n,e){if(LR(n=dn(n)))return UR("Unsupported field value:",e,n),VR(n,e);if(n instanceof fv)return function(r,s){if(!PR(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const l=[];let u=0;for(const h of r){let d=_v(h,s.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(n,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Vt.fromDate(r);return{timestampValue:Id(s.serializer,l)}}if(r instanceof Vt){const l=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(s.serializer,l)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hl)return{bytesValue:rR(s.serializer,r._byteString)};if(r instanceof Dn){const l=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mv)return function(u,h){return{mapValue:{fields:{[x1]:{stringValue:M1},[Ad]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Fy(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${dm(r)}`)}(n,e)}function VR(n,e){const t={};return A1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,s)=>{const l=_v(s,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function LR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof dv||n instanceof Hl||n instanceof Dn||n instanceof fv||n instanceof mv)}function UR(n,e,t){if(!LR(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=dm(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function XL(n,e,t){if((e=dn(e))instanceof hv)return e._internalPath;if(typeof e=="string")return zR(n,e);throw Nd("Field path arguments must be of type string or ",n,!1,void 0,t)}const WL=new RegExp("[~\\*/\\[\\]]");function zR(n,e,t){if(e.search(WL)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hv(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nd(n,e,t,r,s){const l=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new fe(ne.INVALID_ARGUMENT,h+n+d)}function ZL(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JL extends BR{data(){return super.data()}}function gm(n,e){return typeof e=="string"?zR(n,e):e instanceof hv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class qR extends yv{}function Qc(n,e,...t){let r=[];e instanceof yv&&r.push(e),r=r.concat(t),function(l){const u=l.filter(d=>d instanceof vv).length,h=l.filter(d=>d instanceof _m).length;if(u>1||u>0&&h>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class _m extends qR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _m(e,t,r)}_apply(e){const t=this._parse(e);return FR(e._query,t),new da(e.firestore,e.converter,L_(e._query,t))}_parse(e){const t=kR(e.firestore);return function(l,u,h,d,p,_,v){let w;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Lb(v,_);const R=[];for(const S of v)R.push(Vb(d,l,S));w={arrayValue:{values:R}}}else w=Vb(d,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Lb(v,_),w=$L(h,u,v,_==="in"||_==="not-in");return Dt.create(p,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oo(n,e,t){const r=e,s=gm("where",n);return _m._create(s,r,t)}class vv extends yv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let u=s;const h=l.getFlattenedFilters();for(const d of h)FR(u,d),u=L_(u,d)}(e._query,t),new da(e.firestore,e.converter,L_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tv extends qR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tv(e,t)}_apply(e){const t=function(s,l,u){if(s.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(l,u)}(e._query,this._field,this._direction);return new da(e.firestore,e.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new Wl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Ev(n,e="asc"){const t=e,r=gm("orderBy",n);return Tv._create(r,t)}function Vb(n,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B1(e)&&t.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ww(n,new ye(r))}if(t instanceof Dn)return Ww(n,t._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(t)}.`)}function Lb(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FR(n,e){const t=function(s,l){for(const u of s)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eU{convertValue(e,t="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return To(e,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,s;const l=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Ad].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Et(u.doubleValue));return new mv(l)}convertGeoPoint(e){return new dv(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const t=ia(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Ke(uR(r));const s=new jc(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return s.isEqual(t)||Wi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HR extends BR{constructor(e,t,r,s,l,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sd extends HR{data(e={}){return super.data(e)}}class GR{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new gc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sd(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const d=new sd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new gc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new sd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new gc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:nU(h.type),doc:d,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n){n=Gi(n,Dn);const e=Gi(n.firestore,Fl);return zL(pm(e),n._key).then(t=>KR(e,n,t))}class wv extends eU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function Kc(n){n=Gi(n,da);const e=Gi(n.firestore,Fl),t=pm(e),r=new wv(e);return jR(n._query),BL(t,n._query).then(s=>new GR(e,r,n,s))}function QR(n,e){const t=Gi(n.firestore,Fl),r=cv(n),s=tU(n.converter,e);return iU(t,[KL(kR(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Hi.exists(!1))]).then(()=>r)}function rU(n,...e){var t,r,s;n=dn(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||kb(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(kb(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let d,p,_;if(n instanceof Dn)p=Gi(n.firestore,Fl),_=im(n._key.path),d={next:v=>{e[u]&&e[u](KR(p,n,v))},error:e[u+1],complete:e[u+2]};else{const v=Gi(n,da);p=Gi(v.firestore,Fl),_=v._query;const w=new wv(p);d={next:b=>{e[u]&&e[u](new GR(p,w,v,b))},error:e[u+1],complete:e[u+2]},jR(n._query)}return function(w,b,R,S){const D=new uv(S),k=new av(b,D,R);return w.asyncQueue.enqueueAndForget(async()=>rv(await Md(w),k)),()=>{D.su(),w.asyncQueue.enqueueAndForget(async()=>iv(await Md(w),k))}}(pm(p),_,h,d)}function iU(n,e){return function(r,s){const l=new Fi;return r.asyncQueue.enqueueAndForget(async()=>CL(await UL(r),s,l)),l.promise}(pm(n),e)}function KR(n,e,t){const r=t.docs.get(e._key),s=new wv(n);return new HR(n,s,e._key,r,new gc(t.hasPendingWrites,t.fromCache),e.converter)}function $R(){return new gv("serverTimestamp")}(function(e,t=!0){(function(s){Kl=s})(vo),uo(new na("firestore",(r,{instanceIdentifier:s,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Fl(new XP(r.getProvider("auth-internal")),new JP(u,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(p.options.projectId,_)}(u,s),u);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Wr(Bw,jw,e),Wr(Bw,jw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebasestorage.googleapis.com",sU="storageBucket",aU=2*60*1e3,oU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends oi{constructor(e,t,r=0){super(e_(e),`Firebase Storage: ${t} (${e_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return e_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var si;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(si||(si={}));function e_(n){return"storage/"+n}function lU(){const n="An unknown error occurred, please check the error payload for server response.";return new li(si.UNKNOWN,n)}function uU(){return new li(si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cU(){return new li(si.CANCELED,"User canceled the upload/download.")}function hU(n){return new li(si.INVALID_URL,"Invalid URL '"+n+"'.")}function fU(n){return new li(si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ub(n){return new li(si.INVALID_ARGUMENT,n)}function WR(){return new li(si.APP_DELETED,"The Firebase app was deleted.")}function dU(n){return new li(si.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wr.makeFromUrl(e,t)}catch{return new wr(e,"")}if(r.path==="")return r;throw fU(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${_}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},S=t===XR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",k=new RegExp(`^https?://${S}/${s}/${D}`,"i"),V=[{regex:h,indices:d,postModify:l},{regex:b,indices:R,postModify:p},{regex:k,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<V.length;H++){const q=V[H],X=q.regex.exec(e);if(X){const x=X[q.indices.bucket];let C=X[q.indices.path];C||(C=""),r=new wr(x,C),q.postModify(r);break}}if(r==null)throw hU(e);return r}}class mU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n,e,t){let r=1,s=null,l=null,u=!1,h=0;function d(){return h===2}let p=!1;function _(...D){p||(p=!0,e.apply(null,D))}function v(D){s=setTimeout(()=>{s=null,n(b,d())},D)}function w(){l&&clearTimeout(l)}function b(D,...k){if(p){w();return}if(D){w(),_.call(null,D,...k);return}if(d()||u){w(),_.call(null,D,...k);return}r<64&&(r*=2);let V;h===1?(h=2,V=0):V=(r+Math.random())*1e3,v(V)}let R=!1;function S(D){R||(R=!0,w(),!p&&(s!==null?(D||(h=2),clearTimeout(s),v(0)):D||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,S(!0)},t),S}function gU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(n){return n!==void 0}function zb(n,e,t,r){if(r<e)throw Ub(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ub(`Invalid value for '${n}'. Expected ${t} or less.`)}function yU(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Pd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Pd||(Pd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t,r,s,l,u,h,d,p,_,v,w=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,R)=>{this.resolve_=b,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ff(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Pd.NO_ERROR,d=l.getStatus();if(!h||vU(d,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Pd.ABORT;r(!1,new Ff(!1,null,_));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Ff(p,l))})},t=(r,s)=>{const l=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());_U(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=lU();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(s.canceled){const d=this.appDelete_?WR():cU();u(d)}else{const d=uU();u(d)}};this.canceled_?t(!1,new Ff(!1,null,!0)):this.backoffId_=pU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ff{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function EU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function SU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AU(n,e,t,r,s,l,u=!0){const h=yU(n.urlParams),d=n.url+h,p=Object.assign({},n.headers);return bU(p,e),EU(p,t),wU(p,l),SU(p,r),new TU(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function CU(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t){this._service=e,t instanceof wr?this._location=t:this._location=wr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kd(e,t)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CU(this._location.path)}get storage(){return this._service}get parent(){const e=RU(this._location.path);if(e===null)return null;const t=new wr(this._location.bucket,e);return new kd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dU(e)}}function Bb(n,e){const t=e==null?void 0:e[sU];return t==null?null:wr.makeFromBucketSpec(t,n)}function IU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:NA(s,n.app.options.projectId))}class DU{constructor(e,t,r,s,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=l,this._bucket=null,this._host=XR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aU,this._maxUploadRetryTime=oU,this._requests=new Set,s!=null?this._bucket=wr.makeFromBucketSpec(s,this._host):this._bucket=Bb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=Bb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kd(this,e)}_makeRequest(e,t,r,s,l=!0){if(this._deleted)return new mU(WR());{const u=AU(e,this._appId,r,s,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const jb="@firebase/storage",qb="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="storage";function OU(n=Ay(),e){n=dn(n);const r=Wd(n,ZR).getImmediate({identifier:e}),s=OA("storage");return s&&xU(r,...s),r}function xU(n,e,t,r={}){IU(n,e,t,r)}function MU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new DU(t,r,s,e,vo)}function NU(){uo(new na(ZR,MU,"PUBLIC").setMultipleInstances(!0)),Wr(jb,qb,""),Wr(jb,qb,"esm2017")}NU();const PU={apiKey:"AIzaSyAXWb60nzD2cDq2lDddymIVURZSwm4dja8",authDomain:"real-time-chat-ffe00.firebaseapp.com",projectId:"real-time-chat-ffe00",storageBucket:"real-time-chat-ffe00.firebasestorage.app",messagingSenderId:"452089355507",appId:void 0,measurementId:"5VNMK1QXZC"},bv=VA(PU),Sv=YP(bv),ti=FL(bv);OU(bv);function Wt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var kU=typeof Symbol=="function"&&Symbol.observable||"@@observable",Fb=kU,t_=()=>Math.random().toString(36).substring(7).split("").join("."),VU={INIT:`@@redux/INIT${t_()}`,REPLACE:`@@redux/REPLACE${t_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${t_()}`},Vd=VU;function Av(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function JR(n,e,t){if(typeof n!="function")throw new Error(Wt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Wt(1));return t(JR)(n,e)}let r=n,s=e,l=new Map,u=l,h=0,d=!1;function p(){u===l&&(u=new Map,l.forEach((D,k)=>{u.set(k,D)}))}function _(){if(d)throw new Error(Wt(3));return s}function v(D){if(typeof D!="function")throw new Error(Wt(4));if(d)throw new Error(Wt(5));let k=!0;p();const L=h++;return u.set(L,D),function(){if(k){if(d)throw new Error(Wt(6));k=!1,p(),u.delete(L),l=null}}}function w(D){if(!Av(D))throw new Error(Wt(7));if(typeof D.type>"u")throw new Error(Wt(8));if(typeof D.type!="string")throw new Error(Wt(17));if(d)throw new Error(Wt(9));try{d=!0,s=r(s,D)}finally{d=!1}return(l=u).forEach(L=>{L()}),D}function b(D){if(typeof D!="function")throw new Error(Wt(10));r=D,w({type:Vd.REPLACE})}function R(){const D=v;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Wt(11));function L(){const H=k;H.next&&H.next(_())}return L(),{unsubscribe:D(L)}},[Fb](){return this}}}return w({type:Vd.INIT}),{dispatch:w,subscribe:v,getState:_,replaceReducer:b,[Fb]:R}}function LU(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Vd.INIT})>"u")throw new Error(Wt(12));if(typeof t(void 0,{type:Vd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function UU(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const u=e[l];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{LU(t)}catch(l){s=l}return function(u={},h){if(s)throw s;let d=!1;const p={};for(let _=0;_<r.length;_++){const v=r[_],w=t[v],b=u[v],R=w(b,h);if(typeof R>"u")throw h&&h.type,new Error(Wt(14));p[v]=R,d=d||R!==b}return d=d||r.length!==Object.keys(u).length,d?p:u}}function Ld(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function zU(...n){return e=>(t,r)=>{const s=e(t,r);let l=()=>{throw new Error(Wt(15))};const u={getState:s.getState,dispatch:(d,...p)=>l(d,...p)},h=n.map(d=>d(u));return l=Ld(...h)(s.dispatch),{...s,dispatch:l}}}function BU(n){return Av(n)&&"type"in n&&typeof n.type=="string"}var eC=Symbol.for("immer-nothing"),Hb=Symbol.for("immer-draftable"),Hn=Symbol.for("immer-state");function Tr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Gl=Object.getPrototypeOf;function mo(n){return!!n&&!!n[Hn]}function Ji(n){var e;return n?tC(n)||Array.isArray(n)||!!n[Hb]||!!((e=n.constructor)!=null&&e[Hb])||vm(n)||Tm(n):!1}var jU=Object.prototype.constructor.toString();function tC(n){if(!n||typeof n!="object")return!1;const e=Gl(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===jU}function Ud(n,e){ym(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function ym(n){const e=n[Hn];return e?e.type_:Array.isArray(n)?1:vm(n)?2:Tm(n)?3:0}function K_(n,e){return ym(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function nC(n,e,t){const r=ym(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function qU(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function vm(n){return n instanceof Map}function Tm(n){return n instanceof Set}function Xa(n){return n.copy_||n.base_}function $_(n,e){if(vm(n))return new Map(n);if(Tm(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=tC(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Hn];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const u=s[l],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[u]})}return Object.create(Gl(n),r)}else{const r=Gl(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function Rv(n,e=!1){return Em(n)||mo(n)||!Ji(n)||(ym(n)>1&&(n.set=n.add=n.clear=n.delete=FU),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>Rv(r,!0))),n}function FU(){Tr(2)}function Em(n){return Object.isFrozen(n)}var HU={};function po(n){const e=HU[n];return e||Tr(0,n),e}var $c;function rC(){return $c}function GU(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Gb(n,e){e&&(po("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function X_(n){W_(n),n.drafts_.forEach(YU),n.drafts_=null}function W_(n){n===$c&&($c=n.parent_)}function Yb(n){return $c=GU($c,n)}function YU(n){const e=n[Hn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Qb(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Hn].modified_&&(X_(e),Tr(4)),Ji(n)&&(n=zd(e,n),e.parent_||Bd(e,n)),e.patches_&&po("Patches").generateReplacementPatches_(t[Hn].base_,n,e.patches_,e.inversePatches_)):n=zd(e,t,[]),X_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==eC?n:void 0}function zd(n,e,t){if(Em(e))return e;const r=e[Hn];if(!r)return Ud(e,(s,l)=>Kb(n,r,e,s,l,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Bd(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,u=!1;r.type_===3&&(l=new Set(s),s.clear(),u=!0),Ud(l,(h,d)=>Kb(n,r,s,h,d,t,u)),Bd(n,s,!1),t&&n.patches_&&po("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function Kb(n,e,t,r,s,l,u){if(mo(s)){const h=l&&e&&e.type_!==3&&!K_(e.assigned_,r)?l.concat(r):void 0,d=zd(n,s,h);if(nC(t,r,d),mo(d))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(Ji(s)&&!Em(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;zd(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&Bd(n,s)}}function Bd(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Rv(e,t)}function QU(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:rC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=Cv;t&&(s=[r],l=Xc);const{revoke:u,proxy:h}=Proxy.revocable(s,l);return r.draft_=h,r.revoke_=u,h}var Cv={get(n,e){if(e===Hn)return n;const t=Xa(n);if(!K_(t,e))return KU(n,t,e);const r=t[e];return n.finalized_||!Ji(r)?r:r===n_(n.base_,e)?(r_(n),n.copy_[e]=J_(r,n)):r},has(n,e){return e in Xa(n)},ownKeys(n){return Reflect.ownKeys(Xa(n))},set(n,e,t){const r=iC(Xa(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=n_(Xa(n),e),l=s==null?void 0:s[Hn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(qU(t,s)&&(t!==void 0||K_(n.base_,e)))return!0;r_(n),Z_(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return n_(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,r_(n),Z_(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Xa(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Tr(11)},getPrototypeOf(n){return Gl(n.base_)},setPrototypeOf(){Tr(12)}},Xc={};Ud(Cv,(n,e)=>{Xc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xc.deleteProperty=function(n,e){return Xc.set.call(this,n,e,void 0)};Xc.set=function(n,e,t){return Cv.set.call(this,n[0],e,t,n[0])};function n_(n,e){const t=n[Hn];return(t?Xa(t):n)[e]}function KU(n,e,t){var s;const r=iC(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function iC(n,e){if(!(e in n))return;let t=Gl(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Gl(t)}}function Z_(n){n.modified_||(n.modified_=!0,n.parent_&&Z_(n.parent_))}function r_(n){n.copy_||(n.copy_=$_(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var $U=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const u=this;return function(d=l,...p){return u.produce(d,_=>t.call(this,_,...p))}}typeof t!="function"&&Tr(6),r!==void 0&&typeof r!="function"&&Tr(7);let s;if(Ji(e)){const l=Yb(this),u=J_(e,void 0);let h=!0;try{s=t(u),h=!1}finally{h?X_(l):W_(l)}return Gb(l,r),Qb(s,l)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===eC&&(s=void 0),this.autoFreeze_&&Rv(s,!0),r){const l=[],u=[];po("Patches").generateReplacementPatches_(e,s,l,u),r(l,u)}return s}else Tr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,d=>e(d,...h));let r,s;return[this.produce(e,t,(u,h)=>{r=u,s=h}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Ji(n)||Tr(8),mo(n)&&(n=XU(n));const e=Yb(this),t=J_(n,void 0);return t[Hn].isManual_=!0,W_(e),t}finishDraft(n,e){const t=n&&n[Hn];(!t||!t.isManual_)&&Tr(9);const{scope_:r}=t;return Gb(r,e),Qb(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=po("Patches").applyPatches_;return mo(n)?r(n,e):this.produce(n,s=>r(s,e))}};function J_(n,e){const t=vm(n)?po("MapSet").proxyMap_(n,e):Tm(n)?po("MapSet").proxySet_(n,e):QU(n,e);return(e?e.scope_:rC()).drafts_.push(t),t}function XU(n){return mo(n)||Tr(10,n),sC(n)}function sC(n){if(!Ji(n)||Em(n))return n;const e=n[Hn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=$_(n,e.scope_.immer_.useStrictShallowCopy_)}else t=$_(n,!0);return Ud(t,(r,s)=>{nC(t,r,sC(s))}),e&&(e.finalized_=!1),t}var Gn=new $U,aC=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function oC(n){return({dispatch:t,getState:r})=>s=>l=>typeof l=="function"?l(t,r,n):s(l)}var WU=oC(),ZU=oC,JU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ld:Ld.apply(null,arguments)},e4=n=>n&&typeof n.match=="function";function Rc(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(Yi(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>BU(r)&&r.type===n,t}var lC=class _c extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_c.prototype)}static get[Symbol.species](){return _c}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _c(...e[0].concat(this)):new _c(...e.concat(this))}};function $b(n){return Ji(n)?aC(n,()=>{}):n}function Xb(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function t4(n){return typeof n=="boolean"}var n4=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let u=new lC;return t&&(t4(t)?u.push(WU):u.push(ZU(t.extraArgument))),u},r4="RTK_autoBatch",Wb=n=>e=>{setTimeout(e,n)},i4=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,l=!1,u=!1;const h=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Wb(10):n.type==="callback"?n.queueNotification:Wb(n.timeout),p=()=>{u=!1,l&&(l=!1,h.forEach(_=>_()))};return Object.assign({},r,{subscribe(_){const v=()=>s&&_(),w=r.subscribe(v);return h.add(_),()=>{w(),h.delete(_)}},dispatch(_){var v;try{return s=!((v=_==null?void 0:_.meta)!=null&&v[r4]),l=!s,l&&(u||(u=!0,d(p))),r.dispatch(_)}finally{s=!0}}})},s4=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new lC(n);return r&&s.push(i4(typeof r=="object"?r:void 0)),s};function a4(n){const e=n4(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:u=void 0}=n||{};let h;if(typeof t=="function")h=t;else if(Av(t))h=UU(t);else throw new Error(Yi(1));let d;typeof r=="function"?d=r(e):d=e();let p=Ld;s&&(p=JU({trace:!1,...typeof s=="object"&&s}));const _=zU(...d),v=s4(_);let w=typeof u=="function"?u(v):v();const b=p(...w);return JR(h,l,b)}function uC(n){const e={},t=[];let r;const s={addCase(l,u){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(Yi(28));if(h in e)throw new Error(Yi(29));return e[h]=u,s},addMatcher(l,u){return t.push({matcher:l,reducer:u}),s},addDefaultCase(l){return r=l,s}};return n(s),[e,t,r]}function o4(n){return typeof n=="function"}function l4(n,e){let[t,r,s]=uC(e),l;if(o4(n))l=()=>$b(n());else{const h=$b(n);l=()=>h}function u(h=l(),d){let p=[t[d.type],...r.filter(({matcher:_})=>_(d)).map(({reducer:_})=>_)];return p.filter(_=>!!_).length===0&&(p=[s]),p.reduce((_,v)=>{if(v)if(mo(_)){const b=v(_,d);return b===void 0?_:b}else{if(Ji(_))return aC(_,w=>v(w,d));{const w=v(_,d);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},h)}return u.getInitialState=l,u}var u4=(n,e)=>e4(n)?n.match(e):n(e);function c4(...n){return e=>n.some(t=>u4(t,e))}var h4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",f4=(n=21)=>{let e="",t=n;for(;t--;)e+=h4[Math.random()*64|0];return e},d4=["name","message","stack","code"],i_=class{constructor(n,e){wg(this,"_type");this.payload=n,this.meta=e}},Zb=class{constructor(n,e){wg(this,"_type");this.payload=n,this.meta=e}},m4=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of d4)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},wm=(()=>{function n(e,t,r){const s=Rc(e+"/fulfilled",(d,p,_,v)=>({payload:d,meta:{...v||{},arg:_,requestId:p,requestStatus:"fulfilled"}})),l=Rc(e+"/pending",(d,p,_)=>({payload:void 0,meta:{..._||{},arg:p,requestId:d,requestStatus:"pending"}})),u=Rc(e+"/rejected",(d,p,_,v,w)=>({payload:v,error:(r&&r.serializeError||m4)(d||"Rejected"),meta:{...w||{},arg:_,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function h(d){return(p,_,v)=>{const w=r!=null&&r.idGenerator?r.idGenerator(d):f4(),b=new AbortController;let R,S;function D(L){S=L,b.abort()}const k=async function(){var H,q;let L;try{let X=(H=r==null?void 0:r.condition)==null?void 0:H.call(r,d,{getState:_,extra:v});if(g4(X)&&(X=await X),X===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((C,A)=>{R=()=>{A({name:"AbortError",message:S||"Aborted"})},b.signal.addEventListener("abort",R)});p(l(w,d,(q=r==null?void 0:r.getPendingMeta)==null?void 0:q.call(r,{requestId:w,arg:d},{getState:_,extra:v}))),L=await Promise.race([x,Promise.resolve(t(d,{dispatch:p,getState:_,extra:v,requestId:w,signal:b.signal,abort:D,rejectWithValue:(C,A)=>new i_(C,A),fulfillWithValue:(C,A)=>new Zb(C,A)})).then(C=>{if(C instanceof i_)throw C;return C instanceof Zb?s(C.payload,w,d,C.meta):s(C,w,d)})])}catch(X){L=X instanceof i_?u(null,w,d,X.payload,X.meta):u(X,w,d)}finally{R&&b.signal.removeEventListener("abort",R)}return r&&!r.dispatchConditionRejection&&u.match(L)&&L.meta.condition||p(L),L}();return Object.assign(k,{abort:D,requestId:w,arg:d,unwrap(){return k.then(p4)}})}}return Object.assign(h,{pending:l,rejected:u,fulfilled:s,settled:c4(u,s),typePrefix:e})}return n.withTypes=()=>n,n})();function p4(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function g4(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var _4=Symbol.for("rtk-slice-createasyncthunk");function y4(n,e){return`${n}/${e}`}function v4({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[_4];return function(s){const{name:l,reducerPath:u=l}=s;if(!l)throw new Error(Yi(11));const h=(typeof s.reducers=="function"?s.reducers(E4()):s.reducers)||{},d=Object.keys(h),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(V,H){const q=typeof V=="string"?V:V.type;if(!q)throw new Error(Yi(12));if(q in p.sliceCaseReducersByType)throw new Error(Yi(13));return p.sliceCaseReducersByType[q]=H,_},addMatcher(V,H){return p.sliceMatchers.push({matcher:V,reducer:H}),_},exposeAction(V,H){return p.actionCreators[V]=H,_},exposeCaseReducer(V,H){return p.sliceCaseReducersByName[V]=H,_}};d.forEach(V=>{const H=h[V],q={reducerName:V,type:y4(l,V),createNotation:typeof s.reducers=="function"};b4(H)?A4(q,H,_,e):w4(q,H,_)});function v(){const[V={},H=[],q=void 0]=typeof s.extraReducers=="function"?uC(s.extraReducers):[s.extraReducers],X={...V,...p.sliceCaseReducersByType};return l4(s.initialState,x=>{for(let C in X)x.addCase(C,X[C]);for(let C of p.sliceMatchers)x.addMatcher(C.matcher,C.reducer);for(let C of H)x.addMatcher(C.matcher,C.reducer);q&&x.addDefaultCase(q)})}const w=V=>V,b=new Map;let R;function S(V,H){return R||(R=v()),R(V,H)}function D(){return R||(R=v()),R.getInitialState()}function k(V,H=!1){function q(x){let C=x[V];return typeof C>"u"&&H&&(C=D()),C}function X(x=w){const C=Xb(b,H,()=>new WeakMap);return Xb(C,x,()=>{const A={};for(const[M,U]of Object.entries(s.selectors??{}))A[M]=T4(U,x,D,H);return A})}return{reducerPath:V,getSelectors:X,get selectors(){return X(q)},selectSlice:q}}const L={name:l,reducer:S,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:D,...k(u),injectInto(V,{reducerPath:H,...q}={}){const X=H??u;return V.inject({reducerPath:X,reducer:S},q),{...L,...k(X,!0)}}};return L}}function T4(n,e,t,r){function s(l,...u){let h=e(l);return typeof h>"u"&&r&&(h=t()),n(h,...u)}return s.unwrapped=n,s}var cC=v4();function E4(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function w4({type:n,reducerName:e,createNotation:t},r,s){let l,u;if("reducer"in r){if(t&&!S4(r))throw new Error(Yi(17));l=r.reducer,u=r.prepare}else l=r;s.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,u?Rc(n,u):Rc(n))}function b4(n){return n._reducerDefinitionType==="asyncThunk"}function S4(n){return n._reducerDefinitionType==="reducerWithPrepare"}function A4({type:n,reducerName:e},t,r,s){if(!s)throw new Error(Yi(18));const{payloadCreator:l,fulfilled:u,pending:h,rejected:d,settled:p,options:_}=t,v=s(n,l,_);r.exposeAction(e,v),u&&r.addCase(v.fulfilled,u),h&&r.addCase(v.pending,h),d&&r.addCase(v.rejected,d),p&&r.addMatcher(v.settled,p),r.exposeCaseReducer(e,{fulfilled:u||Hf,pending:h||Hf,rejected:d||Hf,settled:p||Hf})}function Hf(){}function Yi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const R4={user:null,loading:!1,users:[]},Cc=wm("user/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=ua(ti,"users");return(await Kc(t)).docs.map(l=>{const u=l.data();return{userId:l.id,userName:u.userName,userEmail:u.userEmail,userProfilePicture:u.userProfilePicture||"default-profile.png"}})}catch(t){return console.log("Error fetching users: ",t),e("Failed to load users")}}),hC=cC({name:"user",initialState:R4,reducers:{setUser:(n,e)=>(n.user=e.payload,n),clearUser:n=>{n.user=null}},extraReducers:n=>{n.addCase(Cc.pending,e=>{e.loading=!0}).addCase(Cc.fulfilled,(e,t)=>{e.loading=!1,e.users=t.payload}).addCase(Cc.rejected,e=>{e.loading=!1})}}),{setUser:fC,clearUser:dC}=hC.actions,fh=n=>n.user.user,mC=n=>n.user.users;function C4(){const n=eh(),e=ha(),[t,r]=$.useState(!1),s=new Ui,l=async()=>{try{console.log(" Login button clicked - Signing in with Popup..."),r(!0);const u=await tP(Sv,s);u!=null&&u.user?(console.log(" User signed in:",u.user),e(fC({userId:u.user.uid,userName:u.user.displayName||"",userEmail:u.user.email||"",userProfilePicture:u.user.photoURL||""})),n("/main")):console.log(" No user found in signInWithPopup")}catch(u){console.error(" Google Sign-In Error:",u),r(!1)}};return ee.jsx("div",{className:"login-page",children:ee.jsx("button",{className:"login-btn",onClick:l,disabled:t,children:t?"Loading...":"Login"})})}function I4({isNavOpen:n,setIsNavOpen:e}){const t=fr(fh),r=ha(),s=eh(),l=(t==null?void 0:t.userName)||"Guest",u=(t==null?void 0:t.userProfilePicture)||"default-profile.png",h=async()=>{try{await kN(Sv),r(dC()),s("/")}catch(d){console.log("Logout Error",d)}};return ee.jsxs(ee.Fragment,{children:[ee.jsx("button",{className:`nav-toggle ${n?"hidden":""}`,onClick:()=>e(!0),children:""}),ee.jsxs("nav",{className:`side-nav ${n?"open":"closed"}`,children:[n&&ee.jsx("button",{className:"nav-toggle-close",onClick:()=>e(!1),children:""}),ee.jsxs("ul",{children:[ee.jsxs("li",{children:[ee.jsx("img",{src:u,alt:""}),ee.jsx("h2",{children:l})]}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/direct-messages",onClick:()=>e(!1),children:"Direct Messages"})}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/group-messages",onClick:()=>e(!1),children:"Group Messages"})}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/ai-chat",onClick:()=>e(!1),children:"AI Chat"})}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/users",onClick:()=>e(!1),children:"Users"})}),ee.jsx("li",{children:ee.jsx("button",{onClick:h,children:"Logout"})})]})]})]})}function D4(){const[n,e]=$.useState(!1),[t,r]=$.useState(window.innerWidth<=600);return $.useEffect(()=>{const s=()=>{r(window.innerWidth<=600),window.innerWidth>600&&e(!1)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),ee.jsxs("div",{className:`main-container ${n?"nav-open":""}`,children:[t&&!n&&ee.jsx("button",{className:"nav-toggle",onClick:()=>e(!0),children:""}),ee.jsx(I4,{isNavOpen:n,setIsNavOpen:e}),ee.jsx("main",{className:"main-content",children:ee.jsx(yO,{})})]})}function O4({children:n}){const e=ha();return $.useEffect(()=>{console.log(" Global AuthProvider - Checking authentication state...");const t=PN(Sv,r=>{console.log(" Global `onAuthStateChanged` TRIGGERED - User:",r),r?(console.log(" Global `onAuthStateChanged` - User detected:",r),e(fC({userId:r.uid,userName:r.displayName||"",userEmail:r.email||"",userProfilePicture:r.photoURL||""}))):(console.log(" Global `onAuthStateChanged` - No user found - Calling clearUser()"),e(dC()))});return()=>t()},[e]),ee.jsx(ee.Fragment,{children:n})}function x4(){return ee.jsx("div",{children:ee.jsx("h1",{children:"AIChatContentView"})})}const M4={messages:[],loading:!1,dmPreviews:[]},ad=wm("messages/fetchDMPreviews",async(n,{getState:e,rejectWithValue:t})=>{try{const r=e().user.user;if(!r)return t("User not logged in");const s=r.userId;console.log("currentuser: ",r);const l=ua(ti,"chats"),u=Qc(l,oo("isGroupChat","==",!1),oo("members","array-contains",s)),h=await Kc(u);console.log("fetched chats the user is part of: ",h);const d=h.docs.map(R=>R.id);if(d.length===0)return[];const p=ua(ti,"messages"),_=Qc(p,oo("chatID","in",d),Ev("timestamp","desc")),v=await Kc(_);console.log("fetched messages the user is part of: ",v);const w={},b={};return await Promise.all(v.docs.map(async R=>{const S=R.data(),D=S.chatID;if(!w[D]){if(!b[S.senderID]){const k=cv(ti,"users",S.senderID),L=await YR(k);b[S.senderID]=L.exists()?{name:L.data().userName,photoURL:L.data().userProfilePicture||"default-profile.png"}:{name:"Unknown User",photoURL:"default-profile.png"}}w[D]={messageID:R.id,chatID:S.chatID,content:S.content,mediaContent:S.mediaContent||"",senderID:S.senderID,senderName:b[S.senderID].name,photoURL:b[S.senderID].photoURL,timestamp:S.timestamp.toDate().toISOString()}}})),Object.values(w)}catch(r){return console.log("Error fetching DM previews: ",r),t("Failed to load DM previews")}}),Ic=wm("messages/fetchMessages",async(n,{rejectWithValue:e})=>{try{const t=ua(ti,"messages"),r=Qc(t,oo("chatID","==",n),Ev("timestamp","asc")),s=await Kc(r);return await Promise.all(s.docs.map(async u=>{const h=u.data(),d=cv(ti,"users",h.senderID),p=await YR(d),_=p.exists()?p.data().userName:"Unknown User";return{messageID:u.id,chatID:h.chatID,content:h.content,mediaContent:h.mediaContent,senderID:h.senderID,senderName:_,timestamp:h.timestamp.toDate().toISOString(),photoURL:h.photoURL||""}}))}catch(t){return console.log("Error fetching messages: ",t),e("Failed to load messages")}}),pC=wm("messages/createMessage",async(n,{rejectWithValue:e})=>{try{const t=ua(ti,"messages"),r=await QR(t,{...n,timestamp:$R()});return{...n,messageID:r.id,timestamp:new Date().toISOString()}}catch(t){return console.error("Error sending message:",t),e("Failed to send message")}}),gC=cC({name:"messages",initialState:M4,reducers:{addMessage:(n,e)=>{n.messages.push(e.payload)},setMessages:(n,e)=>{const t=e.payload;if(t.length===0)return;const r=t[0].chatID;n.messages=[...n.messages.filter(s=>s.chatID!==r),...t.filter(s=>!n.messages.some(l=>l.messageID===s.messageID))]}},extraReducers:n=>{n.addCase(Ic.pending,e=>{e.loading=!0}).addCase(Ic.fulfilled,(e,t)=>{e.loading=!1,e.messages=t.payload}).addCase(Ic.rejected,e=>{e.loading=!1}).addCase(ad.pending,e=>{e.loading=!0}).addCase(ad.fulfilled,(e,t)=>{e.loading=!1,e.dmPreviews=t.payload}).addCase(ad.rejected,e=>{e.loading=!1})}}),{addMessage:N4,setMessages:P4}=gC.actions,_C=n=>n.messages.messages,k4=n=>n.messages.dmPreviews,yC=n=>n.messages.loading,vC=6048e5,V4=864e5,Jb=Symbol.for("constructDateFrom");function ca(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Jb in n?n[Jb](e):n instanceof Date?new n.constructor(e):new Date(e)}function Cr(n,e){return ca(e||n,n)}let L4={};function bm(){return L4}function Wc(n,e){var h,d,p,_;const t=bm(),r=(e==null?void 0:e.weekStartsOn)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((_=(p=t.locale)==null?void 0:p.options)==null?void 0:_.weekStartsOn)??0,s=Cr(n,e==null?void 0:e.in),l=s.getDay(),u=(l<r?7:0)+l-r;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function jd(n,e){return Wc(n,{...e,weekStartsOn:1})}function TC(n,e){const t=Cr(n,e==null?void 0:e.in),r=t.getFullYear(),s=ca(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=jd(s),u=ca(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=jd(u);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function eS(n){const e=Cr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function U4(n,...e){const t=ca.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function tS(n,e){const t=Cr(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function z4(n,e,t){const[r,s]=U4(t==null?void 0:t.in,n,e),l=tS(r),u=tS(s),h=+l-eS(l),d=+u-eS(u);return Math.round((h-d)/V4)}function B4(n,e){const t=TC(n,e),r=ca(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jd(r)}function j4(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function q4(n){return!(!j4(n)&&typeof n!="number"||isNaN(+Cr(n)))}function F4(n,e){const t=Cr(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const H4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G4=(n,e,t)=>{let r;const s=H4[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function s_(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Y4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},K4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$4={date:s_({formats:Y4,defaultWidth:"full"}),time:s_({formats:Q4,defaultWidth:"full"}),dateTime:s_({formats:K4,defaultWidth:"full"})},X4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W4=(n,e,t,r)=>X4[n];function uc(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):u;s=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[h]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(e):e;return s[l]}}const Z4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},J4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},r9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i9=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},s9={ordinalNumber:i9,era:uc({values:Z4,defaultWidth:"wide"}),quarter:uc({values:J4,defaultWidth:"wide",argumentCallback:n=>n-1}),month:uc({values:e9,defaultWidth:"wide"}),day:uc({values:t9,defaultWidth:"wide"}),dayPeriod:uc({values:n9,defaultWidth:"wide",formattingValues:r9,defaultFormattingWidth:"wide"})};function cc(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(s);if(!l)return null;const u=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(h)?o9(h,v=>v.test(u)):a9(h,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const _=e.slice(u.length);return{value:p,rest:_}}}function a9(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function o9(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function l9(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],l=e.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(s.length);return{value:u,rest:h}}}const u9=/^(\d+)(th|st|nd|rd)?/i,c9=/\d+/i,h9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f9={any:[/^b/i,/^(a|c)/i]},d9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m9={any:[/1/i,/2/i,/3/i,/4/i]},p9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},T9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E9={ordinalNumber:l9({matchPattern:u9,parsePattern:c9,valueCallback:n=>parseInt(n,10)}),era:cc({matchPatterns:h9,defaultMatchWidth:"wide",parsePatterns:f9,defaultParseWidth:"any"}),quarter:cc({matchPatterns:d9,defaultMatchWidth:"wide",parsePatterns:m9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:cc({matchPatterns:p9,defaultMatchWidth:"wide",parsePatterns:g9,defaultParseWidth:"any"}),day:cc({matchPatterns:_9,defaultMatchWidth:"wide",parsePatterns:y9,defaultParseWidth:"any"}),dayPeriod:cc({matchPatterns:v9,defaultMatchWidth:"any",parsePatterns:T9,defaultParseWidth:"any"})},w9={code:"en-US",formatDistance:G4,formatLong:$4,formatRelative:W4,localize:s9,match:E9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function b9(n,e){const t=Cr(n,e==null?void 0:e.in);return z4(t,F4(t))+1}function S9(n,e){const t=Cr(n,e==null?void 0:e.in),r=+jd(t)-+B4(t);return Math.round(r/vC)+1}function EC(n,e){var _,v,w,b;const t=Cr(n,e==null?void 0:e.in),r=t.getFullYear(),s=bm(),l=(e==null?void 0:e.firstWeekContainsDate)??((v=(_=e==null?void 0:e.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(w=s.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,u=ca((e==null?void 0:e.in)||n,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const h=Wc(u,e),d=ca((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,l),d.setHours(0,0,0,0);const p=Wc(d,e);return+t>=+h?r+1:+t>=+p?r:r-1}function A9(n,e){var h,d,p,_;const t=bm(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((_=(p=t.locale)==null?void 0:p.options)==null?void 0:_.firstWeekContainsDate)??1,s=EC(n,e),l=ca((e==null?void 0:e.in)||n,0);return l.setFullYear(s,0,r),l.setHours(0,0,0,0),Wc(l,e)}function R9(n,e){const t=Cr(n,e==null?void 0:e.in),r=+Wc(t,e)-+A9(t,e);return Math.round(r/vC)+1}function Xe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Us={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Xe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Xe(t+1,2)},d(n,e){return Xe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Xe(n.getHours()%12||12,e.length)},H(n,e){return Xe(n.getHours(),e.length)},m(n,e){return Xe(n.getMinutes(),e.length)},s(n,e){return Xe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Xe(s,e.length)}},pl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Us.y(n,e)},Y:function(n,e,t,r){const s=EC(n,r),l=s>0?s:1-s;if(e==="YY"){const u=l%100;return Xe(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Xe(l,e.length)},R:function(n,e){const t=TC(n);return Xe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Xe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Us.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=R9(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Xe(s,e.length)},I:function(n,e,t){const r=S9(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Xe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Us.d(n,e)},D:function(n,e,t){const r=b9(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Xe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Xe(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Xe(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Xe(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=pl.noon:r===0?s=pl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=pl.evening:r>=12?s=pl.afternoon:r>=4?s=pl.morning:s=pl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Us.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Us.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Us.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Us.s(n,e)},S:function(n,e){return Us.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return iS(r);case"XXXX":case"XX":return Wa(r);case"XXXXX":case"XXX":default:return Wa(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return iS(r);case"xxxx":case"xx":return Wa(r);case"xxxxx":case"xxx":default:return Wa(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rS(r,":");case"OOOO":default:return"GMT"+Wa(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rS(r,":");case"zzzz":default:return"GMT"+Wa(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Xe(r,e.length)},T:function(n,e,t){return Xe(+n,e.length)}};function rS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),l=r%60;return l===0?t+String(s):t+String(s)+e+Xe(l,2)}function iS(n,e){return n%60===0?(n>0?"-":"+")+Xe(Math.abs(n)/60,2):Wa(n,e)}function Wa(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Xe(Math.trunc(r/60),2),l=Xe(r%60,2);return t+s+e+l}const sS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},C9=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return sS(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",sS(r,e)).replace("{{time}}",wC(s,e))},I9={p:wC,P:C9},D9=/^D+$/,O9=/^Y+$/,x9=["D","DD","YY","YYYY"];function M9(n){return D9.test(n)}function N9(n){return O9.test(n)}function P9(n,e,t){const r=k9(n,e,t);if(console.warn(r),x9.includes(n))throw new RangeError(r)}function k9(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const V9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U9=/^'([^]*?)'?$/,z9=/''/g,B9=/[a-zA-Z]/;function Iv(n,e,t){var _,v,w,b;const r=bm(),s=r.locale??w9,l=r.firstWeekContainsDate??((v=(_=r.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??1,u=r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,h=Cr(n,t==null?void 0:t.in);if(!q4(h))throw new RangeError("Invalid time value");let d=e.match(L9).map(R=>{const S=R[0];if(S==="p"||S==="P"){const D=I9[S];return D(R,s.formatLong)}return R}).join("").match(V9).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const S=R[0];if(S==="'")return{isToken:!1,value:j9(R)};if(nS[S])return{isToken:!0,value:R};if(S.match(B9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:R}});s.localize.preprocessor&&(d=s.localize.preprocessor(h,d));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:s};return d.map(R=>{if(!R.isToken)return R.value;const S=R.value;(N9(S)||M9(S))&&P9(S,e,String(n));const D=nS[S[0]];return D(h,S,s.localize,p)}).join("")}function j9(n){const e=n.match(U9);return e?e[1].replace(z9,"'"):n}function aS(){const n=ha(),e=fr(k4),t=eh();$.useEffect(()=>{n(ad())},[n]);const r=s=>{t(`/main/direct-messages/${s}`)};return ee.jsx("div",{className:"dm-container",children:e.length===0?ee.jsx("p",{children:"No direct messages yet."}):e.map(s=>ee.jsxs("div",{className:"dm-message-container",onClick:()=>r(s.chatID),children:[ee.jsx("div",{className:"user-img",children:ee.jsx("img",{src:s.photoURL,alt:s.senderName})}),ee.jsxs("div",{className:"user-info-container",children:[ee.jsx("h4",{className:"user-name",children:s.senderName}),s.mediaContent?ee.jsx("img",{src:s.mediaContent,alt:"Media Content",className:"chat-media-image"}):ee.jsx("p",{className:"user-message",children:s.content})]}),ee.jsx("div",{className:"timestamp",children:ee.jsx("p",{children:Iv(new Date(s.timestamp),"dd MMM yy HH:mm")})})]},s.messageID))})}let q9=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function F9(){const n=ha(),e=fr(yC),t=fr(_C),r=fr(fh),[s,l]=$.useState(""),u="MwFHtVv5wFjid2RVEMLp",h=q9(),d=t.filter(_=>_.chatID===u);$.useEffect(()=>{d.length===0&&(console.log(" Fetching past group messages..."),n(Ic(u)))},[n,d.length]);const p=async _=>{if(_.preventDefault(),!s.trim()||!r)return;const v=s.startsWith("http")&&/\.(jpg|jpeg|png|gif)$/i.test(s),w={messageID:h,chatID:u,content:s,senderID:r.userId,senderName:r.userName,photoURL:r.userProfilePicture||"default-profile.png",mediaContent:v?s:"",timestamp:new Date().toISOString()};n(N4(w));try{await n(pC(w)).unwrap()}catch(b){console.error("Failed to send message:",b)}l("")};return ee.jsxs("div",{className:"channel-chat-container",children:[ee.jsxs("main",{className:"channel-chat-main",children:[e&&ee.jsx("p",{children:"Loading messages..."}),ee.jsx("ul",{className:"channel-chat-conversation",children:d.map(_=>ee.jsxs("li",{className:"channel-chat-message-container",children:[ee.jsxs("div",{className:"channel-chat-message-container-header",children:[ee.jsx("h3",{className:"channel-chat-message-username",children:_.senderName}),ee.jsx("p",{children:Iv(new Date(_.timestamp),"dd MMM yy HH:mm")})]}),!_.mediaContent&&ee.jsx("p",{className:"channel-chat-message",children:_.content}),!_.content&&_.mediaContent.startsWith("http")&&ee.jsx("img",{src:_.mediaContent,alt:"Media Content",className:"chat-media-image"})]},_.messageID))})]}),ee.jsx("form",{className:"channel-chat-input-container",onSubmit:p,children:ee.jsxs("div",{className:"input-wrapper",children:[ee.jsx("input",{className:"channel-chat-input",type:"text",placeholder:"Type your message here...",value:s,onChange:_=>l(_.target.value)}),ee.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})})]})}var bC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oS=to.createContext&&to.createContext(bC),H9=["attr","size","title"];function G9(n,e){if(n==null)return{};var t=Y9(n,e),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)r=l[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Y9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function qd(){return qd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qd.apply(this,arguments)}function lS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Fd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(t),!0).forEach(function(r){Q9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Q9(n,e,t){return e=K9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K9(n){var e=$9(n,"string");return typeof e=="symbol"?e:e+""}function $9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SC(n){return n&&n.map((e,t)=>to.createElement(e.tag,Fd({key:t},e.attr),SC(e.child)))}function X9(n){return e=>to.createElement(W9,qd({attr:Fd({},n.attr)},e),SC(n.child))}function W9(n){var e=t=>{var{attr:r,size:s,title:l}=n,u=G9(n,H9),h=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),to.createElement("svg",qd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Fd(Fd({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&to.createElement("title",null,l),n.children)};return oS!==void 0?to.createElement(oS.Consumer,null,t=>e(t)):e(bC)}function Z9(n){return X9({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]},{tag:"path",attr:{d:"m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"},child:[]}]})(n)}function J9(){const n=ha(),e=fr(mC),t=fr(fh),r=eh();$.useEffect(()=>{e.length===0&&n(Cc())},[n,e.length]);const s=async l=>{if(!t)return;const u=ua(ti,"chats"),h=Qc(u,oo("isGroupChat","==",!1),oo("members","array-contains",t==null?void 0:t.userId)),d=await Kc(h);let p=null;if(d.forEach(_=>{_.data().members.includes(l)&&(p=_.id)}),p)console.log(" Found existing chat, navigating to chat:",p),r(`/main/direct-messages/${p}`);else{console.log(" No existing chat, creating a new chat...");const _=await QR(ua(ti,"chats"),{isGroupChat:!1,members:[t==null?void 0:t.userId,l],createdAt:$R()});console.log(" New chat created:",_.id),r(`/main/direct-messages/${_.id}`)}};return ee.jsx("ul",{className:"user-list-container",children:e.length===0?ee.jsx("p",{children:"No users entered the app yet"}):e.map(l=>ee.jsxs("li",{className:"user-card",children:[ee.jsx("div",{className:"user-card-img",children:ee.jsx("img",{src:l.userProfilePicture,alt:"user-profile-picture"})}),ee.jsx("h3",{className:"user-card-name",children:l.userName}),ee.jsx("button",{onClick:()=>s(l.userId),children:ee.jsx(Z9,{})})]},l.userId))})}function ez(){const{userId:n}=iO(),e=ha(),t=fr(_C),r=fr(yC),s=fr(fh),l=fr(mC),[u,h]=$.useState(""),[d,p]=$.useState(null),[_,v]=$.useState(!1);$.useEffect(()=>{l.length||e(Cc())},[e,l.length]),$.useEffect(()=>{n&&(_||(e(Ic(n)),v(!0)))},[e,n,_]),$.useEffect(()=>{var D;if(!n||!s)return;const R=t.filter(k=>k.chatID===n);if(R.length>0){const k=(D=R.find(L=>L.senderID!==s.userId))==null?void 0:D.senderID;if(k){const L=l.find(V=>V.userId.trim()===k.trim());if(L){p({name:L.userName,photoURL:L.userProfilePicture||"default-profile.png"});return}}}const S=l.find(k=>k.userId===n);S&&p({name:S.userName,photoURL:S.userProfilePicture||"default-profile.png"})},[n,s,t,l]),console.log("otherUser is: ",d);const w=async()=>{if(!u.trim()||!n||!s)return;const R=u.startsWith("http")&&/\.(jpg|jpeg|png|gif)$/i.test(u),S={chatID:n,content:u,senderID:s.userId,senderName:s.userName,photoURL:s.userProfilePicture||"default-profile.png",mediaContent:R?u:"",timestamp:new Date().toISOString()};try{await e(pC(S)).unwrap()}catch(D){console.error("Failed to send message:",D)}h("")},b=t.filter(R=>R.chatID===n);return ee.jsxs("div",{className:"dm-chat-container",children:[ee.jsx("header",{className:"dm-chat-header",children:ee.jsxs("div",{className:"header-user-info",children:[ee.jsx("img",{src:(d==null?void 0:d.photoURL)||"default-profile.png",alt:(d==null?void 0:d.name)||"User",className:"user-info-img"}),ee.jsxs("h2",{children:["Chat with ",(d==null?void 0:d.name)||"User"]})]})}),ee.jsxs("main",{className:"dm-chat-main",children:[r&&ee.jsx("p",{children:"Loading messages..."}),ee.jsx("ul",{className:"dm-chat-conversation",children:t.length===0?ee.jsx("p",{children:"No messages yet. Start the conversation!"}):b.map(R=>ee.jsxs("li",{className:`dm-chat-message-container ${R.senderID===(s==null?void 0:s.userId)?"self":""}`,children:[ee.jsxs("div",{className:"dm-chat-message-container-header",children:[ee.jsx("h3",{className:"dm-chat-message-username",children:R.senderID===(s==null?void 0:s.userId)?"You":R.senderName}),ee.jsx("p",{className:"dm-chat-timestamp",children:Iv(new Date(R.timestamp),"dd MMM yy HH:mm")})]}),!R.mediaContent&&ee.jsx("p",{className:"dm-chat-message",children:R.content}),R.mediaContent&&R.mediaContent.startsWith("http")&&ee.jsx("img",{src:R.mediaContent,alt:"Media Content",className:"chat-media-image"})]},R.messageID))})]}),ee.jsx("form",{className:"dm-chat-input-container",onSubmit:R=>R.preventDefault(),children:ee.jsxs("div",{className:"input-wrapper",children:[ee.jsx("input",{type:"text",className:"dm-chat-input",placeholder:"Type your message...",value:u,onChange:R=>h(R.target.value)}),ee.jsx("button",{className:"send-button",onClick:w,children:"Send"})]})})]})}function tz({children:n}){const e=ha(),t=fr(fh);return $.useEffect(()=>{if(!t)return;console.log(" Listening for real-time messages...");const r=ua(ti,"messages"),s=Qc(r,oo("chatID","!=",""),Ev("timestamp","asc")),l=rU(s,u=>{console.log(" New messages detected",u.docs.length);const h=u.docs.map(d=>{var p;return{messageID:d.id,chatID:d.data().chatID,content:d.data().content,mediaContent:d.data().mediaContent||"",senderID:d.data().senderID,senderName:d.data().senderName,photoURL:d.data().photoURL||"",timestamp:((p=d.data().timestamp)==null?void 0:p.toDate().toISOString())||new Date().toISOString()}});console.log(" New messages from Firestore:",h),e(P4(h)),console.log(" Messages is updated:",h)});return()=>{console.log(" Unsubscribing from message listener"),l()}},[e,t]),ee.jsx(ee.Fragment,{children:n})}function nz(){return ee.jsx(HO,{children:ee.jsx("div",{className:"App",children:ee.jsx(O4,{children:ee.jsx(tz,{children:ee.jsxs(TO,{children:[ee.jsx(Hr,{path:"/",element:ee.jsx(d2,{})}),ee.jsx(Hr,{path:"login",element:ee.jsx(C4,{})}),ee.jsxs(Hr,{path:"main",element:ee.jsx(D4,{}),children:[ee.jsx(Hr,{index:!0,element:ee.jsx(aS,{})}),ee.jsx(Hr,{path:"direct-messages",element:ee.jsx(aS,{})}),ee.jsx(Hr,{path:"group-messages",element:ee.jsx(F9,{})}),ee.jsx(Hr,{path:"ai-chat",element:ee.jsx(x4,{})}),ee.jsx(Hr,{path:"users",element:ee.jsx(J9,{})}),ee.jsx(Hr,{path:"direct-messages/:userId",element:ee.jsx(ez,{})})]})]})})})})})}const rz=a4({reducer:{user:hC.reducer,messages:gC.reducer}});oD.createRoot(document.getElementById("root")).render(ee.jsx(wD,{store:rz,children:ee.jsx(nz,{})}));

var rD=Object.defineProperty;var iD=(n,e,t)=>e in n?rD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Dg=(n,e,t)=>iD(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function sD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Og={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function aD(){if(zT)return lc;zT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return lc.Fragment=e,lc.jsx=t,lc.jsxs=t,lc}var jT;function oD(){return jT||(jT=1,Og.exports=aD()),Og.exports}var J=oD(),xg={exports:{}},uc={},Mg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function lD(){return BT||(BT=1,function(n){function e(ae,he){var de=ae.length;ae.push(he);e:for(;0<de;){var ke=de-1>>>1,z=ae[ke];if(0<s(z,he))ae[ke]=he,ae[de]=z,de=ke;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var he=ae[0],de=ae.pop();if(de!==he){ae[0]=de;e:for(var ke=0,z=ae.length,se=z>>>1;ke<se;){var me=2*(ke+1)-1,ue=ae[me],le=me+1,Ee=ae[le];if(0>s(ue,de))le<z&&0>s(Ee,ue)?(ae[ke]=Ee,ae[le]=de,ke=le):(ae[ke]=ue,ae[me]=de,ke=me);else if(le<z&&0>s(Ee,de))ae[ke]=Ee,ae[le]=de,ke=le;else break e}}return he}function s(ae,he){var de=ae.sortIndex-he.sortIndex;return de!==0?de:ae.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],_=1,v=null,w=3,b=!1,R=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function V(ae){for(var he=t(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=ae)r(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(p)}}function H(ae){if(S=!1,V(ae),!R)if(t(d)!==null)R=!0,xe();else{var he=t(p);he!==null&&Ie(H,he.startTime-ae)}}var F=!1,X=-1,x=5,C=-1;function A(){return!(n.unstable_now()-C<x)}function M(){if(F){var ae=n.unstable_now();C=ae;var he=!0;try{e:{R=!1,S&&(S=!1,k(X),X=-1),b=!0;var de=w;try{t:{for(V(ae),v=t(d);v!==null&&!(v.expirationTime>ae&&A());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,w=v.priorityLevel;var z=ke(v.expirationTime<=ae);if(ae=n.unstable_now(),typeof z=="function"){v.callback=z,V(ae),he=!0;break t}v===t(d)&&r(d),V(ae)}else r(d);v=t(d)}if(v!==null)he=!0;else{var se=t(p);se!==null&&Ie(H,se.startTime-ae),he=!1}}break e}finally{v=null,w=de,b=!1}he=void 0}}finally{he?U():F=!1}}}var U;if(typeof L=="function")U=function(){L(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=M,U=function(){N.postMessage(null)}}else U=function(){D(M,0)};function xe(){F||(F=!0,U())}function Ie(ae,he){X=D(function(){ae(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){R||b||(R=!0,xe())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var de=w;w=he;try{return ae()}finally{w=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,he){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=w;w=ae;try{return he()}finally{w=de}},n.unstable_scheduleCallback=function(ae,he,de){var ke=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,ae){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=de+z,ae={id:_++,callback:he,priorityLevel:ae,startTime:de,expirationTime:z,sortIndex:-1},de>ke?(ae.sortIndex=de,e(p,ae),t(d)===null&&ae===t(p)&&(S?(k(X),X=-1):S=!0,Ie(H,de-ke))):(ae.sortIndex=z,e(d,ae),R||b||(R=!0,xe())),ae},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(ae){var he=w;return function(){var de=w;w=he;try{return ae.apply(this,arguments)}finally{w=de}}}}(Ng)),Ng}var FT;function uD(){return FT||(FT=1,Mg.exports=lD()),Mg.exports}var Pg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function cD(){if(qT)return Ce;qT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,S={};function D(z,se,me){this.props=z,this.context=se,this.refs=S,this.updater=me||b}D.prototype.isReactComponent={},D.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=D.prototype;function L(z,se,me){this.props=z,this.context=se,this.refs=S,this.updater=me||b}var V=L.prototype=new k;V.constructor=L,R(V,D.prototype),V.isPureReactComponent=!0;var H=Array.isArray,F={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function x(z,se,me,ue,le,Ee){return me=Ee.ref,{$$typeof:n,type:z,key:se,ref:me!==void 0?me:null,props:Ee}}function C(z,se){return x(z.type,se,void 0,void 0,void 0,z.props)}function A(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return se[me]})}var U=/\/+/g;function j(z,se){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):se.toString(36)}function N(){}function xe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(N,N):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ie(z,se,me,ue,le){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(Ee){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case n:case e:Re=!0;break;case _:return Re=z._init,Ie(Re(z._payload),se,me,ue,le)}}if(Re)return le=le(z),Re=ue===""?"."+j(z,0):ue,H(le)?(me="",Re!=null&&(me=Re.replace(U,"$&/")+"/"),Ie(le,se,me,"",function(ft){return ft})):le!=null&&(A(le)&&(le=C(le,me+(le.key==null||z&&z.key===le.key?"":(""+le.key).replace(U,"$&/")+"/")+Re)),se.push(le)),1;Re=0;var wt=ue===""?".":ue+":";if(H(z))for(var qe=0;qe<z.length;qe++)ue=z[qe],Ee=wt+j(ue,qe),Re+=Ie(ue,se,me,Ee,le);else if(qe=w(z),typeof qe=="function")for(z=qe.call(z),qe=0;!(ue=z.next()).done;)ue=ue.value,Ee=wt+j(ue,qe++),Re+=Ie(ue,se,me,Ee,le);else if(Ee==="object"){if(typeof z.then=="function")return Ie(xe(z),se,me,ue,le);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(z,se,me){if(z==null)return z;var ue=[],le=0;return Ie(z,ue,"","",function(Ee){return se.call(me,Ee,le++)}),ue}function he(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var de=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ke(){}return Ce.Children={map:ae,forEach:function(z,se,me){ae(z,function(){se.apply(this,arguments)},me)},count:function(z){var se=0;return ae(z,function(){se++}),se},toArray:function(z){return ae(z,function(se){return se})||[]},only:function(z){if(!A(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ce.Component=D,Ce.Fragment=t,Ce.Profiler=s,Ce.PureComponent=L,Ce.StrictMode=r,Ce.Suspense=d,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(z){return function(){return z.apply(null,arguments)}},Ce.cloneElement=function(z,se,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=R({},z.props),le=z.key,Ee=void 0;if(se!=null)for(Re in se.ref!==void 0&&(Ee=void 0),se.key!==void 0&&(le=""+se.key),se)!X.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(ue[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)ue.children=me;else if(1<Re){for(var wt=Array(Re),qe=0;qe<Re;qe++)wt[qe]=arguments[qe+2];ue.children=wt}return x(z.type,le,void 0,void 0,Ee,ue)},Ce.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ce.createElement=function(z,se,me){var ue,le={},Ee=null;if(se!=null)for(ue in se.key!==void 0&&(Ee=""+se.key),se)X.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(le[ue]=se[ue]);var Re=arguments.length-2;if(Re===1)le.children=me;else if(1<Re){for(var wt=Array(Re),qe=0;qe<Re;qe++)wt[qe]=arguments[qe+2];le.children=wt}if(z&&z.defaultProps)for(ue in Re=z.defaultProps,Re)le[ue]===void 0&&(le[ue]=Re[ue]);return x(z,Ee,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(z){return{$$typeof:h,render:z}},Ce.isValidElement=A,Ce.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:he}},Ce.memo=function(z,se){return{$$typeof:p,type:z,compare:se===void 0?null:se}},Ce.startTransition=function(z){var se=F.T,me={};F.T=me;try{var ue=z(),le=F.S;le!==null&&le(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ke,de)}catch(Ee){de(Ee)}finally{F.T=se}},Ce.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ce.use=function(z){return F.H.use(z)},Ce.useActionState=function(z,se,me){return F.H.useActionState(z,se,me)},Ce.useCallback=function(z,se){return F.H.useCallback(z,se)},Ce.useContext=function(z){return F.H.useContext(z)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(z,se){return F.H.useDeferredValue(z,se)},Ce.useEffect=function(z,se){return F.H.useEffect(z,se)},Ce.useId=function(){return F.H.useId()},Ce.useImperativeHandle=function(z,se,me){return F.H.useImperativeHandle(z,se,me)},Ce.useInsertionEffect=function(z,se){return F.H.useInsertionEffect(z,se)},Ce.useLayoutEffect=function(z,se){return F.H.useLayoutEffect(z,se)},Ce.useMemo=function(z,se){return F.H.useMemo(z,se)},Ce.useOptimistic=function(z,se){return F.H.useOptimistic(z,se)},Ce.useReducer=function(z,se,me){return F.H.useReducer(z,se,me)},Ce.useRef=function(z){return F.H.useRef(z)},Ce.useState=function(z){return F.H.useState(z)},Ce.useSyncExternalStore=function(z,se,me){return F.H.useSyncExternalStore(z,se,me)},Ce.useTransition=function(){return F.H.useTransition()},Ce.version="19.0.0",Ce}var HT;function $d(){return HT||(HT=1,Pg.exports=cD()),Pg.exports}var kg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function hD(){if(GT)return sn;GT=1;var n=$d();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,p,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:p,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(d,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,_)},sn.flushSync=function(d){var p=u.T,_=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=_,r.d.f()}},sn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},sn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:b}):_==="script"&&r.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},sn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin);r.d.L(d,_,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(d,p){if(typeof d=="string")if(p){var _=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},sn.requestFormReset=function(d){r.d.r(d)},sn.unstable_batchedUpdates=function(d,p){return d(p)},sn.useFormState=function(d,p,_){return u.H.useFormState(d,p,_)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.0.0",sn}var YT;function fD(){if(YT)return kg.exports;YT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kg.exports=hD(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function dD(){if(QT)return uc;QT=1;var n=uD(),e=$d(),t=fD();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case h:return"Portal";case _:return"Profiler";case p:return"StrictMode";case S:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case R:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return a=i.displayName||null,a!==null?a:C(i.type)||"Memo";case L:a=i._payload,i=i._init;try{return C(i(a))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,U,j;function N(i){if(U===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||"",j=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+i+j}var xe=!1;function Ie(i,a){if(!i||xe)return"";xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var K=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){K=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){K=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],I=g[1];if(T&&I){var P=T.split(`
`),q=I.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===q.length)for(c=P.length-1,m=q.length-1;1<=c&&0<=m&&P[c]!==q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==q[m]){var ee=`
`+P[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=m);break}}}finally{xe=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?N(l):""}function ae(i){switch(i.tag){case 26:case 27:case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return i=Ie(i.type,!1),i;case 11:return i=Ie(i.type.render,!1),i;case 1:return i=Ie(i.type,!0),i;default:return""}}function he(i){try{var a="";do a+=ae(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function de(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function ke(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function z(i){if(de(i)!==i)throw Error(r(188))}function se(i){var a=i.alternate;if(!a){if(a=de(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return z(m),i;if(g===c)return z(m),a;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=g;else{for(var T=!1,I=m.child;I;){if(I===l){T=!0,l=m,c=g;break}if(I===c){T=!0,c=m,l=g;break}I=I.sibling}if(!T){for(I=g.child;I;){if(I===l){T=!0,l=g,c=m;break}if(I===c){T=!0,c=g,l=m;break}I=I.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function me(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=me(i),a!==null)return a;i=i.sibling}return null}var ue=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Re=[],wt=-1;function qe(i){return{current:i}}function ft(i){0>wt||(i.current=Re[wt],Re[wt]=null,wt--)}function $e(i,a){wt++,Re[wt]=i.current,i.current=a}var mn=qe(null),mi=qe(null),$n=qe(null),ss=qe(null);function as(i,a){switch($e($n,a),$e(mi,i),$e(mn,null),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?mT(a):0;break;default:if(i=i===8?a.parentNode:a,a=i.tagName,i=i.namespaceURI)i=mT(i),a=pT(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ft(mn),$e(mn,a)}function pi(){ft(mn),ft(mi),ft($n)}function ru(i){i.memoizedState!==null&&$e(ss,i);var a=mn.current,l=pT(a,i.type);a!==l&&($e(mi,i),$e(mn,l))}function Io(i){mi.current===i&&(ft(mn),ft(mi)),ss.current===i&&(ft(ss),rc._currentValue=Ee)}var Do=Object.prototype.hasOwnProperty,va=n.unstable_scheduleCallback,Oo=n.unstable_cancelCallback,xm=n.unstable_shouldYield,iu=n.unstable_requestPaint,An=n.unstable_now,gh=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,Ut=n.unstable_UserBlockingPriority,gi=n.unstable_NormalPriority,_h=n.unstable_LowPriority,su=n.unstable_IdlePriority,Mm=n.log,Ea=n.unstable_setDisableYieldValue,os=null,nn=null;function au(i){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(os,i,void 0,(i.current.flags&128)===128)}catch{}}function Mr(i){if(typeof Mm=="function"&&Ea(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(os,i)}catch{}}var pn=Math.clz32?Math.clz32:vh,ou=Math.log,yh=Math.LN2;function vh(i){return i>>>=0,i===0?32:31-(ou(i)/yh|0)|0}var Nr=128,ls=4194304;function _r(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xn(i,a){var l=i.pendingLanes;if(l===0)return 0;var c=0,m=i.suspendedLanes,g=i.pingedLanes,T=i.warmLanes;i=i.finishedLanes!==0;var I=l&134217727;return I!==0?(l=I&~m,l!==0?c=_r(l):(g&=I,g!==0?c=_r(g):i||(T=I&~T,T!==0&&(c=_r(T))))):(I=l&~m,I!==0?c=_r(I):g!==0?c=_r(g):i||(T=l&~T,T!==0&&(c=_r(T)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,T=a&-a,m>=T||m===32&&(T&4194176)!==0)?a:c}function us(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function xo(i,a){switch(i){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var i=Nr;return Nr<<=1,!(Nr&4194176)&&(Nr=128),i}function cs(){var i=ls;return ls<<=1,!(ls&62914560)&&(ls=4194304),i}function Mo(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function yt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Eh(i,a,l,c,m,g){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,P=i.expirationTimes,q=i.hiddenUpdates;for(l=T&~l;0<l;){var ee=31-pn(l),ie=1<<ee;I[ee]=0,P[ee]=-1;var K=q[ee];if(K!==null)for(q[ee]=null,ee=0;ee<K.length;ee++){var Z=K[ee];Z!==null&&(Z.lane&=-536870913)}l&=~ie}c!==0&&hs(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~a))}function hs(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-pn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194218}function fs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-pn(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function Th(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function wh(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:NT(i.type))}function ds(i,a){var l=le.p;try{return le.p=i,a()}finally{le.p=l}}var Pr=Math.random().toString(36).slice(2),zt="__reactFiber$"+Pr,xt="__reactProps$"+Pr,_i="__reactContainer$"+Pr,Ta="__reactEvents$"+Pr,No="__reactListeners$"+Pr,kr="__reactHandles$"+Pr,uu="__reactResources$"+Pr,ms="__reactMarker$"+Pr;function wa(i){delete i[zt],delete i[xt],delete i[Ta],delete i[No],delete i[kr]}function yr(i){var a=i[zt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[_i]||l[zt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=yT(i);i!==null;){if(l=i[zt])return l;i=yT(i)}return a}i=l,l=i.parentNode}return null}function yi(i){if(i=i[zt]||i[_i]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ps(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function gs(i){var a=i[uu];return a||(a=i[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(i){i[ms]=!0}var cu=new Set,Po={};function Pn(i,a){Rn(i,a),Rn(i+"Capture",a)}function Rn(i,a){for(Po[i]=a,i=0;i<a.length;i++)cu.add(a[i])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},fu={};function bh(i){return Do.call(fu,i)?!0:Do.call(hu,i)?!1:Nm.test(i)?fu[i]=!0:(hu[i]=!0,!1)}function _s(i,a,l){if(bh(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ys(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Wn(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Sh(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pm(i){var a=Sh(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ba(i){i._valueTracker||(i._valueTracker=Pm(i))}function du(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=Sh(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function ko(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vi=/[\n"\\]/g;function dt(i){return i.replace(vi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function vs(i,a,l,c,m,g,T,I){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+gn(a)):i.value!==""+gn(a)&&(i.value=""+gn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?Vo(i,T,gn(a)):l!=null?Vo(i,T,gn(l)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+gn(I):i.removeAttribute("name")}function Sa(i,a,l,c,m,g,T,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+gn(l):"",a=a!=null?""+gn(a):l,I||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=I?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Vo(i,a,l){a==="number"&&ko(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function He(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Aa(i,a,l){if(a!=null&&(a=""+gn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+gn(l):""}function Es(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ue(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=gn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Zn(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var km=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||km.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Ah(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&mu(i,m,c)}else for(var g in a)a.hasOwnProperty(g)&&mu(i,g,a[g])}function pu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(i){return Lm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Jn=null;function Lo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ei=null,Ti=null;function wi(i){var a=yi(i);if(a&&(i=a.stateNode)){var l=i[xt]||null;e:switch(i=a.stateNode,a.type){case"input":if(vs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[xt]||null;if(!m)throw Error(r(90));vs(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&du(c)}break e;case"textarea":Aa(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&He(i,!!l.multiple,a,!1)}}}var gu=!1;function Rh(i,a,l){if(gu)return i(a,l);gu=!0;try{var c=i(a);return c}finally{if(gu=!1,(Ei!==null||Ti!==null)&&(yf(),Ei&&(a=Ei,i=Ti,Ti=Ei=null,wi(a),i)))for(a=0;a<i.length;a++)wi(i[a])}}function Ra(i,a){var l=i.stateNode;if(l===null)return null;var c=l[xt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var er=!1;if(kn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){er=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{er=!1}var Lr=null,Ts=null,bi=null;function _u(){if(bi)return bi;var i,a=Ts,l=a.length,c,m="value"in Lr?Lr.value:Lr.textContent,g=m.length;for(i=0;i<l&&a[i]===m[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===m[g-c];c++);return bi=m.slice(i,1<c?1-c:void 0)}function Ur(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function zr(){return!0}function yu(){return!1}function jt(i){function a(l,c,m,g,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?zr:yu,this.isPropagationStopped=yu,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),a}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=jt(Qe),Ia=M({},Qe,{view:0,detail:0}),Ch=jt(Ia),zo,jo,jr,Da=M({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jr&&(jr&&i.type==="mousemove"?(zo=i.screenX-jr.screenX,jo=i.screenY-jr.screenY):jo=zo=0,jr=i),zo)},movementY:function(i){return"movementY"in i?i.movementY:jo}}),tr=jt(Da),Ih=M({},Da,{dataTransfer:0}),Um=jt(Ih),Oa=M({},Ia,{relatedTarget:0}),Bo=jt(Oa),vu=M({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Fo=jt(vu),Dh=M({},Qe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qo=jt(Dh),zm=M({},Qe,{data:0}),Eu=jt(zm),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=xh[i])?!!a[i]:!1}function Ma(){return Tu}var Mh=M({},Ia,{key:function(i){if(i.key){var a=xa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ur(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Oh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(i){return i.type==="keypress"?Ur(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ur(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ho=jt(Mh),Nh=M({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=jt(Nh),Si=M({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),Ph=jt(Si),kh=M({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vh=jt(kh),Lh=M({},Da,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Go=jt(Lh),_n=M({},Qe,{newState:0,oldState:0}),Uh=jt(_n),zh=[9,13,27,32],Br=kn&&"CompositionEvent"in window,f=null;kn&&"documentMode"in document&&(f=document.documentMode);var y=kn&&"TextEvent"in window&&!f,E=kn&&(!Br||f&&8<f&&11>=f),O=" ",Y=!1;function W(i,a){switch(i){case"keyup":return zh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function Mt(i,a){switch(i){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(Y=!0,O);case"textInput":return i=a.data,i===O&&Y?null:i;default:return null}}function je(i,a){if(ze)return i==="compositionend"||!Br&&W(i,a)?(i=_u(),bi=Ts=Lr=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Bt[i.type]:a==="textarea"}function Ai(i,a,l,c){Ei?Ti?Ti.push(c):Ti=[c]:Ei=c,a=bf(a,"onChange"),0<a.length&&(l=new Uo("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var Qt=null,Fr=null;function bu(i){uT(i,0)}function jh(i){var a=ps(i);if(du(a))return i}function Uv(i,a){if(i==="change")return a}var zv=!1;if(kn){var jm;if(kn){var Bm="oninput"in document;if(!Bm){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),Bm=typeof jv.oninput=="function"}jm=Bm}else jm=!1;zv=jm&&(!document.documentMode||9<document.documentMode)}function Bv(){Qt&&(Qt.detachEvent("onpropertychange",Fv),Fr=Qt=null)}function Fv(i){if(i.propertyName==="value"&&jh(Fr)){var a=[];Ai(a,Fr,i,Lo(i)),Rh(bu,a)}}function NC(i,a,l){i==="focusin"?(Bv(),Qt=a,Fr=l,Qt.attachEvent("onpropertychange",Fv)):i==="focusout"&&Bv()}function PC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jh(Fr)}function kC(i,a){if(i==="click")return jh(a)}function VC(i,a){if(i==="input"||i==="change")return jh(a)}function LC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Vn=typeof Object.is=="function"?Object.is:LC;function Su(i,a){if(Vn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Do.call(a,m)||!Vn(i[m],a[m]))return!1}return!0}function qv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hv(i,a){var l=qv(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qv(l)}}function Gv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Gv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=ko(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=ko(i.document)}return a}function Fm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function UC(i,a){var l=Yv(a);a=i.focusedElem;var c=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&Gv(a.ownerDocument.documentElement,a)){if(c!==null&&Fm(a)){if(i=c.start,l=c.end,l===void 0&&(l=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(l,a.value.length);else if(l=(i=a.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,g=Math.min(c.start,m);c=c.end===void 0?g:Math.min(c.end,m),!l.extend&&g>c&&(m=c,c=g,g=m),m=Hv(a,g);var T=Hv(a,c);m&&T&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==T.node||l.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),l.removeAllRanges(),g>c?(l.addRange(i),l.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),l.addRange(i)))}}for(i=[],l=a;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)l=i[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var zC=kn&&"documentMode"in document&&11>=document.documentMode,Yo=null,qm=null,Au=null,Hm=!1;function Qv(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hm||Yo==null||Yo!==ko(c)||(c=Yo,"selectionStart"in c&&Fm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Au&&Su(Au,c)||(Au=c,c=bf(qm,"onSelect"),0<c.length&&(a=new Uo("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=Yo)))}function Na(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Qo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Gm={},Kv={};kn&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Pa(i){if(Gm[i])return Gm[i];if(!Qo[i])return i;var a=Qo[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Kv)return Gm[i]=a[l];return i}var $v=Pa("animationend"),Xv=Pa("animationiteration"),Wv=Pa("animationstart"),jC=Pa("transitionrun"),BC=Pa("transitionstart"),FC=Pa("transitioncancel"),Zv=Pa("transitionend"),Jv=new Map,e0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vr(i,a){Jv.set(i,a),Pn(a,[i])}var nr=[],Ko=0,Ym=0;function Bh(){for(var i=Ko,a=Ym=Ko=0;a<i;){var l=nr[a];nr[a++]=null;var c=nr[a];nr[a++]=null;var m=nr[a];nr[a++]=null;var g=nr[a];if(nr[a++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&t0(l,m,g)}}function Fh(i,a,l,c){nr[Ko++]=i,nr[Ko++]=a,nr[Ko++]=l,nr[Ko++]=c,Ym|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Qm(i,a,l,c){return Fh(i,a,l,c),qh(i)}function ws(i,a){return Fh(i,null,null,a),qh(i)}function t0(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;m&&a!==null&&i.tag===3&&(g=i.stateNode,m=31-pn(l),g=g.hiddenUpdates,i=g[m],i===null?g[m]=[a]:i.push(a),a.lane=l|536870912)}function qh(i){if(50<Xu)throw Xu=0,Jp=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var $o={},n0=new WeakMap;function rr(i,a){if(typeof i=="object"&&i!==null){var l=n0.get(i);return l!==void 0?l:(a={value:i,source:a,stack:he(a)},n0.set(i,a),a)}return{value:i,source:a,stack:he(a)}}var Xo=[],Wo=0,Hh=null,Gh=0,ir=[],sr=0,ka=null,Ri=1,Ci="";function Va(i,a){Xo[Wo++]=Gh,Xo[Wo++]=Hh,Hh=i,Gh=a}function r0(i,a,l){ir[sr++]=Ri,ir[sr++]=Ci,ir[sr++]=ka,ka=i;var c=Ri;i=Ci;var m=32-pn(c)-1;c&=~(1<<m),l+=1;var g=32-pn(a)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Ri=1<<32-pn(a)+m|l<<m|c,Ci=g+i}else Ri=1<<g|l<<m|c,Ci=i}function Km(i){i.return!==null&&(Va(i,1),r0(i,1,0))}function $m(i){for(;i===Hh;)Hh=Xo[--Wo],Xo[Wo]=null,Gh=Xo[--Wo],Xo[Wo]=null;for(;i===ka;)ka=ir[--sr],ir[sr]=null,Ci=ir[--sr],ir[sr]=null,Ri=ir[--sr],ir[sr]=null}var yn=null,Kt=null,Ge=!1,Er=null,qr=!1,Xm=Error(r(519));function La(i){var a=Error(r(418,""));throw Iu(rr(a,i)),Xm}function i0(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[zt]=i,a[xt]=c,l){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(l=0;l<Zu.length;l++)Ve(Zu[l],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Sa(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ba(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),Es(a,c.value,c.defaultValue,c.children),ba(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||dT(a.textContent,l)?(c.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),c.onScroll!=null&&Ve("scroll",a),c.onScrollEnd!=null&&Ve("scrollend",a),c.onClick!=null&&(a.onclick=Sf),a=!0):a=!1,a||La(i)}function s0(i){for(yn=i.return;yn;)switch(yn.tag){case 3:case 27:qr=!0;return;case 5:case 13:qr=!1;return;default:yn=yn.return}}function Ru(i){if(i!==yn)return!1;if(!Ge)return s0(i),Ge=!0,!1;var a=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||gg(i.type,i.memoizedProps)),l=!l),l&&(a=!0),a&&Kt&&La(i),s0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Kt=wr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Kt=null}}else Kt=yn?wr(i.stateNode.nextSibling):null;return!0}function Cu(){Kt=yn=null,Ge=!1}function Iu(i){Er===null?Er=[i]:Er.push(i)}var Du=Error(r(460)),a0=Error(r(474)),Wm={then:function(){}};function o0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yh(){}function l0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Yh,Yh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Du?Error(r(483)):i;default:if(typeof a.status=="string")a.then(Yh,Yh);else{if(i=tt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Du?Error(r(483)):i}throw Ou=a,Du}}var Ou=null;function u0(){if(Ou===null)throw Error(r(459));var i=Ou;return Ou=null,i}var Zo=null,xu=0;function Qh(i){var a=xu;return xu+=1,Zo===null&&(Zo=[]),l0(Zo,i,a)}function Mu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Kh(i,a){throw a.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function c0(i){var a=i._init;return a(i._payload)}function h0(i){function a(G,B){if(i){var Q=G.deletions;Q===null?(G.deletions=[B],G.flags|=16):Q.push(B)}}function l(G,B){if(!i)return null;for(;B!==null;)a(G,B),B=B.sibling;return null}function c(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function m(G,B){return G=Ps(G,B),G.index=0,G.sibling=null,G}function g(G,B,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<B?(G.flags|=33554434,B):Q):(G.flags|=33554434,B)):(G.flags|=1048576,B)}function T(G){return i&&G.alternate===null&&(G.flags|=33554434),G}function I(G,B,Q,te){return B===null||B.tag!==6?(B=Gp(Q,G.mode,te),B.return=G,B):(B=m(B,Q),B.return=G,B)}function P(G,B,Q,te){var pe=Q.type;return pe===d?ee(G,B,Q.props.children,te,Q.key):B!==null&&(B.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&c0(pe)===B.type)?(B=m(B,Q.props),Mu(B,Q),B.return=G,B):(B=df(Q.type,Q.key,Q.props,null,G.mode,te),Mu(B,Q),B.return=G,B)}function q(G,B,Q,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Yp(Q,G.mode,te),B.return=G,B):(B=m(B,Q.children||[]),B.return=G,B)}function ee(G,B,Q,te,pe){return B===null||B.tag!==7?(B=Qa(Q,G.mode,te,pe),B.return=G,B):(B=m(B,Q),B.return=G,B)}function ie(G,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Gp(""+B,G.mode,Q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return Q=df(B.type,B.key,B.props,null,G.mode,Q),Mu(Q,B),Q.return=G,Q;case h:return B=Yp(B,G.mode,Q),B.return=G,B;case L:var te=B._init;return B=te(B._payload),ie(G,B,Q)}if(ue(B)||X(B))return B=Qa(B,G.mode,Q,null),B.return=G,B;if(typeof B.then=="function")return ie(G,Qh(B),Q);if(B.$$typeof===b)return ie(G,cf(G,B),Q);Kh(G,B)}return null}function K(G,B,Q,te){var pe=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pe!==null?null:I(G,B,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return Q.key===pe?P(G,B,Q,te):null;case h:return Q.key===pe?q(G,B,Q,te):null;case L:return pe=Q._init,Q=pe(Q._payload),K(G,B,Q,te)}if(ue(Q)||X(Q))return pe!==null?null:ee(G,B,Q,te,null);if(typeof Q.then=="function")return K(G,B,Qh(Q),te);if(Q.$$typeof===b)return K(G,B,cf(G,Q),te);Kh(G,Q)}return null}function Z(G,B,Q,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(Q)||null,I(B,G,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case u:return G=G.get(te.key===null?Q:te.key)||null,P(B,G,te,pe);case h:return G=G.get(te.key===null?Q:te.key)||null,q(B,G,te,pe);case L:var Oe=te._init;return te=Oe(te._payload),Z(G,B,Q,te,pe)}if(ue(te)||X(te))return G=G.get(Q)||null,ee(B,G,te,pe,null);if(typeof te.then=="function")return Z(G,B,Q,Qh(te),pe);if(te.$$typeof===b)return Z(G,B,Q,cf(B,te),pe);Kh(B,te)}return null}function ge(G,B,Q,te){for(var pe=null,Oe=null,_e=B,ve=B=0,Ht=null;_e!==null&&ve<Q.length;ve++){_e.index>ve?(Ht=_e,_e=null):Ht=_e.sibling;var Ye=K(G,_e,Q[ve],te);if(Ye===null){_e===null&&(_e=Ht);break}i&&_e&&Ye.alternate===null&&a(G,_e),B=g(Ye,B,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye,_e=Ht}if(ve===Q.length)return l(G,_e),Ge&&Va(G,ve),pe;if(_e===null){for(;ve<Q.length;ve++)_e=ie(G,Q[ve],te),_e!==null&&(B=g(_e,B,ve),Oe===null?pe=_e:Oe.sibling=_e,Oe=_e);return Ge&&Va(G,ve),pe}for(_e=c(_e);ve<Q.length;ve++)Ht=Z(_e,G,ve,Q[ve],te),Ht!==null&&(i&&Ht.alternate!==null&&_e.delete(Ht.key===null?ve:Ht.key),B=g(Ht,B,ve),Oe===null?pe=Ht:Oe.sibling=Ht,Oe=Ht);return i&&_e.forEach(function(Bs){return a(G,Bs)}),Ge&&Va(G,ve),pe}function Se(G,B,Q,te){if(Q==null)throw Error(r(151));for(var pe=null,Oe=null,_e=B,ve=B=0,Ht=null,Ye=Q.next();_e!==null&&!Ye.done;ve++,Ye=Q.next()){_e.index>ve?(Ht=_e,_e=null):Ht=_e.sibling;var Bs=K(G,_e,Ye.value,te);if(Bs===null){_e===null&&(_e=Ht);break}i&&_e&&Bs.alternate===null&&a(G,_e),B=g(Bs,B,ve),Oe===null?pe=Bs:Oe.sibling=Bs,Oe=Bs,_e=Ht}if(Ye.done)return l(G,_e),Ge&&Va(G,ve),pe;if(_e===null){for(;!Ye.done;ve++,Ye=Q.next())Ye=ie(G,Ye.value,te),Ye!==null&&(B=g(Ye,B,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return Ge&&Va(G,ve),pe}for(_e=c(_e);!Ye.done;ve++,Ye=Q.next())Ye=Z(_e,G,ve,Ye.value,te),Ye!==null&&(i&&Ye.alternate!==null&&_e.delete(Ye.key===null?ve:Ye.key),B=g(Ye,B,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return i&&_e.forEach(function(nD){return a(G,nD)}),Ge&&Va(G,ve),pe}function gt(G,B,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===d&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:e:{for(var pe=Q.key;B!==null;){if(B.key===pe){if(pe=Q.type,pe===d){if(B.tag===7){l(G,B.sibling),te=m(B,Q.props.children),te.return=G,G=te;break e}}else if(B.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&c0(pe)===B.type){l(G,B.sibling),te=m(B,Q.props),Mu(te,Q),te.return=G,G=te;break e}l(G,B);break}else a(G,B);B=B.sibling}Q.type===d?(te=Qa(Q.props.children,G.mode,te,Q.key),te.return=G,G=te):(te=df(Q.type,Q.key,Q.props,null,G.mode,te),Mu(te,Q),te.return=G,G=te)}return T(G);case h:e:{for(pe=Q.key;B!==null;){if(B.key===pe)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){l(G,B.sibling),te=m(B,Q.children||[]),te.return=G,G=te;break e}else{l(G,B);break}else a(G,B);B=B.sibling}te=Yp(Q,G.mode,te),te.return=G,G=te}return T(G);case L:return pe=Q._init,Q=pe(Q._payload),gt(G,B,Q,te)}if(ue(Q))return ge(G,B,Q,te);if(X(Q)){if(pe=X(Q),typeof pe!="function")throw Error(r(150));return Q=pe.call(Q),Se(G,B,Q,te)}if(typeof Q.then=="function")return gt(G,B,Qh(Q),te);if(Q.$$typeof===b)return gt(G,B,cf(G,Q),te);Kh(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(l(G,B.sibling),te=m(B,Q),te.return=G,G=te):(l(G,B),te=Gp(Q,G.mode,te),te.return=G,G=te),T(G)):l(G,B)}return function(G,B,Q,te){try{xu=0;var pe=gt(G,B,Q,te);return Zo=null,pe}catch(_e){if(_e===Du)throw _e;var Oe=ur(29,_e,null,G.mode);return Oe.lanes=te,Oe.return=G,Oe}finally{}}}var Ua=h0(!0),f0=h0(!1),Jo=qe(null),$h=qe(0);function d0(i,a){i=Ui,$e($h,i),$e(Jo,a),Ui=i|a.baseLanes}function Zm(){$e($h,Ui),$e(Jo,Jo.current)}function Jm(){Ui=$h.current,ft(Jo),ft($h)}var ar=qe(null),Hr=null;function bs(i){var a=i.alternate;$e(Pt,Pt.current&1),$e(ar,i),Hr===null&&(a===null||Jo.current!==null||a.memoizedState!==null)&&(Hr=i)}function m0(i){if(i.tag===22){if($e(Pt,Pt.current),$e(ar,i),Hr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Hr=i)}}else Ss()}function Ss(){$e(Pt,Pt.current),$e(ar,ar.current)}function Ii(i){ft(ar),Hr===i&&(Hr=null),ft(Pt)}var Pt=qe(0);function Xh(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var qC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},HC=n.unstable_scheduleCallback,GC=n.unstable_NormalPriority,kt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ep(){return{controller:new qC,data:new Map,refCount:0}}function Nu(i){i.refCount--,i.refCount===0&&HC(GC,function(){i.controller.abort()})}var Pu=null,tp=0,el=0,tl=null;function YC(i,a){if(Pu===null){var l=Pu=[];tp=0,el=og(),tl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return tp++,a.then(p0,p0),a}function p0(){if(--tp===0&&Pu!==null){tl!==null&&(tl.status="fulfilled");var i=Pu;Pu=null,el=0,tl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function QC(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var g0=A.S;A.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&YC(i,a),g0!==null&&g0(i,a)};var za=qe(null);function np(){var i=za.current;return i!==null?i:tt.pooledCache}function Wh(i,a){a===null?$e(za,za.current):$e(za,a.pool)}function _0(){var i=np();return i===null?null:{parent:kt._currentValue,pool:i}}var As=0,De=null,We=null,bt=null,Zh=!1,nl=!1,ja=!1,Jh=0,ku=0,rl=null,KC=0;function vt(){throw Error(r(321))}function rp(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Vn(i[l],a[l]))return!1;return!0}function ip(i,a,l,c,m,g){return As=g,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=i===null||i.memoizedState===null?Ba:Rs,ja=!1,g=l(c,m),ja=!1,nl&&(g=v0(a,l,c,m)),y0(i),g}function y0(i){A.H=Gr;var a=We!==null&&We.next!==null;if(As=0,bt=We=De=null,Zh=!1,ku=0,rl=null,a)throw Error(r(300));i===null||Ft||(i=i.dependencies,i!==null&&uf(i)&&(Ft=!0))}function v0(i,a,l,c){De=i;var m=0;do{if(nl&&(rl=null),ku=0,nl=!1,25<=m)throw Error(r(301));if(m+=1,bt=We=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=Fa,g=a(l,c)}while(nl);return g}function $C(){var i=A.H,a=i.useState()[0];return a=typeof a.then=="function"?Vu(a):a,i=i.useState()[0],(We!==null?We.memoizedState:null)!==i&&(De.flags|=1024),a}function sp(){var i=Jh!==0;return Jh=0,i}function ap(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function op(i){if(Zh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Zh=!1}As=0,bt=We=De=null,nl=!1,ku=Jh=0,rl=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=i:bt=bt.next=i,bt}function St(){if(We===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=We.next;var a=bt===null?De.memoizedState:bt.next;if(a!==null)bt=a,We=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));We=i,i={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?De.memoizedState=bt=i:bt=bt.next=i}return bt}var ef;ef=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Vu(i){var a=ku;return ku+=1,rl===null&&(rl=[]),i=l0(rl,i,a),a=De,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?Ba:Rs),i}function tf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vu(i);if(i.$$typeof===b)return rn(i)}throw Error(r(438,String(i)))}function lp(i){var a=null,l=De.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ef(),De.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=H;return a.index++,l}function Di(i,a){return typeof a=="function"?a(i):a}function nf(i){var a=St();return up(a,We,i)}function up(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}a.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{a=m.next;var I=T=null,P=null,q=a,ee=!1;do{var ie=q.lane&-536870913;if(ie!==q.lane?(Be&ie)===ie:(As&ie)===ie){var K=q.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ie===el&&(ee=!0);else if((As&K)===K){q=q.next,K===el&&(ee=!0);continue}else ie={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(I=P=ie,T=g):P=P.next=ie,De.lanes|=K,ks|=K;ie=q.action,ja&&l(g,ie),g=q.hasEagerState?q.eagerState:l(g,ie)}else K={lane:ie,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},P===null?(I=P=K,T=g):P=P.next=K,De.lanes|=ie,ks|=ie;q=q.next}while(q!==null&&q!==a);if(P===null?T=g:P.next=I,!Vn(g,i.memoizedState)&&(Ft=!0,ee&&(l=tl,l!==null)))throw l;i.memoizedState=g,i.baseState=T,i.baseQueue=P,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function cp(i){var a=St(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);Vn(g,a.memoizedState)||(Ft=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function E0(i,a,l){var c=De,m=St(),g=Ge;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!Vn((We||m).memoizedState,l);if(T&&(m.memoizedState=l,Ft=!0),m=m.queue,dp(b0.bind(null,c,m,i),[i]),m.getSnapshot!==a||T||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,il(9,w0.bind(null,c,m,l,a),{destroy:void 0},null),tt===null)throw Error(r(349));g||As&60||T0(c,a,l)}return l}function T0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=De.updateQueue,a===null?(a=ef(),De.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function w0(i,a,l,c){a.value=l,a.getSnapshot=c,S0(a)&&A0(i)}function b0(i,a,l){return l(function(){S0(a)&&A0(i)})}function S0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Vn(i,l)}catch{return!0}}function A0(i){var a=ws(i,2);a!==null&&vn(a,i,2)}function hp(i){var a=Cn();if(typeof i=="function"){var l=i;if(i=l(),ja){Mr(!0);try{l()}finally{Mr(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},a}function R0(i,a,l,c){return i.baseState=l,up(i,We,typeof c=="function"?c:Di)}function XC(i,a,l,c,m){if(af(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};A.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,C0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function C0(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var g=A.T,T={};A.T=T;try{var I=l(m,c),P=A.S;P!==null&&P(T,I),I0(i,a,I)}catch(q){fp(i,a,q)}finally{A.T=g}}else try{g=l(m,c),I0(i,a,g)}catch(q){fp(i,a,q)}}function I0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){D0(i,a,c)},function(c){return fp(i,a,c)}):D0(i,a,l)}function D0(i,a,l){a.status="fulfilled",a.value=l,O0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,C0(i,l)))}function fp(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,O0(a),a=a.next;while(a!==c)}i.action=null}function O0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function x0(i,a){return a}function M0(i,a){if(Ge){var l=tt.formState;if(l!==null){e:{var c=De;if(Ge){if(Kt){t:{for(var m=Kt,g=qr;m.nodeType!==8;){if(!g){m=null;break t}if(m=wr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Kt=wr(m.nextSibling),c=m.data==="F!";break e}}La(c)}c=!1}c&&(a=l[0])}}return l=Cn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:a},l.queue=c,l=X0.bind(null,De,c),c.dispatch=l,c=hp(!1),g=yp.bind(null,De,!1,c.queue),c=Cn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=XC.bind(null,De,m,g,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function N0(i){var a=St();return P0(a,We,i)}function P0(i,a,l){a=up(i,a,x0)[0],i=nf(Di)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Vu(a):a;var c=St(),m=c.queue,g=m.dispatch;return l!==c.memoizedState&&(De.flags|=2048,il(9,WC.bind(null,m,l),{destroy:void 0},null)),[a,g,i]}function WC(i,a){i.action=a}function k0(i){var a=St(),l=We;if(l!==null)return P0(a,l,i);St(),a=a.memoizedState,l=St();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function il(i,a,l,c){return i={tag:i,create:a,inst:l,deps:c,next:null},a=De.updateQueue,a===null&&(a=ef(),De.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function V0(){return St().memoizedState}function rf(i,a,l,c){var m=Cn();De.flags|=i,m.memoizedState=il(1|a,l,{destroy:void 0},c===void 0?null:c)}function sf(i,a,l,c){var m=St();c=c===void 0?null:c;var g=m.memoizedState.inst;We!==null&&c!==null&&rp(c,We.memoizedState.deps)?m.memoizedState=il(a,l,g,c):(De.flags|=i,m.memoizedState=il(1|a,l,g,c))}function L0(i,a){rf(8390656,8,i,a)}function dp(i,a){sf(2048,8,i,a)}function U0(i,a){return sf(4,2,i,a)}function z0(i,a){return sf(4,4,i,a)}function j0(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function B0(i,a,l){l=l!=null?l.concat([i]):null,sf(4,4,j0.bind(null,a,i),l)}function mp(){}function F0(i,a){var l=St();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&rp(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function q0(i,a){var l=St();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&rp(a,c[1]))return c[0];if(c=i(),ja){Mr(!0);try{i()}finally{Mr(!1)}}return l.memoizedState=[c,a],c}function pp(i,a,l){return l===void 0||As&1073741824?i.memoizedState=a:(i.memoizedState=l,i=GE(),De.lanes|=i,ks|=i,l)}function H0(i,a,l,c){return Vn(l,a)?l:Jo.current!==null?(i=pp(i,l,c),Vn(i,a)||(Ft=!0),i):As&42?(i=GE(),De.lanes|=i,ks|=i,a):(Ft=!0,i.memoizedState=l)}function G0(i,a,l,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var T=A.T,I={};A.T=I,yp(i,!1,a,l);try{var P=m(),q=A.S;if(q!==null&&q(I,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ee=QC(P,c);Lu(i,a,ee,jn(i))}else Lu(i,a,c,jn(i))}catch(ie){Lu(i,a,{then:function(){},status:"rejected",reason:ie},jn())}finally{le.p=g,A.T=T}}function ZC(){}function gp(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=Y0(i).queue;G0(i,m,a,Ee,l===null?ZC:function(){return Q0(i),l(c)})}function Y0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Ee},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Q0(i){var a=Y0(i).next.queue;Lu(i,a,{},jn())}function _p(){return rn(rc)}function K0(){return St().memoizedState}function $0(){return St().memoizedState}function JC(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=jn();i=Ds(l);var c=Os(a,i,l);c!==null&&(vn(c,a,l),ju(c,a,l)),a={cache:ep()},i.payload=a;return}a=a.return}}function eI(i,a,l){var c=jn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},af(i)?W0(a,l):(l=Qm(i,a,l,c),l!==null&&(vn(l,i,c),Z0(l,a,c)))}function X0(i,a,l){var c=jn();Lu(i,a,l,c)}function Lu(i,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(af(i))W0(a,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var T=a.lastRenderedState,I=g(T,l);if(m.hasEagerState=!0,m.eagerState=I,Vn(I,T))return Fh(i,a,m,0),tt===null&&Bh(),!1}catch{}finally{}if(l=Qm(i,a,m,c),l!==null)return vn(l,i,c),Z0(l,a,c),!0}return!1}function yp(i,a,l,c){if(c={lane:2,revertLane:og(),action:c,hasEagerState:!1,eagerState:null,next:null},af(i)){if(a)throw Error(r(479))}else a=Qm(i,l,c,2),a!==null&&vn(a,i,2)}function af(i){var a=i.alternate;return i===De||a!==null&&a===De}function W0(i,a){nl=Zh=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Z0(i,a,l){if(l&4194176){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,fs(i,l)}}var Gr={readContext:rn,use:tf,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};Gr.useCacheRefresh=vt,Gr.useMemoCache=vt,Gr.useHostTransitionStatus=vt,Gr.useFormState=vt,Gr.useActionState=vt,Gr.useOptimistic=vt;var Ba={readContext:rn,use:tf,useCallback:function(i,a){return Cn().memoizedState=[i,a===void 0?null:a],i},useContext:rn,useEffect:L0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,rf(4194308,4,j0.bind(null,a,i),l)},useLayoutEffect:function(i,a){return rf(4194308,4,i,a)},useInsertionEffect:function(i,a){rf(4,2,i,a)},useMemo:function(i,a){var l=Cn();a=a===void 0?null:a;var c=i();if(ja){Mr(!0);try{i()}finally{Mr(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Cn();if(l!==void 0){var m=l(a);if(ja){Mr(!0);try{l(a)}finally{Mr(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=eI.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var a=Cn();return i={current:i},a.memoizedState=i},useState:function(i){i=hp(i);var a=i.queue,l=X0.bind(null,De,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:mp,useDeferredValue:function(i,a){var l=Cn();return pp(l,i,a)},useTransition:function(){var i=hp(!1);return i=G0.bind(null,De,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=De,m=Cn();if(Ge){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),tt===null)throw Error(r(349));Be&60||T0(c,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,L0(b0.bind(null,c,g,i),[i]),c.flags|=2048,il(9,w0.bind(null,c,g,l,a),{destroy:void 0},null),l},useId:function(){var i=Cn(),a=tt.identifierPrefix;if(Ge){var l=Ci,c=Ri;l=(c&~(1<<32-pn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=Jh++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=KC++,a=":"+a+"r"+l.toString(32)+":";return i.memoizedState=a},useCacheRefresh:function(){return Cn().memoizedState=JC.bind(null,De)}};Ba.useMemoCache=lp,Ba.useHostTransitionStatus=_p,Ba.useFormState=M0,Ba.useActionState=M0,Ba.useOptimistic=function(i){var a=Cn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=yp.bind(null,De,!0,l),l.dispatch=a,[i,a]};var Rs={readContext:rn,use:tf,useCallback:F0,useContext:rn,useEffect:dp,useImperativeHandle:B0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:q0,useReducer:nf,useRef:V0,useState:function(){return nf(Di)},useDebugValue:mp,useDeferredValue:function(i,a){var l=St();return H0(l,We.memoizedState,i,a)},useTransition:function(){var i=nf(Di)[0],a=St().memoizedState;return[typeof i=="boolean"?i:Vu(i),a]},useSyncExternalStore:E0,useId:K0};Rs.useCacheRefresh=$0,Rs.useMemoCache=lp,Rs.useHostTransitionStatus=_p,Rs.useFormState=N0,Rs.useActionState=N0,Rs.useOptimistic=function(i,a){var l=St();return R0(l,We,i,a)};var Fa={readContext:rn,use:tf,useCallback:F0,useContext:rn,useEffect:dp,useImperativeHandle:B0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:q0,useReducer:cp,useRef:V0,useState:function(){return cp(Di)},useDebugValue:mp,useDeferredValue:function(i,a){var l=St();return We===null?pp(l,i,a):H0(l,We.memoizedState,i,a)},useTransition:function(){var i=cp(Di)[0],a=St().memoizedState;return[typeof i=="boolean"?i:Vu(i),a]},useSyncExternalStore:E0,useId:K0};Fa.useCacheRefresh=$0,Fa.useMemoCache=lp,Fa.useHostTransitionStatus=_p,Fa.useFormState=k0,Fa.useActionState=k0,Fa.useOptimistic=function(i,a){var l=St();return We!==null?R0(l,We,i,a):(l.baseState=i,[i,l.queue.dispatch])};function vp(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:M({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ep={isMounted:function(i){return(i=i._reactInternals)?de(i)===i:!1},enqueueSetState:function(i,a,l){i=i._reactInternals;var c=jn(),m=Ds(c);m.payload=a,l!=null&&(m.callback=l),a=Os(i,m,c),a!==null&&(vn(a,i,c),ju(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=jn(),m=Ds(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Os(i,m,c),a!==null&&(vn(a,i,c),ju(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=jn(),c=Ds(l);c.tag=2,a!=null&&(c.callback=a),a=Os(i,c,l),a!==null&&(vn(a,i,l),ju(a,i,l))}};function J0(i,a,l,c,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):a.prototype&&a.prototype.isPureReactComponent?!Su(l,c)||!Su(m,g):!0}function eE(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Ep.enqueueReplaceState(a,a.state,null)}function qa(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=M({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var of=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function tE(i){of(i)}function nE(i){console.error(i)}function rE(i){of(i)}function lf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function iE(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Tp(i,a,l){return l=Ds(l),l.tag=3,l.payload={element:null},l.callback=function(){lf(i,a)},l}function sE(i){return i=Ds(i),i.tag=3,i}function aE(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){iE(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){iE(a,l,c),typeof m!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function tI(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&zu(a,l,m,!0),l=ar.current,l!==null){switch(l.tag){case 13:return Hr===null?ng():l.alternate===null&&pt===0&&(pt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===Wm?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),ig(i,c,m)),!1;case 22:return l.flags|=65536,c===Wm?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),ig(i,c,m)),!1}throw Error(r(435,l.tag))}return ig(i,c,m),ng(),!1}if(Ge)return a=ar.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==Xm&&(i=Error(r(422),{cause:c}),Iu(rr(i,l)))):(c!==Xm&&(a=Error(r(423),{cause:c}),Iu(rr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=rr(c,l),m=Tp(i.stateNode,c,m),Vp(i,m),pt!==4&&(pt=2)),!1;var g=Error(r(520),{cause:c});if(g=rr(g,l),Ku===null?Ku=[g]:Ku.push(g),pt!==4&&(pt=2),a===null)return!0;c=rr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Tp(l.stateNode,c,i),Vp(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vs===null||!Vs.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=sE(m),aE(m,i,l,c),Vp(l,m),!1}l=l.return}while(l!==null);return!1}var oE=Error(r(461)),Ft=!1;function $t(i,a,l,c){a.child=i===null?f0(a,null,l,c):Ua(a,i.child,l,c)}function lE(i,a,l,c,m){l=l.render;var g=a.ref;if("ref"in c){var T={};for(var I in c)I!=="ref"&&(T[I]=c[I])}else T=c;return Ga(a),c=ip(i,a,l,T,g,m),I=sp(),i!==null&&!Ft?(ap(i,a,m),Oi(i,a,m)):(Ge&&I&&Km(a),a.flags|=1,$t(i,a,c,m),a.child)}function uE(i,a,l,c,m){if(i===null){var g=l.type;return typeof g=="function"&&!Hp(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,cE(i,a,g,c,m)):(i=df(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!Op(i,m)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:Su,l(T,c)&&i.ref===a.ref)return Oi(i,a,m)}return a.flags|=1,i=Ps(g,c),i.ref=a.ref,i.return=a,a.child=i}function cE(i,a,l,c,m){if(i!==null){var g=i.memoizedProps;if(Su(g,c)&&i.ref===a.ref)if(Ft=!1,a.pendingProps=c=g,Op(i,m))i.flags&131072&&(Ft=!0);else return a.lanes=i.lanes,Oi(i,a,m)}return wp(i,a,l,c,m)}function hE(i,a,l){var c=a.pendingProps,m=c.children,g=(a.stateNode._pendingVisibility&2)!==0,T=i!==null?i.memoizedState:null;if(Uu(i,a),c.mode==="hidden"||g){if(a.flags&128){if(c=T!==null?T.baseLanes|l:l,i!==null){for(m=a.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return fE(i,a,c,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wh(a,T!==null?T.cachePool:null),T!==null?d0(a,T):Zm(),m0(a);else return a.lanes=a.childLanes=536870912,fE(i,a,T!==null?T.baseLanes|l:l,l)}else T!==null?(Wh(a,T.cachePool),d0(a,T),Ss(),a.memoizedState=null):(i!==null&&Wh(a,null),Zm(),Ss());return $t(i,a,m,l),a.child}function fE(i,a,l,c){var m=np();return m=m===null?null:{parent:kt._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&Wh(a,null),Zm(),m0(a),i!==null&&zu(i,a,c,!0),null}function Uu(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=2097664)}}function wp(i,a,l,c,m){return Ga(a),l=ip(i,a,l,c,void 0,m),c=sp(),i!==null&&!Ft?(ap(i,a,m),Oi(i,a,m)):(Ge&&c&&Km(a),a.flags|=1,$t(i,a,l,m),a.child)}function dE(i,a,l,c,m,g){return Ga(a),a.updateQueue=null,l=v0(a,c,l,m),y0(i),c=sp(),i!==null&&!Ft?(ap(i,a,g),Oi(i,a,g)):(Ge&&c&&Km(a),a.flags|=1,$t(i,a,l,g),a.child)}function mE(i,a,l,c,m){if(Ga(a),a.stateNode===null){var g=$o,T=l.contextType;typeof T=="object"&&T!==null&&(g=rn(T)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ep,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Pp(a),T=l.contextType,g.context=typeof T=="object"&&T!==null?rn(T):$o,g.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(vp(a,l,T,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Ep.enqueueReplaceState(g,g.state,null),Fu(a,c,g,m),Bu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var I=a.memoizedProps,P=qa(l,I);g.props=P;var q=g.context,ee=l.contextType;T=$o,typeof ee=="object"&&ee!==null&&(T=rn(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||q!==T)&&eE(a,g,c,T),Is=!1;var K=a.memoizedState;g.state=K,Fu(a,c,g,m),Bu(),q=a.memoizedState,I||K!==q||Is?(typeof ie=="function"&&(vp(a,l,ie,c),q=a.memoizedState),(P=Is||J0(a,l,P,c,K,q,T))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=q),g.props=c,g.state=q,g.context=T,c=P):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,kp(i,a),T=a.memoizedProps,ee=qa(l,T),g.props=ee,ie=a.pendingProps,K=g.context,q=l.contextType,P=$o,typeof q=="object"&&q!==null&&(P=rn(q)),I=l.getDerivedStateFromProps,(q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ie||K!==P)&&eE(a,g,c,P),Is=!1,K=a.memoizedState,g.state=K,Fu(a,c,g,m),Bu();var Z=a.memoizedState;T!==ie||K!==Z||Is||i!==null&&i.dependencies!==null&&uf(i.dependencies)?(typeof I=="function"&&(vp(a,l,I,c),Z=a.memoizedState),(ee=Is||J0(a,l,ee,c,K,Z,P)||i!==null&&i.dependencies!==null&&uf(i.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,P)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Z),g.props=c,g.state=Z,g.context=P,c=ee):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,Uu(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=Ua(a,i.child,null,m),a.child=Ua(a,null,l,m)):$t(i,a,l,m),a.memoizedState=g.state,i=a.child):i=Oi(i,a,m),i}function pE(i,a,l,c){return Cu(),a.flags|=256,$t(i,a,l,c),a.child}var bp={dehydrated:null,treeContext:null,retryLane:0};function Sp(i){return{baseLanes:i,cachePool:_0()}}function Ap(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=cr),i}function gE(i,a,l){var c=a.pendingProps,m=!1,g=(a.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ge){if(m?bs(a):Ss(),Ge){var I=Kt,P;if(P=I){e:{for(P=I,I=qr;P.nodeType!==8;){if(!I){I=null;break e}if(P=wr(P.nextSibling),P===null){I=null;break e}}I=P}I!==null?(a.memoizedState={dehydrated:I,treeContext:ka!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912},P=ur(18,null,null,0),P.stateNode=I,P.return=a,a.child=P,yn=a,Kt=null,P=!0):P=!1}P||La(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?a.lanes=16:a.lanes=536870912,null;Ii(a)}return I=c.children,c=c.fallback,m?(Ss(),m=a.mode,I=Cp({mode:"hidden",children:I},m),c=Qa(c,m,l,null),I.return=a,c.return=a,I.sibling=c,a.child=I,m=a.child,m.memoizedState=Sp(l),m.childLanes=Ap(i,T,l),a.memoizedState=bp,c):(bs(a),Rp(a,I))}if(P=i.memoizedState,P!==null&&(I=P.dehydrated,I!==null)){if(g)a.flags&256?(bs(a),a.flags&=-257,a=Ip(i,a,l)):a.memoizedState!==null?(Ss(),a.child=i.child,a.flags|=128,a=null):(Ss(),m=c.fallback,I=a.mode,c=Cp({mode:"visible",children:c.children},I),m=Qa(m,I,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Ua(a,i.child,null,l),c=a.child,c.memoizedState=Sp(l),c.childLanes=Ap(i,T,l),a.memoizedState=bp,a=m);else if(bs(a),I.data==="$!"){if(T=I.nextSibling&&I.nextSibling.dataset,T)var q=T.dgst;T=q,c=Error(r(419)),c.stack="",c.digest=T,Iu({value:c,source:null,stack:null}),a=Ip(i,a,l)}else if(Ft||zu(i,a,l,!1),T=(l&i.childLanes)!==0,Ft||T){if(T=tt,T!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(T.suspendedLanes|l)?0:c,c!==0&&c!==P.retryLane)throw P.retryLane=c,ws(i,c),vn(T,i,c),oE}I.data==="$?"||ng(),a=Ip(i,a,l)}else I.data==="$?"?(a.flags|=128,a.child=i.child,a=gI.bind(null,i),I._reactRetry=a,a=null):(i=P.treeContext,Kt=wr(I.nextSibling),yn=a,Ge=!0,Er=null,qr=!1,i!==null&&(ir[sr++]=Ri,ir[sr++]=Ci,ir[sr++]=ka,Ri=i.id,Ci=i.overflow,ka=a),a=Rp(a,c.children),a.flags|=4096);return a}return m?(Ss(),m=c.fallback,I=a.mode,P=i.child,q=P.sibling,c=Ps(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&31457280,q!==null?m=Ps(q,m):(m=Qa(m,I,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,I=i.child.memoizedState,I===null?I=Sp(l):(P=I.cachePool,P!==null?(q=kt._currentValue,P=P.parent!==q?{parent:q,pool:q}:P):P=_0(),I={baseLanes:I.baseLanes|l,cachePool:P}),m.memoizedState=I,m.childLanes=Ap(i,T,l),a.memoizedState=bp,c):(bs(a),l=i.child,i=l.sibling,l=Ps(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function Rp(i,a){return a=Cp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Cp(i,a){return FE(i,a,0,null)}function Ip(i,a,l){return Ua(a,i.child,null,l),i=Rp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function _E(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Mp(i.return,a,l)}function Dp(i,a,l,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=m)}function yE(i,a,l){var c=a.pendingProps,m=c.revealOrder,g=c.tail;if($t(i,a,c.children,l),c=Pt.current,c&2)c=c&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_E(i,l,a);else if(i.tag===19)_E(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch($e(Pt,c),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&Xh(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Dp(a,!1,m,l,g);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Xh(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Dp(a,!0,l,null,g);break;case"together":Dp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Oi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ks|=a.lanes,!(l&a.childLanes))if(i!==null){if(zu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ps(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ps(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Op(i,a){return i.lanes&a?!0:(i=i.dependencies,!!(i!==null&&uf(i)))}function nI(i,a,l){switch(a.tag){case 3:as(a,a.stateNode.containerInfo),Cs(a,kt,i.memoizedState.cache),Cu();break;case 27:case 5:ru(a);break;case 4:as(a,a.stateNode.containerInfo);break;case 10:Cs(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(bs(a),a.flags|=128,null):l&a.child.childLanes?gE(i,a,l):(bs(a),i=Oi(i,a,l),i!==null?i.sibling:null);bs(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(zu(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return yE(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(Pt,Pt.current),c)break;return null;case 22:case 23:return a.lanes=0,hE(i,a,l);case 24:Cs(a,kt,i.memoizedState.cache)}return Oi(i,a,l)}function vE(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ft=!0;else{if(!Op(i,l)&&!(a.flags&128))return Ft=!1,nI(i,a,l);Ft=!!(i.flags&131072)}else Ft=!1,Ge&&a.flags&1048576&&r0(a,Gh,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")Hp(c)?(i=qa(c,i),a.tag=1,a=mE(null,a,c,i,l)):(a.tag=0,a=wp(null,a,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===R){a.tag=11,a=lE(null,a,c,i,l);break e}else if(m===k){a.tag=14,a=uE(null,a,c,i,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return wp(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=qa(c,a.pendingProps),mE(i,a,c,m,l);case 3:e:{if(as(a,a.stateNode.containerInfo),i===null)throw Error(r(387));var g=a.pendingProps;m=a.memoizedState,c=m.element,kp(i,a),Fu(a,g,null,l);var T=a.memoizedState;if(g=T.cache,Cs(a,kt,g),g!==m.cache&&Np(a,[kt],l,!0),Bu(),g=T.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=pE(i,a,g,l);break e}else if(g!==c){c=rr(Error(r(424)),a),Iu(c),a=pE(i,a,g,l);break e}else for(Kt=wr(a.stateNode.containerInfo.firstChild),yn=a,Ge=!0,Er=null,qr=!0,l=f0(a,null,g,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Cu(),g===c){a=Oi(i,a,l);break e}$t(i,a,g,l)}a=a.child}return a;case 26:return Uu(i,a),i===null?(l=wT(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ge||(l=a.type,i=a.pendingProps,c=Af($n.current).createElement(l),c[zt]=a,c[xt]=i,Xt(c,l,i),st(c),a.stateNode=c):a.memoizedState=wT(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ru(a),i===null&&Ge&&(c=a.stateNode=vT(a.type,a.pendingProps,$n.current),yn=a,qr=!0,Kt=wr(c.firstChild)),c=a.pendingProps.children,i!==null||Ge?$t(i,a,c,l):a.child=Ua(a,null,c,l),Uu(i,a),a.child;case 5:return i===null&&Ge&&((m=c=Kt)&&(c=MI(c,a.type,a.pendingProps,qr),c!==null?(a.stateNode=c,yn=a,Kt=wr(c.firstChild),qr=!1,m=!0):m=!1),m||La(a)),ru(a),m=a.type,g=a.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,gg(m,g)?c=null:T!==null&&gg(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=ip(i,a,$C,null,null,l),rc._currentValue=m),Uu(i,a),$t(i,a,c,l),a.child;case 6:return i===null&&Ge&&((i=l=Kt)&&(l=NI(l,a.pendingProps,qr),l!==null?(a.stateNode=l,yn=a,Kt=null,i=!0):i=!1),i||La(a)),null;case 13:return gE(i,a,l);case 4:return as(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Ua(a,null,c,l):$t(i,a,c,l),a.child;case 11:return lE(i,a,a.type,a.pendingProps,l);case 7:return $t(i,a,a.pendingProps,l),a.child;case 8:return $t(i,a,a.pendingProps.children,l),a.child;case 12:return $t(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Cs(a,a.type,c.value),$t(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Ga(a),m=rn(m),c=c(m),a.flags|=1,$t(i,a,c,l),a.child;case 14:return uE(i,a,a.type,a.pendingProps,l);case 15:return cE(i,a,a.type,a.pendingProps,l);case 19:return yE(i,a,l);case 22:return hE(i,a,l);case 24:return Ga(a),c=rn(kt),i===null?(m=np(),m===null&&(m=tt,g=ep(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:c,cache:m},Pp(a),Cs(a,kt,m)):(i.lanes&l&&(kp(i,a),Fu(a,null,null,l),Bu()),m=i.memoizedState,g=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Cs(a,kt,c)):(c=g.cache,Cs(a,kt,c),c!==m.cache&&Np(a,[kt],l,!0))),$t(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var xp=qe(null),Ha=null,xi=null;function Cs(i,a,l){$e(xp,a._currentValue),a._currentValue=l}function Mi(i){i._currentValue=xp.current,ft(xp)}function Mp(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function Np(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=m;for(var P=0;P<a.length;P++)if(I.context===a[P]){g.lanes|=l,I=g.alternate,I!==null&&(I.lanes|=l),Mp(g.return,l,i),c||(T=null);break e}g=I.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),Mp(T,l,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function zu(i,a,l,c){i=null;for(var m=a,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var I=m.type;Vn(m.pendingProps.value,T.value)||(i!==null?i.push(I):i=[I])}}else if(m===ss.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(rc):i=[rc])}m=m.return}i!==null&&Np(a,i,l,c),a.flags|=262144}function uf(i){for(i=i.firstContext;i!==null;){if(!Vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ga(i){Ha=i,xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return EE(Ha,i)}function cf(i,a){return Ha===null&&Ga(i),EE(i,a)}function EE(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},xi===null){if(i===null)throw Error(r(308));xi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else xi=xi.next=a;return l}var Is=!1;function Pp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ds(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Os(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,ot&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=qh(i),t0(i,null,l),a}return Fh(i,c,a,l),qh(i)}function ju(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,fs(i,l)}}function Vp(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Lp=!1;function Bu(){if(Lp){var i=tl;if(i!==null)throw i}}function Fu(i,a,l,c){Lp=!1;var m=i.updateQueue;Is=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var P=I,q=P.next;P.next=null,T===null?g=q:T.next=q,T=P;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,I=ee.lastBaseUpdate,I!==T&&(I===null?ee.firstBaseUpdate=q:I.next=q,ee.lastBaseUpdate=P))}if(g!==null){var ie=m.baseState;T=0,ee=q=P=null,I=g;do{var K=I.lane&-536870913,Z=K!==I.lane;if(Z?(Be&K)===K:(c&K)===K){K!==0&&K===el&&(Lp=!0),ee!==null&&(ee=ee.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ge=i,Se=I;K=a;var gt=l;switch(Se.tag){case 1:if(ge=Se.payload,typeof ge=="function"){ie=ge.call(gt,ie,K);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Se.payload,K=typeof ge=="function"?ge.call(gt,ie,K):ge,K==null)break e;ie=M({},ie,K);break e;case 2:Is=!0}}K=I.callback,K!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ee===null?(q=ee=Z,P=ie):ee=ee.next=Z,T|=K;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);ee===null&&(P=ie),m.baseState=P,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,g===null&&(m.shared.lanes=0),ks|=T,i.lanes=T,i.memoizedState=ie}}function TE(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function wE(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)TE(l[i],a)}function qu(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==m)}}catch(I){Je(a,a.return,I)}}function xs(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var T=c.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,m=a;var P=l;try{I()}catch(q){Je(m,P,q)}}}c=c.next}while(c!==g)}}catch(q){Je(a,a.return,q)}}function bE(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{wE(a,l)}catch(c){Je(i,i.return,c)}}}function SE(i,a,l){l.props=qa(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Je(i,a,c)}}function Ya(i,a){try{var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?i.refCleanup=l(m):l.current=m}}catch(g){Je(i,a,g)}}function Ln(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Je(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Je(i,a,m)}else l.current=null}function AE(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Je(i,i.return,m)}}function RE(i,a,l){try{var c=i.stateNode;CI(c,i.type,l,a),c[xt]=a}catch(m){Je(i,i.return,m)}}function CE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Up(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||CE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zp(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(i,a):l.insertBefore(i,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(i,l)):(a=l,a.appendChild(i)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Sf));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(zp(i,a,l),i=i.sibling;i!==null;)zp(i,a,l),i=i.sibling}function hf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(hf(i,a,l),i=i.sibling;i!==null;)hf(i,a,l),i=i.sibling}var Ni=!1,mt=!1,jp=!1,IE=typeof WeakSet=="function"?WeakSet:Set,qt=null,DE=!1;function rI(i,a){if(i=i.containerInfo,mg=xf,i=Yv(i),Fm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,I=-1,P=-1,q=0,ee=0,ie=i,K=null;t:for(;;){for(var Z;ie!==l||m!==0&&ie.nodeType!==3||(I=T+m),ie!==g||c!==0&&ie.nodeType!==3||(P=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)K=ie,ie=Z;for(;;){if(ie===i)break t;if(K===l&&++q===m&&(I=T),K===g&&++ee===c&&(P=T),(Z=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=Z}l=I===-1||P===-1?null:{start:I,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(pg={focusedElem:i,selectionRange:l},xf=!1,qt=a;qt!==null;)if(a=qt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,qt=i;else for(;qt!==null;){switch(a=qt,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var ge=qa(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Se){Je(l,l.return,Se)}}break;case 3:if(i&1024){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)vg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,qt=i;break}qt=a.return}return ge=DE,DE=!1,ge}function OE(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ki(i,l),c&4&&qu(5,l);break;case 1:if(ki(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(I){Je(l,l.return,I)}else{var m=qa(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Je(l,l.return,I)}}c&64&&bE(l),c&512&&Ya(l,l.return);break;case 3:if(ki(i,l),c&64&&(c=l.updateQueue,c!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{wE(c,i)}catch(I){Je(l,l.return,I)}}break;case 26:ki(i,l),c&512&&Ya(l,l.return);break;case 27:case 5:ki(i,l),a===null&&c&4&&AE(l),c&512&&Ya(l,l.return);break;case 12:ki(i,l);break;case 13:ki(i,l),c&4&&NE(i,l);break;case 22:if(m=l.memoizedState!==null||Ni,!m){a=a!==null&&a.memoizedState!==null||mt;var g=Ni,T=mt;Ni=m,(mt=a)&&!T?Ms(i,l,(l.subtreeFlags&8772)!==0):ki(i,l),Ni=g,mt=T}c&512&&(l.memoizedProps.mode==="manual"?Ya(l,l.return):Ln(l,l.return));break;default:ki(i,l)}}function xE(i){var a=i.alternate;a!==null&&(i.alternate=null,xE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&wa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var At=null,Un=!1;function Pi(i,a,l){for(l=l.child;l!==null;)ME(i,a,l),l=l.sibling}function ME(i,a,l){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(os,l)}catch{}switch(l.tag){case 26:mt||Ln(l,a),Pi(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||Ln(l,a);var c=At,m=Un;for(At=l.stateNode,Pi(i,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);wa(l),At=c,Un=m;break;case 5:mt||Ln(l,a);case 6:m=At;var g=Un;if(At=null,Pi(i,a,l),At=m,Un=g,At!==null)if(Un)try{i=At,c=l.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(T){Je(l,a,T)}else try{At.removeChild(l.stateNode)}catch(T){Je(l,a,T)}break;case 18:At!==null&&(Un?(a=At,l=l.stateNode,a.nodeType===8?yg(a.parentNode,l):a.nodeType===1&&yg(a,l),oc(a)):yg(At,l.stateNode));break;case 4:c=At,m=Un,At=l.stateNode.containerInfo,Un=!0,Pi(i,a,l),At=c,Un=m;break;case 0:case 11:case 14:case 15:mt||xs(2,l,a),mt||xs(4,l,a),Pi(i,a,l);break;case 1:mt||(Ln(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&SE(l,a,c)),Pi(i,a,l);break;case 21:Pi(i,a,l);break;case 22:mt||Ln(l,a),mt=(c=mt)||l.memoizedState!==null,Pi(i,a,l),mt=c;break;default:Pi(i,a,l)}}function NE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{oc(i)}catch(l){Je(a,a.return,l)}}function iI(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new IE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new IE),a;default:throw Error(r(435,i.tag))}}function Bp(i,a){var l=iI(i);a.forEach(function(c){var m=_I.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function or(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=i,T=a,I=T;e:for(;I!==null;){switch(I.tag){case 27:case 5:At=I.stateNode,Un=!1;break e;case 3:At=I.stateNode.containerInfo,Un=!0;break e;case 4:At=I.stateNode.containerInfo,Un=!0;break e}I=I.return}if(At===null)throw Error(r(160));ME(g,T,m),At=null,Un=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)PE(a,i),a=a.sibling}var Tr=null;function PE(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:or(a,i),lr(i),c&4&&(xs(3,i,i.return),qu(3,i),xs(5,i,i.return));break;case 1:or(a,i),lr(i),c&512&&(mt||l===null||Ln(l,l.return)),c&64&&Ni&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Tr;if(or(a,i),lr(i),c&512&&(mt||l===null||Ln(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ms]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Xt(g,c,l),g[zt]=i,st(g),c=g;break e;case"link":var T=AT("link","href",m).get(c+(l.href||""));if(T){for(var I=0;I<T.length;I++)if(g=T[I],g.getAttribute("href")===(l.href==null?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(I,1);break t}}g=m.createElement(c),Xt(g,c,l),m.head.appendChild(g);break;case"meta":if(T=AT("meta","content",m).get(c+(l.content||""))){for(I=0;I<T.length;I++)if(g=T[I],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(I,1);break t}}g=m.createElement(c),Xt(g,c,l),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[zt]=i,st(g),c=g}i.stateNode=c}else RT(m,i.type,i.stateNode);else i.stateNode=ST(m,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?RT(m,i.type,i.stateNode):ST(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&RE(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){m=i.stateNode,g=i.memoizedProps;try{for(var P=m.firstChild;P;){var q=P.nextSibling,ee=P.nodeName;P[ms]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&P.rel.toLowerCase()==="stylesheet"||m.removeChild(P),P=q}for(var ie=i.type,K=m.attributes;K.length;)m.removeAttributeNode(K[0]);Xt(m,ie,g),m[zt]=i,m[xt]=g}catch(ge){Je(i,i.return,ge)}}case 5:if(or(a,i),lr(i),c&512&&(mt||l===null||Ln(l,l.return)),i.flags&32){m=i.stateNode;try{Zn(m,"")}catch(ge){Je(i,i.return,ge)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,RE(i,m,l!==null?l.memoizedProps:m)),c&1024&&(jp=!0);break;case 6:if(or(a,i),lr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ge){Je(i,i.return,ge)}}break;case 3:if(If=null,m=Tr,Tr=Rf(a.containerInfo),or(a,i),Tr=m,lr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{oc(a.containerInfo)}catch(ge){Je(i,i.return,ge)}jp&&(jp=!1,kE(i));break;case 4:c=Tr,Tr=Rf(i.stateNode.containerInfo),or(a,i),lr(i),Tr=c;break;case 12:or(a,i),lr(i);break;case 13:or(a,i),lr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xp=An()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bp(i,c)));break;case 22:if(c&512&&(mt||l===null||Ln(l,l.return)),P=i.memoizedState!==null,q=l!==null&&l.memoizedState!==null,ee=Ni,ie=mt,Ni=ee||P,mt=ie||q,or(a,i),mt=ie,Ni=ee,lr(i),a=i.stateNode,a._current=i,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=P?a._visibility&-2:a._visibility|1,P&&(a=Ni||mt,l===null||q||a||sl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,a=i;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){q=l=a;try{if(m=q.stateNode,P)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=q.stateNode,I=q.memoizedProps.style;var Z=I!=null&&I.hasOwnProperty("display")?I.display:null;T.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ge){Je(q,q.return,ge)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=P?"":q.memoizedProps}catch(ge){Je(q,q.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Bp(i,l))));break;case 19:or(a,i),lr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bp(i,c)));break;case 21:break;default:or(a,i),lr(i)}}function lr(i){var a=i.flags;if(a&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(CE(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,g=Up(i);hf(i,g,m);break;case 5:var T=c.stateNode;c.flags&32&&(Zn(T,""),c.flags&=-33);var I=Up(i);hf(i,I,T);break;case 3:case 4:var P=c.stateNode.containerInfo,q=Up(i);zp(i,q,P);break;default:throw Error(r(161))}}}catch(ee){Je(i,i.return,ee)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function kE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;kE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ki(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)OE(i,a.alternate,a),a=a.sibling}function sl(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:xs(4,a,a.return),sl(a);break;case 1:Ln(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&SE(a,a.return,l),sl(a);break;case 26:case 27:case 5:Ln(a,a.return),sl(a);break;case 22:Ln(a,a.return),a.memoizedState===null&&sl(a);break;default:sl(a)}i=i.sibling}}function Ms(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,g=a,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ms(m,g,l),qu(4,g);break;case 1:if(Ms(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){Je(c,c.return,q)}if(c=g,m=c.updateQueue,m!==null){var I=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)TE(P[m],I)}catch(q){Je(c,c.return,q)}}l&&T&64&&bE(g),Ya(g,g.return);break;case 26:case 27:case 5:Ms(m,g,l),l&&c===null&&T&4&&AE(g),Ya(g,g.return);break;case 12:Ms(m,g,l);break;case 13:Ms(m,g,l),l&&T&4&&NE(m,g);break;case 22:g.memoizedState===null&&Ms(m,g,l),Ya(g,g.return);break;default:Ms(m,g,l)}a=a.sibling}}function Fp(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Nu(l))}function qp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Nu(i))}function Ns(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)VE(i,a,l,c),a=a.sibling}function VE(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ns(i,a,l,c),m&2048&&qu(9,a);break;case 3:Ns(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Nu(i)));break;case 12:if(m&2048){Ns(i,a,l,c),i=a.stateNode;try{var g=a.memoizedProps,T=g.id,I=g.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Je(a,a.return,P)}}else Ns(i,a,l,c);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?Ns(i,a,l,c):Hu(i,a):g._visibility&4?Ns(i,a,l,c):(g._visibility|=4,al(i,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&Fp(a.alternate,a);break;case 24:Ns(i,a,l,c),m&2048&&qp(a.alternate,a);break;default:Ns(i,a,l,c)}}function al(i,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,T=a,I=l,P=c,q=T.flags;switch(T.tag){case 0:case 11:case 15:al(g,T,I,P,m),qu(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&4?al(g,T,I,P,m):Hu(g,T):(ee._visibility|=4,al(g,T,I,P,m)),m&&q&2048&&Fp(T.alternate,T);break;case 24:al(g,T,I,P,m),m&&q&2048&&qp(T.alternate,T);break;default:al(g,T,I,P,m)}a=a.sibling}}function Hu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:Hu(l,c),m&2048&&Fp(c.alternate,c);break;case 24:Hu(l,c),m&2048&&qp(c.alternate,c);break;default:Hu(l,c)}a=a.sibling}}var Gu=8192;function ol(i){if(i.subtreeFlags&Gu)for(i=i.child;i!==null;)LE(i),i=i.sibling}function LE(i){switch(i.tag){case 26:ol(i),i.flags&Gu&&i.memoizedState!==null&&YI(Tr,i.memoizedState,i.memoizedProps);break;case 5:ol(i);break;case 3:case 4:var a=Tr;Tr=Rf(i.stateNode.containerInfo),ol(i),Tr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Gu,Gu=16777216,ol(i),Gu=a):ol(i));break;default:ol(i)}}function UE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Yu(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qt=c,jE(c,i)}UE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zE(i),i=i.sibling}function zE(i){switch(i.tag){case 0:case 11:case 15:Yu(i),i.flags&2048&&xs(9,i,i.return);break;case 3:Yu(i);break;case 12:Yu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&4&&(i.return===null||i.return.tag!==13)?(a._visibility&=-5,ff(i)):Yu(i);break;default:Yu(i)}}function ff(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qt=c,jE(c,i)}UE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:xs(8,a,a.return),ff(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,ff(a));break;default:ff(a)}i=i.sibling}}function jE(i,a){for(;qt!==null;){var l=qt;switch(l.tag){case 0:case 11:case 15:xs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Nu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,qt=c;else e:for(l=i;qt!==null;){c=qt;var m=c.sibling,g=c.return;if(xE(c),c===l){qt=null;break e}if(m!==null){m.return=g,qt=m;break e}qt=g}}}function sI(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(i,a,l,c){return new sI(i,a,l,c)}function Hp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ps(i,a){var l=i.alternate;return l===null?(l=ur(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function BE(i,a){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function df(i,a,l,c,m,g){var T=0;if(c=i,typeof i=="function")Hp(i)&&(T=1);else if(typeof i=="string")T=HI(i,l,mn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Qa(l.children,m,g,a);case p:T=8,m|=24;break;case _:return i=ur(12,l,a,m|2),i.elementType=_,i.lanes=g,i;case S:return i=ur(13,l,a,m),i.elementType=S,i.lanes=g,i;case D:return i=ur(19,l,a,m),i.elementType=D,i.lanes=g,i;case V:return FE(l,m,g,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case b:T=10;break e;case w:T=9;break e;case R:T=11;break e;case k:T=14;break e;case L:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=ur(T,l,a,m),a.elementType=i,a.type=c,a.lanes=g,a}function Qa(i,a,l,c){return i=ur(7,i,c,a),i.lanes=l,i}function FE(i,a,l,c){i=ur(22,i,c,a),i.elementType=V,i.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var T=ws(g,2);T!==null&&(m._pendingVisibility|=2,vn(T,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(r(456));if(m._pendingVisibility&2){var T=ws(g,2);T!==null&&(m._pendingVisibility&=-3,vn(T,g,2))}}};return i.stateNode=m,i}function Gp(i,a,l){return i=ur(6,i,null,a),i.lanes=l,i}function Yp(i,a,l){return a=ur(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function Vi(i){i.flags|=4}function qE(i,a){if(a.type!=="stylesheet"||a.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!CT(a)){if(a=ar.current,a!==null&&((Be&4194176)===Be?Hr!==null:(Be&62914560)!==Be&&!(Be&536870912)||a!==Hr))throw Ou=Wm,a0;i.flags|=8192}}function mf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?cs():536870912,i.lanes|=a,ul|=a)}function Qu(i,a){if(!Ge)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function at(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function aI(i,a,l){var c=a.pendingProps;switch($m(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(a),null;case 1:return at(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Mi(kt),pi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ru(a)?Vi(a):i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Er!==null&&(eg(Er),Er=null))),at(a),null;case 26:return l=a.memoizedState,i===null?(Vi(a),l!==null?(at(a),qE(a,l)):(at(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Vi(a),at(a),qE(a,l)):(at(a),a.flags&=-16777217):(i.memoizedProps!==c&&Vi(a),at(a),a.flags&=-16777217),null;case 27:Io(a),l=$n.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Vi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return at(a),null}i=mn.current,Ru(a)?i0(a):(i=vT(m,c,l),a.stateNode=i,Vi(a))}return at(a),null;case 5:if(Io(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Vi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return at(a),null}if(i=mn.current,Ru(a))i0(a);else{switch(m=Af($n.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[zt]=a,i[xt]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Xt(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Vi(a)}}return at(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Vi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=$n.current,Ru(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=yn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[zt]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||dT(i.nodeValue,l)),i||La(a)}else i=Af(i).createTextNode(c),i[zt]=a,a.stateNode=i}return at(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ru(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[zt]=a}else Cu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;at(a),m=!1}else Er!==null&&(eg(Er),Er=null),m=!0;if(!m)return a.flags&256?(Ii(a),a):(Ii(a),null)}if(Ii(a),a.flags&128)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),mf(a,a.updateQueue),at(a),null;case 4:return pi(),i===null&&hg(a.stateNode.containerInfo),at(a),null;case 10:return Mi(a.type),at(a),null;case 19:if(ft(Pt),m=a.memoizedState,m===null)return at(a),null;if(c=(a.flags&128)!==0,g=m.rendering,g===null)if(c)Qu(m,!1);else{if(pt!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(g=Xh(i),g!==null){for(a.flags|=128,Qu(m,!1),i=g.updateQueue,a.updateQueue=i,mf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)BE(l,i),l=l.sibling;return $e(Pt,Pt.current&1|2),a.child}i=i.sibling}m.tail!==null&&An()>pf&&(a.flags|=128,c=!0,Qu(m,!1),a.lanes=4194304)}else{if(!c)if(i=Xh(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,mf(a,i),Qu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Ge)return at(a),null}else 2*An()-m.renderingStartTime>pf&&l!==536870912&&(a.flags|=128,c=!0,Qu(m,!1),a.lanes=4194304);m.isBackwards?(g.sibling=a.child,a.child=g):(i=m.last,i!==null?i.sibling=g:a.child=g,m.last=g)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=An(),a.sibling=null,i=Pt.current,$e(Pt,c?i&1|2:i&1),a):(at(a),null);case 22:case 23:return Ii(a),Jm(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?l&536870912&&!(a.flags&128)&&(at(a),a.subtreeFlags&6&&(a.flags|=8192)):at(a),l=a.updateQueue,l!==null&&mf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&ft(za),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Mi(kt),at(a),null;case 25:return null}throw Error(r(156,a.tag))}function oI(i,a){switch($m(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Mi(kt),pi(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Io(a),null;case 13:if(Ii(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Cu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ft(Pt),null;case 4:return pi(),null;case 10:return Mi(a.type),null;case 22:case 23:return Ii(a),Jm(),i!==null&&ft(za),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Mi(kt),null;case 25:return null;default:return null}}function HE(i,a){switch($m(a),a.tag){case 3:Mi(kt),pi();break;case 26:case 27:case 5:Io(a);break;case 4:pi();break;case 13:Ii(a);break;case 19:ft(Pt);break;case 10:Mi(a.type);break;case 22:case 23:Ii(a),Jm(),i!==null&&ft(za);break;case 24:Mi(kt)}}var lI={getCacheForType:function(i){var a=rn(kt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},uI=typeof WeakMap=="function"?WeakMap:Map,ot=0,tt=null,Me=null,Be=0,nt=0,zn=null,Li=!1,ll=!1,Qp=!1,Ui=0,pt=0,ks=0,Ka=0,Kp=0,cr=0,ul=0,Ku=null,Yr=null,$p=!1,Xp=0,pf=1/0,gf=null,Vs=null,_f=!1,$a=null,$u=0,Wp=0,Zp=null,Xu=0,Jp=null;function jn(){if(ot&2&&Be!==0)return Be&-Be;if(A.T!==null){var i=el;return i!==0?i:og()}return wh()}function GE(){cr===0&&(cr=!(Be&536870912)||Ge?lu():536870912);var i=ar.current;return i!==null&&(i.flags|=32),cr}function vn(i,a,l){(i===tt&&nt===2||i.cancelPendingCommit!==null)&&(cl(i,0),zi(i,Be,cr,!1)),yt(i,l),(!(ot&2)||i!==tt)&&(i===tt&&(!(ot&2)&&(Ka|=l),pt===4&&zi(i,Be,cr,!1)),Qr(i))}function YE(i,a,l){if(ot&6)throw Error(r(327));var c=!l&&(a&60)===0&&(a&i.expiredLanes)===0||us(i,a),m=c?fI(i,a):rg(i,a,!0),g=c;do{if(m===0){ll&&!c&&zi(i,a,0,!1);break}else if(m===6)zi(i,a,0,!Li);else{if(l=i.current.alternate,g&&!cI(l)){m=rg(i,a,!1),g=!1;continue}if(m===2){if(g=a,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var I=i;m=Ku;var P=I.current.memoizedState.isDehydrated;if(P&&(cl(I,T).flags|=256),T=rg(I,T,!1),T!==2){if(Qp&&!P){I.errorRecoveryDisabledLanes|=g,Ka|=g,m=4;break e}g=Yr,Yr=m,g!==null&&eg(g)}m=T}if(g=!1,m!==2)continue}}if(m===1){cl(i,0),zi(i,a,0,!0);break}e:{switch(c=i,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){zi(c,a,cr,!Li);break e}break;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(g=Xp+300-An(),10<g)){if(zi(c,a,cr,!Li),Xn(c,0)!==0)break e;c.timeoutHandle=gT(QE.bind(null,c,l,Yr,gf,$p,a,cr,Ka,ul,Li,2,-0,0),g);break e}QE(c,l,Yr,gf,$p,a,cr,Ka,ul,Li,0,-0,0)}}break}while(!0);Qr(i)}function eg(i){Yr===null?Yr=i:Yr.push.apply(Yr,i)}function QE(i,a,l,c,m,g,T,I,P,q,ee,ie,K){var Z=a.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:GI},LE(a),a=QI(),a!==null)){i.cancelPendingCommit=a(eT.bind(null,i,l,c,m,T,I,P,1,ie,K)),zi(i,g,T,!q);return}eT(i,l,c,m,T,I,P,ee,ie,K)}function cI(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!Vn(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zi(i,a,l,c){a&=~Kp,a&=~Ka,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var g=31-pn(m),T=1<<g;c[g]=-1,m&=~T}l!==0&&hs(i,l,a)}function yf(){return ot&6?!0:(Wu(0),!1)}function tg(){if(Me!==null){if(nt===0)var i=Me.return;else i=Me,xi=Ha=null,op(i),Zo=null,xu=0,i=Me;for(;i!==null;)HE(i.alternate,i),i=i.return;Me=null}}function cl(i,a){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,DI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),tg(),tt=i,Me=l=Ps(i.current,null),Be=a,nt=0,zn=null,Li=!1,ll=us(i,a),Qp=!1,ul=cr=Kp=Ka=ks=pt=0,Yr=Ku=null,$p=!1,a&8&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-pn(c),g=1<<m;a|=i[m],c&=~g}return Ui=a,Bh(),l}function KE(i,a){De=null,A.H=Gr,a===Du?(a=u0(),nt=3):a===a0?(a=u0(),nt=4):nt=a===oE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,zn=a,Me===null&&(pt=1,lf(i,rr(a,i.current)))}function $E(){var i=A.H;return A.H=Gr,i===null?Gr:i}function XE(){var i=A.A;return A.A=lI,i}function ng(){pt=4,Li||(Be&4194176)!==Be&&ar.current!==null||(ll=!0),!(ks&134217727)&&!(Ka&134217727)||tt===null||zi(tt,Be,cr,!1)}function rg(i,a,l){var c=ot;ot|=2;var m=$E(),g=XE();(tt!==i||Be!==a)&&(gf=null,cl(i,a)),a=!1;var T=pt;e:do try{if(nt!==0&&Me!==null){var I=Me,P=zn;switch(nt){case 8:tg(),T=6;break e;case 3:case 2:case 6:ar.current===null&&(a=!0);var q=nt;if(nt=0,zn=null,hl(i,I,P,q),l&&ll){T=0;break e}break;default:q=nt,nt=0,zn=null,hl(i,I,P,q)}}hI(),T=pt;break}catch(ee){KE(i,ee)}while(!0);return a&&i.shellSuspendCounter++,xi=Ha=null,ot=c,A.H=m,A.A=g,Me===null&&(tt=null,Be=0,Bh()),T}function hI(){for(;Me!==null;)WE(Me)}function fI(i,a){var l=ot;ot|=2;var c=$E(),m=XE();tt!==i||Be!==a?(gf=null,pf=An()+500,cl(i,a)):ll=us(i,a);e:do try{if(nt!==0&&Me!==null){a=Me;var g=zn;t:switch(nt){case 1:nt=0,zn=null,hl(i,a,g,1);break;case 2:if(o0(g)){nt=0,zn=null,ZE(a);break}a=function(){nt===2&&tt===i&&(nt=7),Qr(i)},g.then(a,a);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:o0(g)?(nt=0,zn=null,ZE(a)):(nt=0,zn=null,hl(i,a,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var I=Me;if(!T||CT(T)){nt=0,zn=null;var P=I.sibling;if(P!==null)Me=P;else{var q=I.return;q!==null?(Me=q,vf(q)):Me=null}break t}}nt=0,zn=null,hl(i,a,g,5);break;case 6:nt=0,zn=null,hl(i,a,g,6);break;case 8:tg(),pt=6;break e;default:throw Error(r(462))}}dI();break}catch(ee){KE(i,ee)}while(!0);return xi=Ha=null,A.H=c,A.A=m,ot=l,Me!==null?0:(tt=null,Be=0,Bh(),pt)}function dI(){for(;Me!==null&&!xm();)WE(Me)}function WE(i){var a=vE(i.alternate,i,Ui);i.memoizedProps=i.pendingProps,a===null?vf(i):Me=a}function ZE(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=dE(l,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=dE(l,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:op(a);default:HE(l,a),a=Me=BE(a,Ui),a=vE(l,a,Ui)}i.memoizedProps=i.pendingProps,a===null?vf(i):Me=a}function hl(i,a,l,c){xi=Ha=null,op(a),Zo=null,xu=0;var m=a.return;try{if(tI(i,m,a,l,Be)){pt=1,lf(i,rr(l,i.current)),Me=null;return}}catch(g){if(m!==null)throw Me=m,g;pt=1,lf(i,rr(l,i.current)),Me=null;return}a.flags&32768?(Ge||c===1?i=!0:ll||Be&536870912?i=!1:(Li=i=!0,(c===2||c===3||c===6)&&(c=ar.current,c!==null&&c.tag===13&&(c.flags|=16384))),JE(a,i)):vf(a)}function vf(i){var a=i;do{if(a.flags&32768){JE(a,Li);return}i=a.return;var l=aI(a.alternate,a,Ui);if(l!==null){Me=l;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=i}while(a!==null);pt===0&&(pt=5)}function JE(i,a){do{var l=oI(i.alternate,i);if(l!==null){l.flags&=32767,Me=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Me=i;return}Me=i=l}while(i!==null);pt=6,Me=null}function eT(i,a,l,c,m,g,T,I,P,q){var ee=A.T,ie=le.p;try{le.p=2,A.T=null,mI(i,a,l,c,ie,m,g,T,I,P,q)}finally{A.T=ee,le.p=ie}}function mI(i,a,l,c,m,g,T,I){do fl();while($a!==null);if(ot&6)throw Error(r(327));var P=i.finishedWork;if(c=i.finishedLanes,P===null)return null;if(i.finishedWork=null,i.finishedLanes=0,P===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var q=P.lanes|P.childLanes;if(q|=Ym,Eh(i,c,q,g,T,I),i===tt&&(Me=tt=null,Be=0),!(P.subtreeFlags&10256)&&!(P.flags&10256)||_f||(_f=!0,Wp=q,Zp=l,yI(gi,function(){return fl(),null})),l=(P.flags&15990)!==0,P.subtreeFlags&15990||l?(l=A.T,A.T=null,g=le.p,le.p=2,T=ot,ot|=4,rI(i,P),PE(P,i),UC(pg,i.containerInfo),xf=!!mg,pg=mg=null,i.current=P,OE(i,P.alternate,P),iu(),ot=T,le.p=g,A.T=l):i.current=P,_f?(_f=!1,$a=i,$u=c):tT(i,q),q=i.pendingLanes,q===0&&(Vs=null),au(P.stateNode),Qr(i),a!==null)for(m=i.onRecoverableError,P=0;P<a.length;P++)q=a[P],m(q.value,{componentStack:q.stack});return $u&3&&fl(),q=i.pendingLanes,c&4194218&&q&42?i===Jp?Xu++:(Xu=0,Jp=i):Xu=0,Wu(0),null}function tT(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Nu(a)))}function fl(){if($a!==null){var i=$a,a=Wp;Wp=0;var l=Th($u),c=A.T,m=le.p;try{if(le.p=32>l?32:l,A.T=null,$a===null)var g=!1;else{l=Zp,Zp=null;var T=$a,I=$u;if($a=null,$u=0,ot&6)throw Error(r(331));var P=ot;if(ot|=4,zE(T.current),VE(T,T.current,I,l),ot=P,Wu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(os,T)}catch{}g=!0}return g}finally{le.p=m,A.T=c,tT(i,a)}}return!1}function nT(i,a,l){a=rr(l,a),a=Tp(i.stateNode,a,2),i=Os(i,a,2),i!==null&&(yt(i,2),Qr(i))}function Je(i,a,l){if(i.tag===3)nT(i,i,l);else for(;a!==null;){if(a.tag===3){nT(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Vs===null||!Vs.has(c))){i=rr(l,i),l=sE(2),c=Os(a,l,2),c!==null&&(aE(l,c,a,i),yt(c,2),Qr(c));break}}a=a.return}}function ig(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new uI;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Qp=!0,m.add(l),i=pI.bind(null,i,a,l),a.then(i,i))}function pI(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,tt===i&&(Be&l)===l&&(pt===4||pt===3&&(Be&62914560)===Be&&300>An()-Xp?!(ot&2)&&cl(i,0):Kp|=l,ul===Be&&(ul=0)),Qr(i)}function rT(i,a){a===0&&(a=cs()),i=ws(i,a),i!==null&&(yt(i,a),Qr(i))}function gI(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),rT(i,l)}function _I(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),rT(i,l)}function yI(i,a){return va(i,a)}var Ef=null,dl=null,sg=!1,Tf=!1,ag=!1,Xa=0;function Qr(i){i!==dl&&i.next===null&&(dl===null?Ef=dl=i:dl=dl.next=i),Tf=!0,sg||(sg=!0,EI(vI))}function Wu(i,a){if(!ag&&Tf){ag=!0;do for(var l=!1,c=Ef;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-pn(42|i)+1)-1,g&=m&~(T&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(l=!0,aT(c,g))}else g=Be,g=Xn(c,c===tt?g:0),!(g&3)||us(c,g)||(l=!0,aT(c,g));c=c.next}while(l);ag=!1}}function vI(){Tf=sg=!1;var i=0;Xa!==0&&(II()&&(i=Xa),Xa=0);for(var a=An(),l=null,c=Ef;c!==null;){var m=c.next,g=iT(c,a);g===0?(c.next=null,l===null?Ef=m:l.next=m,m===null&&(dl=l)):(l=c,(i!==0||g&3)&&(Tf=!0)),c=m}Wu(i)}function iT(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-pn(g),I=1<<T,P=m[T];P===-1?(!(I&l)||I&c)&&(m[T]=xo(I,a)):P<=a&&(i.expiredLanes|=I),g&=~I}if(a=tt,l=Be,l=Xn(i,i===a?l:0),c=i.callbackNode,l===0||i===a&&nt===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Oo(c),i.callbackNode=null,i.callbackPriority=0;if(!(l&3)||us(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Oo(c),Th(l)){case 2:case 8:l=Ut;break;case 32:l=gi;break;case 268435456:l=su;break;default:l=gi}return c=sT.bind(null,i),l=va(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Oo(c),i.callbackPriority=2,i.callbackNode=null,2}function sT(i,a){var l=i.callbackNode;if(fl()&&i.callbackNode!==l)return null;var c=Be;return c=Xn(i,i===tt?c:0),c===0?null:(YE(i,c,a),iT(i,An()),i.callbackNode!=null&&i.callbackNode===l?sT.bind(null,i):null)}function aT(i,a){if(fl())return null;YE(i,a,!0)}function EI(i){OI(function(){ot&6?va(Ot,i):i()})}function og(){return Xa===0&&(Xa=lu()),Xa}function oT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vr(""+i)}function lT(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function TI(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var g=oT((m[xt]||null).action),T=c.submitter;T&&(a=(a=T[xt]||null)?oT(a.formAction):T.getAttribute("formAction"),a!==null&&(g=a,T=null));var I=new Uo("action","action",null,c,m);i.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xa!==0){var P=T?lT(m,T):new FormData(m);gp(l,{pending:!0,data:P,method:m.method,action:g},null,P)}}else typeof g=="function"&&(I.preventDefault(),P=T?lT(m,T):new FormData(m),gp(l,{pending:!0,data:P,method:m.method,action:g},g,P))},currentTarget:m}]})}}for(var lg=0;lg<e0.length;lg++){var ug=e0[lg],wI=ug.toLowerCase(),bI=ug[0].toUpperCase()+ug.slice(1);vr(wI,"on"+bI)}vr($v,"onAnimationEnd"),vr(Xv,"onAnimationIteration"),vr(Wv,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(jC,"onTransitionRun"),vr(BC,"onTransitionStart"),vr(FC,"onTransitionCancel"),vr(Zv,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function uT(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var T=c.length-1;0<=T;T--){var I=c[T],P=I.instance,q=I.currentTarget;if(I=I.listener,P!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=q;try{g(m)}catch(ee){of(ee)}m.currentTarget=null,g=P}else for(T=0;T<c.length;T++){if(I=c[T],P=I.instance,q=I.currentTarget,I=I.listener,P!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=q;try{g(m)}catch(ee){of(ee)}m.currentTarget=null,g=P}}}}function Ve(i,a){var l=a[Ta];l===void 0&&(l=a[Ta]=new Set);var c=i+"__bubble";l.has(c)||(cT(a,i,2,!1),l.add(c))}function cg(i,a,l){var c=0;a&&(c|=4),cT(l,i,c,a)}var wf="_reactListening"+Math.random().toString(36).slice(2);function hg(i){if(!i[wf]){i[wf]=!0,cu.forEach(function(l){l!=="selectionchange"&&(SI.has(l)||cg(l,!1,i),cg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[wf]||(a[wf]=!0,cg("selectionchange",!1,a))}}function cT(i,a,l,c){switch(NT(a)){case 2:var m=XI;break;case 8:m=WI;break;default:m=Sg}l=m.bind(null,a,l,i),m=void 0,!er||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function fg(i,a,l,c,m){var g=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var I=c.stateNode.containerInfo;if(I===m||I.nodeType===8&&I.parentNode===m)break;if(T===4)for(T=c.return;T!==null;){var P=T.tag;if((P===3||P===4)&&(P=T.stateNode.containerInfo,P===m||P.nodeType===8&&P.parentNode===m))return;T=T.return}for(;I!==null;){if(T=yr(I),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){c=g=T;continue e}I=I.parentNode}}c=c.return}Rh(function(){var q=g,ee=Lo(l),ie=[];e:{var K=Jv.get(i);if(K!==void 0){var Z=Uo,ge=i;switch(i){case"keypress":if(Ur(l)===0)break e;case"keydown":case"keyup":Z=Ho;break;case"focusin":ge="focus",Z=Bo;break;case"focusout":ge="blur",Z=Bo;break;case"beforeblur":case"afterblur":Z=Bo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Ph;break;case $v:case Xv:case Wv:Z=Fo;break;case Zv:Z=Vh;break;case"scroll":case"scrollend":Z=Ch;break;case"wheel":Z=Go;break;case"copy":case"cut":case"paste":Z=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=wu;break;case"toggle":case"beforetoggle":Z=Uh}var Se=(a&4)!==0,gt=!Se&&(i==="scroll"||i==="scrollend"),G=Se?K!==null?K+"Capture":null:K;Se=[];for(var B=q,Q;B!==null;){var te=B;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||G===null||(te=Ra(B,G),te!=null&&Se.push(Ju(B,te,Q))),gt)break;B=B.return}0<Se.length&&(K=new Z(K,ge,null,l,ee),ie.push({event:K,listeners:Se}))}}if(!(a&7)){e:{if(K=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",K&&l!==Jn&&(ge=l.relatedTarget||l.fromElement)&&(yr(ge)||ge[_i]))break e;if((Z||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(ge=l.relatedTarget||l.toElement,Z=q,ge=ge?yr(ge):null,ge!==null&&(gt=de(ge),Se=ge.tag,ge!==gt||Se!==5&&Se!==27&&Se!==6)&&(ge=null)):(Z=null,ge=q),Z!==ge)){if(Se=tr,te="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Se=wu,te="onPointerLeave",G="onPointerEnter",B="pointer"),gt=Z==null?K:ps(Z),Q=ge==null?K:ps(ge),K=new Se(te,B+"leave",Z,l,ee),K.target=gt,K.relatedTarget=Q,te=null,yr(ee)===q&&(Se=new Se(G,B+"enter",ge,l,ee),Se.target=Q,Se.relatedTarget=gt,te=Se),gt=te,Z&&ge)t:{for(Se=Z,G=ge,B=0,Q=Se;Q;Q=ml(Q))B++;for(Q=0,te=G;te;te=ml(te))Q++;for(;0<B-Q;)Se=ml(Se),B--;for(;0<Q-B;)G=ml(G),Q--;for(;B--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=ml(Se),G=ml(G)}Se=null}else Se=null;Z!==null&&hT(ie,K,Z,Se,!1),ge!==null&&gt!==null&&hT(ie,gt,ge,Se,!0)}}e:{if(K=q?ps(q):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var pe=Uv;else if(Nt(K))if(zv)pe=VC;else{pe=PC;var Oe=NC}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&pu(q.elementType)&&(pe=Uv):pe=kC;if(pe&&(pe=pe(i,q))){Ai(ie,pe,l,ee);break e}Oe&&Oe(i,K,q),i==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Vo(K,"number",K.value)}switch(Oe=q?ps(q):window,i){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(Yo=Oe,qm=q,Au=null);break;case"focusout":Au=qm=Yo=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,Qv(ie,l,ee);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":Qv(ie,l,ee)}var _e;if(Br)e:{switch(i){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ze?W(i,l)&&(ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(E&&l.locale!=="ko"&&(ze||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ze&&(_e=_u()):(Lr=ee,Ts="value"in Lr?Lr.value:Lr.textContent,ze=!0)),Oe=bf(q,ve),0<Oe.length&&(ve=new Eu(ve,i,null,l,ee),ie.push({event:ve,listeners:Oe}),_e?ve.data=_e:(_e=oe(l),_e!==null&&(ve.data=_e)))),(_e=y?Mt(i,l):je(i,l))&&(ve=bf(q,"onBeforeInput"),0<ve.length&&(Oe=new Eu("onBeforeInput","beforeinput",null,l,ee),ie.push({event:Oe,listeners:ve}),Oe.data=_e)),TI(ie,i,q,l,ee)}uT(ie,a)})}function Ju(i,a,l){return{instance:i,listener:a,currentTarget:l}}function bf(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ra(i,l),m!=null&&c.unshift(Ju(i,m,g)),m=Ra(i,a),m!=null&&c.push(Ju(i,m,g))),i=i.return}return c}function ml(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hT(i,a,l,c,m){for(var g=a._reactName,T=[];l!==null&&l!==c;){var I=l,P=I.alternate,q=I.stateNode;if(I=I.tag,P!==null&&P===c)break;I!==5&&I!==26&&I!==27||q===null||(P=q,m?(q=Ra(l,g),q!=null&&T.unshift(Ju(l,q,P))):m||(q=Ra(l,g),q!=null&&T.push(Ju(l,q,P)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var AI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function fT(i){return(typeof i=="string"?i:""+i).replace(AI,`
`).replace(RI,"")}function dT(i,a){return a=fT(a),fT(i)===a}function Sf(){}function Ze(i,a,l,c,m,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Zn(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Zn(i,""+c);break;case"className":ys(i,"class",c);break;case"tabIndex":ys(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(i,l,c);break;case"style":Ah(i,c,g);break;case"data":if(a!=="object"){ys(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Vr(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&Ze(i,a,"name",m.name,m,null),Ze(i,a,"formEncType",m.formEncType,m,null),Ze(i,a,"formMethod",m.formMethod,m,null),Ze(i,a,"formTarget",m.formTarget,m,null)):(Ze(i,a,"encType",m.encType,m,null),Ze(i,a,"method",m.method,m,null),Ze(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Vr(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Sf);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Vr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),_s(i,"popover",c);break;case"xlinkActuate":Wn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_s(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vm.get(l)||l,_s(i,l,c))}}function dg(i,a,l,c,m,g){switch(l){case"style":Ah(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Zn(i,c):(typeof c=="number"||typeof c=="bigint")&&Zn(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=i[xt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):_s(i,l,c)}}}function Xt(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,g,T,l,null)}}m&&Ze(i,a,"srcSet",l.srcSet,l,null),c&&Ze(i,a,"src",l.src,l,null);return;case"input":Ve("invalid",i);var I=g=T=m=null,P=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":T=ee;break;case"checked":P=ee;break;case"defaultChecked":q=ee;break;case"value":g=ee;break;case"defaultValue":I=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:Ze(i,a,c,ee,l,null)}}Sa(i,g,I,P,q,T,m,!1),ba(i);return;case"select":Ve("invalid",i),c=T=g=null;for(m in l)if(l.hasOwnProperty(m)&&(I=l[m],I!=null))switch(m){case"value":g=I;break;case"defaultValue":T=I;break;case"multiple":c=I;default:Ze(i,a,m,I,l,null)}a=g,l=T,i.multiple=!!c,a!=null?He(i,!!c,a,!1):l!=null&&He(i,!!c,l,!0);return;case"textarea":Ve("invalid",i),g=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(I=l[T],I!=null))switch(T){case"value":c=I;break;case"defaultValue":m=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ze(i,a,T,I,l,null)}Es(i,c,m,g),ba(i);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(i,a,P,c,l,null)}return;case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<Zu.length;c++)Ve(Zu[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,q,c,l,null)}return;default:if(pu(a)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&dg(i,a,ee,c,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(c=l[I],c!=null&&Ze(i,a,I,c,l,null))}function CI(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,I=null,P=null,q=null,ee=null;for(Z in l){var ie=l[Z];if(l.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=ie;default:c.hasOwnProperty(Z)||Ze(i,a,Z,null,c,ie)}}for(var K in c){var Z=c[K];if(ie=l[K],c.hasOwnProperty(K)&&(Z!=null||ie!=null))switch(K){case"type":g=Z;break;case"name":m=Z;break;case"checked":q=Z;break;case"defaultChecked":ee=Z;break;case"value":T=Z;break;case"defaultValue":I=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:Z!==ie&&Ze(i,a,K,Z,c,ie)}}vs(i,T,I,P,q,ee,g,m);return;case"select":Z=T=I=K=null;for(g in l)if(P=l[g],l.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":Z=P;default:c.hasOwnProperty(g)||Ze(i,a,g,null,c,P)}for(m in c)if(g=c[m],P=l[m],c.hasOwnProperty(m)&&(g!=null||P!=null))switch(m){case"value":K=g;break;case"defaultValue":I=g;break;case"multiple":T=g;default:g!==P&&Ze(i,a,m,g,c,P)}a=I,l=T,c=Z,K!=null?He(i,!!l,K,!1):!!c!=!!l&&(a!=null?He(i,!!l,a,!0):He(i,!!l,l?[]:"",!1));return;case"textarea":Z=K=null;for(I in l)if(m=l[I],l.hasOwnProperty(I)&&m!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ze(i,a,I,null,c,m)}for(T in c)if(m=c[T],g=l[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":K=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&Ze(i,a,T,m,c,g)}Aa(i,K,Z);return;case"option":for(var ge in l)if(K=l[ge],l.hasOwnProperty(ge)&&K!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:Ze(i,a,ge,null,c,K)}for(P in c)if(K=c[P],Z=l[P],c.hasOwnProperty(P)&&K!==Z&&(K!=null||Z!=null))switch(P){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(i,a,P,K,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)K=l[Se],l.hasOwnProperty(Se)&&K!=null&&!c.hasOwnProperty(Se)&&Ze(i,a,Se,null,c,K);for(q in c)if(K=c[q],Z=l[q],c.hasOwnProperty(q)&&K!==Z&&(K!=null||Z!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:Ze(i,a,q,K,c,Z)}return;default:if(pu(a)){for(var gt in l)K=l[gt],l.hasOwnProperty(gt)&&K!==void 0&&!c.hasOwnProperty(gt)&&dg(i,a,gt,void 0,c,K);for(ee in c)K=c[ee],Z=l[ee],!c.hasOwnProperty(ee)||K===Z||K===void 0&&Z===void 0||dg(i,a,ee,K,c,Z);return}}for(var G in l)K=l[G],l.hasOwnProperty(G)&&K!=null&&!c.hasOwnProperty(G)&&Ze(i,a,G,null,c,K);for(ie in c)K=c[ie],Z=l[ie],!c.hasOwnProperty(ie)||K===Z||K==null&&Z==null||Ze(i,a,ie,K,c,Z)}var mg=null,pg=null;function Af(i){return i.nodeType===9?i:i.ownerDocument}function mT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pT(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function gg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _g=null;function II(){var i=window.event;return i&&i.type==="popstate"?i===_g?!1:(_g=i,!0):(_g=null,!1)}var gT=typeof setTimeout=="function"?setTimeout:void 0,DI=typeof clearTimeout=="function"?clearTimeout:void 0,_T=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof _T<"u"?function(i){return _T.resolve(null).then(i).catch(xI)}:gT;function xI(i){setTimeout(function(){throw i})}function yg(i,a){var l=a,c=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){i.removeChild(m),oc(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);oc(a)}function vg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vg(l),wa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function MI(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ms])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=wr(i.nextSibling),i===null)break}return null}function NI(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=wr(i.nextSibling),i===null))return null;return i}function wr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}function yT(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function vT(i,a,l){switch(a=Af(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var hr=new Map,ET=new Set;function Rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ji=le.d;le.d={f:PI,r:kI,D:VI,C:LI,L:UI,m:zI,X:BI,S:jI,M:FI};function PI(){var i=ji.f(),a=yf();return i||a}function kI(i){var a=yi(i);a!==null&&a.tag===5&&a.type==="form"?Q0(a):ji.r(i)}var pl=typeof document>"u"?null:document;function TT(i,a,l){var c=pl;if(c&&typeof a=="string"&&a){var m=dt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ET.has(m)||(ET.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Xt(a,"link",i),st(a),c.head.appendChild(a)))}}function VI(i){ji.D(i),TT("dns-prefetch",i,null)}function LI(i,a){ji.C(i,a),TT("preconnect",i,a)}function UI(i,a,l){ji.L(i,a,l);var c=pl;if(c&&i&&a){var m='link[rel="preload"][as="'+dt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+dt(l.imageSizes)+'"]')):m+='[href="'+dt(i)+'"]';var g=m;switch(a){case"style":g=gl(i);break;case"script":g=_l(i)}hr.has(g)||(i=M({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),hr.set(g,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(ec(g))||a==="script"&&c.querySelector(tc(g))||(a=c.createElement("link"),Xt(a,"link",i),st(a),c.head.appendChild(a)))}}function zI(i,a){ji.m(i,a);var l=pl;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+dt(c)+'"][href="'+dt(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=_l(i)}if(!hr.has(g)&&(i=M({rel:"modulepreload",href:i},a),hr.set(g,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(tc(g)))return}c=l.createElement("link"),Xt(c,"link",i),st(c),l.head.appendChild(c)}}}function jI(i,a,l){ji.S(i,a,l);var c=pl;if(c&&i){var m=gs(c).hoistableStyles,g=gl(i);a=a||"default";var T=m.get(g);if(!T){var I={loading:0,preload:null};if(T=c.querySelector(ec(g)))I.loading=5;else{i=M({rel:"stylesheet",href:i,"data-precedence":a},l),(l=hr.get(g))&&Eg(i,l);var P=T=c.createElement("link");st(P),Xt(P,"link",i),P._p=new Promise(function(q,ee){P.onload=q,P.onerror=ee}),P.addEventListener("load",function(){I.loading|=1}),P.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Cf(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:I},m.set(g,T)}}}function BI(i,a){ji.X(i,a);var l=pl;if(l&&i){var c=gs(l).hoistableScripts,m=_l(i),g=c.get(m);g||(g=l.querySelector(tc(m)),g||(i=M({src:i,async:!0},a),(a=hr.get(m))&&Tg(i,a),g=l.createElement("script"),st(g),Xt(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function FI(i,a){ji.M(i,a);var l=pl;if(l&&i){var c=gs(l).hoistableScripts,m=_l(i),g=c.get(m);g||(g=l.querySelector(tc(m)),g||(i=M({src:i,async:!0,type:"module"},a),(a=hr.get(m))&&Tg(i,a),g=l.createElement("script"),st(g),Xt(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function wT(i,a,l,c){var m=(m=$n.current)?Rf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gl(l.href),l=gs(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=gl(l.href);var g=gs(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(ec(i)))&&!g._p&&(T.instance=g,T.state.loading=5),hr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hr.set(i,l),g||qI(m,i,l,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_l(l),l=gs(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function gl(i){return'href="'+dt(i)+'"'}function ec(i){return'link[rel="stylesheet"]['+i+"]"}function bT(i){return M({},i,{"data-precedence":i.precedence,precedence:null})}function qI(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Xt(a,"link",l),st(a),i.head.appendChild(a))}function _l(i){return'[src="'+dt(i)+'"]'}function tc(i){return"script[async]"+i}function ST(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+dt(l.href)+'"]');if(c)return a.instance=c,st(c),c;var m=M({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),st(c),Xt(c,"style",m),Cf(c,l.precedence,i),a.instance=c;case"stylesheet":m=gl(l.href);var g=i.querySelector(ec(m));if(g)return a.state.loading|=4,a.instance=g,st(g),g;c=bT(l),(m=hr.get(m))&&Eg(c,m),g=(i.ownerDocument||i).createElement("link"),st(g);var T=g;return T._p=new Promise(function(I,P){T.onload=I,T.onerror=P}),Xt(g,"link",c),a.state.loading|=4,Cf(g,l.precedence,i),a.instance=g;case"script":return g=_l(l.src),(m=i.querySelector(tc(g)))?(a.instance=m,st(m),m):(c=l,(m=hr.get(g))&&(c=M({},l),Tg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),st(m),Xt(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,Cf(c,l.precedence,i));return a.instance}function Cf(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var I=c[T];if(I.dataset.precedence===a)g=I;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Eg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Tg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var If=null;function AT(i,a,l){if(If===null){var c=new Map,m=If=new Map;m.set(l,c)}else m=If,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[ms]||g[zt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(a)||"";T=i+T;var I=c.get(T);I?I.push(g):c.set(T,[g])}}return c}function RT(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function HI(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function CT(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var nc=null;function GI(){}function YI(i,a,l){if(nc===null)throw Error(r(475));var c=nc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=gl(l.href),g=i.querySelector(ec(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Df.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,st(g);return}g=i.ownerDocument||i,l=bT(l),(m=hr.get(m))&&Eg(l,m),g=g.createElement("link"),st(g);var T=g;T._p=new Promise(function(I,P){T.onload=I,T.onerror=P}),Xt(g,"link",l),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=Df.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function QI(){if(nc===null)throw Error(r(475));var i=nc;return i.stylesheets&&i.count===0&&wg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&wg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Df(){if(this.count--,this.count===0){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Of=null;function wg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Of=new Map,a.forEach(KI,i),Of=null,Df.call(i))}function KI(i,a){if(!(a.state.loading&4)){var l=Of.get(i);if(l)var c=l.get(null);else{l=new Map,Of.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=a.instance,T=m.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,m),l.set(T,m),this.count++,c=Df.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var rc={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function $I(i,a,l,c,m,g,T,I){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.hiddenUpdates=Mo(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function IT(i,a,l,c,m,g,T,I,P,q,ee,ie){return i=new $I(i,a,l,T,I,P,q,ie),a=1,g===!0&&(a|=24),g=ur(3,null,null,a),i.current=g,g.stateNode=i,a=ep(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},Pp(g),i}function DT(i){return i?(i=$o,i):$o}function OT(i,a,l,c,m,g){m=DT(m),c.context===null?c.context=m:c.pendingContext=m,c=Ds(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Os(i,c,a),l!==null&&(vn(l,i,a),ju(l,i,a))}function xT(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function bg(i,a){xT(i,a),(i=i.alternate)&&xT(i,a)}function MT(i){if(i.tag===13){var a=ws(i,67108864);a!==null&&vn(a,i,67108864),bg(i,67108864)}}var xf=!0;function XI(i,a,l,c){var m=A.T;A.T=null;var g=le.p;try{le.p=2,Sg(i,a,l,c)}finally{le.p=g,A.T=m}}function WI(i,a,l,c){var m=A.T;A.T=null;var g=le.p;try{le.p=8,Sg(i,a,l,c)}finally{le.p=g,A.T=m}}function Sg(i,a,l,c){if(xf){var m=Ag(c);if(m===null)fg(i,a,c,Mf,l),PT(i,c);else if(JI(m,i,a,l,c))c.stopPropagation();else if(PT(i,c),a&4&&-1<ZI.indexOf(i)){for(;m!==null;){var g=yi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=_r(g.pendingLanes);if(T!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var P=1<<31-pn(T);I.entanglements[1]|=P,T&=~P}Qr(g),!(ot&6)&&(pf=An()+500,Wu(0))}}break;case 13:I=ws(g,2),I!==null&&vn(I,g,2),yf(),bg(g,2)}if(g=Ag(c),g===null&&fg(i,a,c,Mf,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else fg(i,a,c,null,l)}}function Ag(i){return i=Lo(i),Rg(i)}var Mf=null;function Rg(i){if(Mf=null,i=yr(i),i!==null){var a=de(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=ke(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mf=i,null}function NT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gh()){case Ot:return 2;case Ut:return 8;case gi:case _h:return 32;case su:return 268435456;default:return 32}default:return 32}}var Cg=!1,Ls=null,Us=null,zs=null,ic=new Map,sc=new Map,js=[],ZI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PT(i,a){switch(i){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":ic.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(a.pointerId)}}function ac(i,a,l,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},a!==null&&(a=yi(a),a!==null&&MT(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function JI(i,a,l,c,m){switch(a){case"focusin":return Ls=ac(Ls,i,a,l,c,m),!0;case"dragenter":return Us=ac(Us,i,a,l,c,m),!0;case"mouseover":return zs=ac(zs,i,a,l,c,m),!0;case"pointerover":var g=m.pointerId;return ic.set(g,ac(ic.get(g)||null,i,a,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,sc.set(g,ac(sc.get(g)||null,i,a,l,c,m)),!0}return!1}function kT(i){var a=yr(i.target);if(a!==null){var l=de(a);if(l!==null){if(a=l.tag,a===13){if(a=ke(l),a!==null){i.blockedOn=a,ds(i.priority,function(){if(l.tag===13){var c=jn(),m=ws(l,c);m!==null&&vn(m,l,c),bg(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Ag(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Jn=c,l.target.dispatchEvent(c),Jn=null}else return a=yi(l),a!==null&&MT(a),i.blockedOn=l,!1;a.shift()}return!0}function VT(i,a,l){Nf(i)&&l.delete(a)}function eD(){Cg=!1,Ls!==null&&Nf(Ls)&&(Ls=null),Us!==null&&Nf(Us)&&(Us=null),zs!==null&&Nf(zs)&&(zs=null),ic.forEach(VT),sc.forEach(VT)}function Pf(i,a){i.blockedOn===a&&(i.blockedOn=null,Cg||(Cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eD)))}var kf=null;function LT(i){kf!==i&&(kf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kf===i&&(kf=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(Rg(c||l)===null)continue;break}var g=yi(l);g!==null&&(i.splice(a,3),a-=3,gp(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function oc(i){function a(P){return Pf(P,i)}Ls!==null&&Pf(Ls,i),Us!==null&&Pf(Us,i),zs!==null&&Pf(zs,i),ic.forEach(a),sc.forEach(a);for(var l=0;l<js.length;l++){var c=js[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<js.length&&(l=js[0],l.blockedOn===null);)kT(l),l.blockedOn===null&&js.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],T=m[xt]||null;if(typeof g=="function")T||LT(l);else if(T){var I=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[xt]||null)I=T.formAction;else if(Rg(m)!==null)continue}else I=T.action;typeof I=="function"?l[c+1]=I:(l.splice(c,3),c-=3),LT(l)}}}function Ig(i){this._internalRoot=i}Vf.prototype.render=Ig.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=jn();OT(l,c,i,a,null,null)},Vf.prototype.unmount=Ig.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;i.tag===0&&fl(),OT(i.current,2,null,i,null,null),yf(),a[_i]=null}};function Vf(i){this._internalRoot=i}Vf.prototype.unstable_scheduleHydration=function(i){if(i){var a=wh();i={blockedOn:null,target:i,priority:a};for(var l=0;l<js.length&&a!==0&&a<js[l].priority;l++);js.splice(l,0,i),l===0&&kT(i)}};var UT=e.version;if(UT!=="19.0.0")throw Error(r(527,UT,"19.0.0"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=se(a),i=i!==null?me(i):null,i=i===null?null:i.stateNode,i};var tD={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:yr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{os=Lf.inject(tD),nn=Lf}catch{}}return uc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=tE,g=nE,T=rE,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=IT(i,1,!1,null,null,l,c,m,g,T,I,null),i[_i]=a.current,hg(i.nodeType===8?i.parentNode:i),new Ig(a)},uc.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",g=tE,T=nE,I=rE,P=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),a=IT(i,1,!0,a,l??null,c,m,g,T,I,P,q),a.context=DT(null),l=a.current,c=jn(),m=Ds(c),m.callback=null,Os(l,m,c),a.current.lanes=c,yt(a,c),Qr(a),i[_i]=a.current,hg(i),new Vf(a)},uc.version="19.0.0",uc}var KT;function mD(){if(KT)return xg.exports;KT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xg.exports=dD(),xg.exports}var pD=mD(),$=$d();const ao=sD($);var Vg={exports:{}},Lg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function gD(){if($T)return Lg;$T=1;var n=$d();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,o=n.useEffect,u=n.useMemo,h=n.useDebugValue;return Lg.useSyncExternalStoreWithSelector=function(d,p,_,v,w){var b=s(null);if(b.current===null){var R={hasValue:!1,value:null};b.current=R}else R=b.current;b=u(function(){function D(F){if(!k){if(k=!0,L=F,F=v(F),w!==void 0&&R.hasValue){var X=R.value;if(w(X,F))return V=X}return V=F}if(X=V,t(L,F))return X;var x=v(F);return w!==void 0&&w(X,x)?(L=F,X):(L=F,V=x)}var k=!1,L,V,H=_===void 0?null:_;return[function(){return D(p())},H===null?void 0:function(){return D(H())}]},[p,_,v,w]);var S=r(d,b[0],b[1]);return o(function(){R.hasValue=!0,R.value=S},[S]),h(S),S},Lg}var XT;function _D(){return XT||(XT=1,Vg.exports=gD()),Vg.exports}var yD=_D();function vD(n){n()}function ED(){let n=null,e=null;return{clear(){n=null,e=null},notify(){vD(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var WT={notify(){},get:()=>[]};function TD(n,e){let t,r=WT,s=0,o=!1;function u(S){_();const D=r.subscribe(S);let k=!1;return()=>{k||(k=!0,D(),v())}}function h(){r.notify()}function d(){R.onStateChange&&R.onStateChange()}function p(){return o}function _(){s++,t||(t=n.subscribe(d),r=ED())}function v(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=WT)}function w(){o||(o=!0,_())}function b(){o&&(o=!1,v())}const R={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:p,trySubscribe:w,tryUnsubscribe:b,getListeners:()=>r};return R}var wD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bD=wD(),SD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AD=SD(),RD=()=>bD||AD?$.useLayoutEffect:$.useEffect,CD=RD(),Ug=Symbol.for("react-redux-context"),zg=typeof globalThis<"u"?globalThis:{};function ID(){if(!$.createContext)return{};const n=zg[Ug]??(zg[Ug]=new Map);let e=n.get($.createContext);return e||(e=$.createContext(null),n.set($.createContext,e)),e}var ra=ID();function DD(n){const{children:e,context:t,serverState:r,store:s}=n,o=$.useMemo(()=>{const d=TD(s);return{store:s,subscription:d,getServerState:r?()=>r:void 0}},[s,r]),u=$.useMemo(()=>s.getState(),[s]);CD(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,u]);const h=t||ra;return $.createElement(h.Provider,{value:o},e)}var OD=DD;function oy(n=ra){return function(){return $.useContext(n)}}var vS=oy();function ES(n=ra){const e=n===ra?vS:oy(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var xD=ES();function MD(n=ra){const e=n===ra?xD:ES(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var is=MD(),ND=(n,e)=>n===e;function PD(n=ra){const e=n===ra?vS:oy(n),t=(r,s={})=>{const{equalityFn:o=ND}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:d,getServerState:p}=u;$.useRef(!0);const _=$.useCallback({[r.name](w){return r(w)}}[r.name],[r]),v=yD.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,p||h.getState,_,o);return $.useDebugValue(v),v};return Object.assign(t,{withTypes:()=>t}),t}var Tn=PD(),cc={},ZT;function kD(){if(ZT)return cc;ZT=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.parse=u,cc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,b){const R=new o,S=w.length;if(S<2)return R;const D=(b==null?void 0:b.decode)||_;let k=0;do{const L=w.indexOf("=",k);if(L===-1)break;const V=w.indexOf(";",k),H=V===-1?S:V;if(L>H){k=w.lastIndexOf(";",L-1)+1;continue}const F=h(w,k,L),X=d(w,L,F),x=w.slice(F,X);if(R[x]===void 0){let C=h(w,L+1,H),A=d(w,H,C);const M=D(w.slice(C,A));R[x]=M}k=H+1}while(k<S);return R}function h(w,b,R){do{const S=w.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<R);return R}function d(w,b,R){for(;b>R;){const S=w.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return R}function p(w,b,R){const S=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=S(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let k=w+"="+D;if(!R)return k;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);k+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);k+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);k+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);k+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(k+="; HttpOnly"),R.secure&&(k+="; Secure"),R.partitioned&&(k+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return k}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return s.call(w)==="[object Date]"}return cc}kD();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JT="popstate";function VD(n={}){function e(s,o){let{pathname:u="/",search:h="",hash:d=""}=Eo(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),d_("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:kc(o))}function r(s,o){Ir(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return UD(e,t,r,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ir(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LD(){return Math.random().toString(36).substring(2,10)}function ew(n,e){return{usr:n.state,key:n.key,idx:e}}function d_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:t,key:e&&e.key||r||LD()}}function kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Eo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function UD(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",d=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=_(),k=D==null?null:D-p;p=D,d&&d({action:h,location:S.location,delta:k})}function w(D,k){h="PUSH";let L=d_(S.location,D,k);t&&t(L,D),p=_()+1;let V=ew(L,p),H=S.createHref(L);try{u.pushState(V,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(H)}o&&d&&d({action:h,location:S.location,delta:1})}function b(D,k){h="REPLACE";let L=d_(S.location,D,k);t&&t(L,D),p=_();let V=ew(L,p),H=S.createHref(L);u.replaceState(V,"",H),o&&d&&d({action:h,location:S.location,delta:0})}function R(D){let k=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof D=="string"?D:kc(D);return L=L.replace(/ $/,"%20"),ct(k,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,k)}let S={get action(){return h},get location(){return n(s,u)},listen(D){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(JT,v),d=D,()=>{s.removeEventListener(JT,v),d=null}},createHref(D){return e(s,D)},createURL:R,encodeLocation(D){let k=R(D);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:b,go(D){return u.go(D)}};return S}function TS(n,e,t="/"){return zD(n,e,t,!1)}function zD(n,e,t,r){let s=typeof e=="string"?Eo(e):e,o=ia(s.pathname||"/",t);if(o==null)return null;let u=wS(n);jD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=WD(o);h=$D(u[d],p,r)}return h}function wS(n,e=[],t=[],r=""){let s=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Qi([r,d.relativePath]),_=t.concat(d);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),wS(o.children,e,_,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:QD(p,o.index),routesMeta:_})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,u);else for(let d of bS(o.path))s(o,u,d)}),e}function bS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=bS(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function jD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var BD=/^:[\w-]+$/,FD=3,qD=2,HD=1,GD=10,YD=-2,tw=n=>n==="*";function QD(n,e){let t=n.split("/"),r=t.length;return t.some(tw)&&(r+=YD),e&&(r+=qD),t.filter(s=>!tw(s)).reduce((s,o)=>s+(BD.test(o)?FD:o===""?HD:GD),r)}function KD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function $D(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,_=o==="/"?e:e.slice(o.length)||"/",v=fd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),w=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=fd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Qi([o,v.pathname]),pathnameBase:tO(Qi([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=Qi([o,v.pathnameBase]))}return u}function fd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=XD(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:v},w)=>{if(_==="*"){let R=h[w]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const b=h[w];return v&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function XD(n,e=!1,t=!0){Ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function WD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ia(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ZD(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Eo(n):n;return{pathname:t?t.startsWith("/")?t:JD(t,e):e,search:nO(r),hash:rO(s)}}function JD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function jg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function SS(n){let e=eO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function AS(n,e,t,r=!1){let s;typeof n=="string"?s=Eo(n):(s={...n},ct(!s.pathname||!s.pathname.includes("?"),jg("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),jg("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),jg("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}h=v>=0?e[v]:"/"}let d=ZD(s,h),p=u&&u!=="/"&&u.endsWith("/"),_=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}var Qi=n=>n.join("/").replace(/\/\/+/g,"/"),tO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var RS=["POST","PUT","PATCH","DELETE"];new Set(RS);var sO=["GET",...RS];new Set(sO);var $l=$.createContext(null);$l.displayName="DataRouter";var Xd=$.createContext(null);Xd.displayName="DataRouterState";var CS=$.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var aO=$.createContext(new Map);aO.displayName="Fetchers";var oO=$.createContext(null);oO.displayName="Await";var hi=$.createContext(null);hi.displayName="Navigation";var nh=$.createContext(null);nh.displayName="Location";var Or=$.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var ly=$.createContext(null);ly.displayName="RouteError";function lO(n,{relative:e}={}){ct(rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(hi),{hash:s,pathname:o,search:u}=sh(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Qi([t,o])),r.createHref({pathname:h,search:u,hash:s})}function rh(){return $.useContext(nh)!=null}function To(){return ct(rh(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(nh).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(n){$.useContext(hi).static||$.useLayoutEffect(n)}function ih(){let{isDataRoute:n}=$.useContext(Or);return n?SO():uO()}function uO(){ct(rh(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext($l),{basename:e,navigator:t}=$.useContext(hi),{matches:r}=$.useContext(Or),{pathname:s}=To(),o=JSON.stringify(SS(r)),u=$.useRef(!1);return DS(()=>{u.current=!0}),$.useCallback((d,p={})=>{if(Ir(u.current,IS),!u.current)return;if(typeof d=="number"){t.go(d);return}let _=AS(d,JSON.parse(o),s,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Qi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,o,s,n])}var cO=$.createContext(null);function hO(n){let e=$.useContext(Or).outlet;return e&&$.createElement(cO.Provider,{value:n},e)}function fO(){let{matches:n}=$.useContext(Or),e=n[n.length-1];return e?e.params:{}}function sh(n,{relative:e}={}){let{matches:t}=$.useContext(Or),{pathname:r}=To(),s=JSON.stringify(SS(t));return $.useMemo(()=>AS(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function dO(n,e){return OS(n,e)}function OS(n,e,t,r){var L;ct(rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=$.useContext(hi),{matches:u}=$.useContext(Or),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",_=h?h.pathnameBase:"/",v=h&&h.route;{let V=v&&v.path||"";xS(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let w=To(),b;if(e){let V=typeof e=="string"?Eo(e):e;ct(_==="/"||((L=V.pathname)==null?void 0:L.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${V.pathname}" was given in the \`location\` prop.`),b=V}else b=w;let R=b.pathname||"/",S=R;if(_!=="/"){let V=_.replace(/^\//,"").split("/");S="/"+R.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:TS(n,{pathname:S});Ir(v||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ir(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=yO(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:Qi([_,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?_:Qi([_,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&k?$.createElement(nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function mO(){let n=bO(),e=iO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:o},"ErrorBoundary")," or"," ",$.createElement("code",{style:o},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,u)}var pO=$.createElement(mO,null),gO=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Or.Provider,{value:this.props.routeContext},$.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _O({routeContext:n,match:e,children:t}){let r=$.useContext($l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Or.Provider,{value:n},t)}function yO(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:_,errors:v}=t,w=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,_)=>{let v,w=!1,b=null,R=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||pO,u&&(h<0&&_===0?(xS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):h===_&&(w=!0,R=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,_+1)),D=()=>{let k;return v?k=b:w?k=R:p.route.Component?k=$.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,$.createElement(_O,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?$.createElement(gO,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):D()},null)}function uy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vO(n){let e=$.useContext($l);return ct(e,uy(n)),e}function EO(n){let e=$.useContext(Xd);return ct(e,uy(n)),e}function TO(n){let e=$.useContext(Or);return ct(e,uy(n)),e}function cy(n){let e=TO(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wO(){return cy("useRouteId")}function bO(){var r;let n=$.useContext(ly),e=EO("useRouteError"),t=cy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function SO(){let{router:n}=vO("useNavigate"),e=cy("useNavigate"),t=$.useRef(!1);return DS(()=>{t.current=!0}),$.useCallback(async(s,o={})=>{Ir(t.current,IS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var nw={};function xS(n,e,t){!e&&!nw[n]&&(nw[n]=!0,Ir(!1,t))}$.memo(AO);function AO({routes:n,future:e,state:t}){return OS(n,void 0,t,e)}function RO(n){return hO(n.context)}function Kr(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){ct(!rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Eo(t));let{pathname:d="/",search:p="",hash:_="",state:v=null,key:w="default"}=t,b=$.useMemo(()=>{let R=ia(d,u);return R==null?null:{location:{pathname:R,search:p,hash:_,state:v,key:w},navigationType:r}},[u,d,p,_,v,w,r]);return Ir(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:$.createElement(hi.Provider,{value:h},$.createElement(nh.Provider,{children:e,value:b}))}function IO({children:n,location:e}){return dO(m_(n),e)}function m_(n,e=[]){let t=[];return $.Children.forEach(n,(r,s)=>{if(!$.isValidElement(r))return;let o=[...e,s];if(r.type===$.Fragment){t.push.apply(t,m_(r.props.children,o));return}ct(r.type===Kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=m_(r.props.children,o)),t.push(u)}),t}var Kf="get",$f="application/x-www-form-urlencoded";function Wd(n){return n!=null&&typeof n.tagName=="string"}function DO(n){return Wd(n)&&n.tagName.toLowerCase()==="button"}function OO(n){return Wd(n)&&n.tagName.toLowerCase()==="form"}function xO(n){return Wd(n)&&n.tagName.toLowerCase()==="input"}function MO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NO(n,e){return n.button===0&&(!e||e==="_self")&&!MO(n)}var Uf=null;function PO(){if(Uf===null)try{new FormData(document.createElement("form"),0),Uf=!1}catch{Uf=!0}return Uf}var kO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bg(n){return n!=null&&!kO.has(n)?(Ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$f}"`),null):n}function VO(n,e){let t,r,s,o,u;if(OO(n)){let h=n.getAttribute("action");r=h?ia(h,e):null,t=n.getAttribute("method")||Kf,s=Bg(n.getAttribute("enctype"))||$f,o=new FormData(n)}else if(DO(n)||xO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?ia(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Kf,s=Bg(n.getAttribute("formenctype"))||Bg(h.getAttribute("enctype"))||$f,o=new FormData(h,n),!PO()){let{name:p,type:_,value:v}=n;if(_==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,v)}}else{if(Wd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Kf,r=null,s=$f,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function hy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function LO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zO(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await LO(o,t);return u.links?u.links():[]}return[]}));return qO(r.flat(1).filter(UO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rw(n,e,t,r,s,o){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>{var _;return t[p].pathname!==d.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{var v;let _=r.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function jO(n,e){return BO(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function BO(n){return[...new Set(n)]}function FO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qO(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(FO(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function HO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function GO(){let n=$.useContext($l);return hy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YO(){let n=$.useContext(Xd);return hy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fy=$.createContext(void 0);fy.displayName="FrameworkContext";function MS(){let n=$.useContext(fy);return hy(n,"You must render this element inside a <HydratedRouter> element"),n}function QO(n,e){let t=$.useContext(fy),[r,s]=$.useState(!1),[o,u]=$.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=e,w=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=k=>{k.forEach(L=>{u(L.isIntersecting)})},D=new IntersectionObserver(S,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),$.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:hc(h,b),onBlur:hc(d,R),onMouseEnter:hc(p,b),onMouseLeave:hc(_,R),onTouchStart:hc(v,b)}]:[!1,w,{}]}function hc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KO({page:n,...e}){let{router:t}=GO(),r=$.useMemo(()=>TS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(XO,{page:n,matches:r,...e}):null}function $O(n){let{manifest:e,routeModules:t}=MS(),[r,s]=$.useState([]);return $.useEffect(()=>{let o=!1;return zO(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function XO({page:n,matches:e,...t}){let r=To(),{manifest:s,routeModules:o}=MS(),{loaderData:u,matches:h}=YO(),d=$.useMemo(()=>rw(n,e,h,s,r,"data"),[n,e,h,s,r]),p=$.useMemo(()=>rw(n,e,h,s,r,"assets"),[n,e,h,s,r]),_=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,R=!1;if(e.forEach(D=>{var L;let k=s.routes[D.route.id];!k||!k.hasLoader||(!d.some(V=>V.route.id===D.route.id)&&D.route.id in u&&((L=o[D.route.id])!=null&&L.shouldRevalidate)||k.hasClientLoader?R=!0:b.add(D.route.id))}),b.size===0)return[];let S=HO(n);return R&&b.size>0&&S.searchParams.set("_routes",e.filter(D=>b.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[u,r,s,d,e,n,o]),v=$.useMemo(()=>jO(p,s),[p,s]),w=$O(p);return $.createElement($.Fragment,null,_.map(b=>$.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>$.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:R})=>$.createElement("link",{key:b,...R})))}function WO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.1.5")}catch{}function ZO({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=VD({window:t,v5Compat:!0}));let s=r.current,[o,u]=$.useState({action:s.action,location:s.location}),h=$.useCallback(d=>{$.startTransition(()=>u(d))},[u]);return $.useLayoutEffect(()=>s.listen(h),[s,h]),$.createElement(CO,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var PS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kS=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:_,viewTransition:v,...w},b){let{basename:R}=$.useContext(hi),S=typeof p=="string"&&PS.test(p),D,k=!1;if(typeof p=="string"&&S&&(D=p,NS))try{let A=new URL(window.location.href),M=p.startsWith("//")?new URL(A.protocol+p):new URL(p),U=ia(M.pathname,R);M.origin===A.origin&&U!=null?p=U+M.search+M.hash:k=!0}catch{Ir(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=lO(p,{relative:s}),[V,H,F]=QO(r,w),X=tx(p,{replace:u,state:h,target:d,preventScrollReset:_,relative:s,viewTransition:v});function x(A){e&&e(A),A.defaultPrevented||X(A)}let C=$.createElement("a",{...w,...F,href:D||L,onClick:k||o?e:x,ref:WO(b,H),target:d,"data-discover":!S&&t==="render"?"true":void 0});return V&&!S?$.createElement($.Fragment,null,C,$.createElement(KO,{page:L})):C});kS.displayName="Link";var Sl=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:d,...p},_){let v=sh(u,{relative:p.relative}),w=To(),b=$.useContext(Xd),{navigator:R,basename:S}=$.useContext(hi),D=b!=null&&ax(v)&&h===!0,k=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,L=w.pathname,V=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(L=L.toLowerCase(),V=V?V.toLowerCase():null,k=k.toLowerCase()),V&&S&&(V=ia(V,S)||V);const H=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let F=L===k||!s&&L.startsWith(k)&&L.charAt(H)==="/",X=V!=null&&(V===k||!s&&V.startsWith(k)&&V.charAt(k.length)==="/"),x={isActive:F,isPending:X,isTransitioning:D},C=F?e:void 0,A;typeof r=="function"?A=r(x):A=[r,F?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(x):o;return $.createElement(kS,{...p,"aria-current":C,className:A,ref:_,style:M,to:u,viewTransition:h},typeof d=="function"?d(x):d)});Sl.displayName="NavLink";var JO=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Kf,action:h,onSubmit:d,relative:p,preventScrollReset:_,viewTransition:v,...w},b)=>{let R=ix(),S=sx(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&PS.test(h),L=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let H=V.nativeEvent.submitter,F=(H==null?void 0:H.getAttribute("formmethod"))||u;R(H||V.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:s,state:o,relative:p,preventScrollReset:_,viewTransition:v})};return $.createElement("form",{ref:b,method:D,action:S,onSubmit:r?d:L,...w,"data-discover":!k&&n==="render"?"true":void 0})});JO.displayName="Form";function ex(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VS(n){let e=$.useContext($l);return ct(e,ex(n)),e}function tx(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=ih(),d=To(),p=sh(n,{relative:o});return $.useCallback(_=>{if(NO(_,e)){_.preventDefault();let v=t!==void 0?t:kc(d)===kc(p);h(n,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,h,p,t,r,e,n,s,o,u])}var nx=0,rx=()=>`__${String(++nx)}__`;function ix(){let{router:n}=VS("useSubmit"),{basename:e}=$.useContext(hi),t=wO();return $.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:d,body:p}=VO(r,e);if(s.navigate===!1){let _=s.fetcherKey||rx();await n.fetch(_,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function sx(n,{relative:e}={}){let{basename:t}=$.useContext(hi),r=$.useContext(Or);ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...sh(n||".",{relative:e})},u=To();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Qi([t,o.pathname])),kc(o)}function ax(n,e={}){let t=$.useContext(CS);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VS("useViewTransitionState"),s=sh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ia(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ia(t.nextLocation.pathname,r)||t.nextLocation.pathname;return fd(s.pathname,u)!=null||fd(s.pathname,o)!=null}new TextEncoder;function Bi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LS(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Hn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Pl={duration:.5,overwrite:!1,delay:0},dy,en,it,Jr=1e8,cn=1/Jr,p_=Math.PI*2,ox=p_/4,lx=0,US=Math.sqrt,ux=Math.cos,cx=Math.sin,Yt=function(e){return typeof e=="string"},_t=function(e){return typeof e=="function"},Xi=function(e){return typeof e=="number"},my=function(e){return typeof e>"u"},ai=function(e){return typeof e=="object"},Dn=function(e){return e!==!1},py=function(){return typeof window<"u"},zf=function(e){return _t(e)||Yt(e)},zS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},hn=Array.isArray,g_=/(?:-?\.?\d|\.)+/gi,jS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Al=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Fg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,BS=/[+-]=-?[.\d]+/,FS=/[^,'"\[\]\s]+/gi,hx=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,lt,$r,__,gy,Gn={},dd={},qS,HS=function(e){return(dd=kl(e,Gn))&&Nn},_y=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Vc=function(e,t){return!t&&console.warn(e)},GS=function(e,t){return e&&(Gn[e]=t)&&dd&&(dd[e]=t)||Gn},Lc=function(){return 0},fx={suppressEvents:!0,isStart:!0,kill:!1},Xf={suppressEvents:!0,kill:!1},dx={suppressEvents:!0},yy={},Ws=[],y_={},YS,Bn={},qg={},iw=30,Wf=[],vy="",Ey=function(e){var t=e[0],r,s;if(ai(t)||_t(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(s=Wf.length;s--&&!Wf[s].targetTest(t););r=Wf[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new gA(e[s],r)))||e.splice(s,1);return e},oo=function(e){return e._gsap||Ey(pr(e))[0]._gsap},QS=function(e,t,r){return(r=e[t])&&_t(r)?e[t]():my(r)&&e.getAttribute&&e.getAttribute(t)||r},On=function(e,t){return(e=e.split(",")).forEach(t)||e},Et=function(e){return Math.round(e*1e5)/1e5||0},It=function(e){return Math.round(e*1e7)/1e7||0},Cl=function(e,t){var r=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},mx=function(e,t){for(var r=t.length,s=0;e.indexOf(t[s])<0&&++s<r;);return s<r},md=function(){var e=Ws.length,t=Ws.slice(0),r,s;for(y_={},Ws.length=0,r=0;r<e;r++)s=t[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},KS=function(e,t,r,s){Ws.length&&!en&&md(),e.render(t,r,en&&t<0&&(e._initted||e._startAt)),Ws.length&&!en&&md()},$S=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(FS).length<2?t:Yt(e)?e.trim():e},XS=function(e){return e},Yn=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},px=function(e){return function(t,r){for(var s in r)s in t||s==="duration"&&e||s==="ease"||(t[s]=r[s])}},kl=function(e,t){for(var r in t)e[r]=t[r];return e},sw=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ai(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},pd=function(e,t){var r={},s;for(s in e)s in t||(r[s]=e[s]);return r},wc=function(e){var t=e.parent||lt,r=e.keyframes?px(hn(e.keyframes)):Yn;if(Dn(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},gx=function(e,t){for(var r=e.length,s=r===t.length;s&&r--&&e[r]===t[r];);return r<0},WS=function(e,t,r,s,o){var u=e[s],h;if(o)for(h=t[o];u&&u[o]>h;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[s]=t,t._prev=u,t.parent=t._dp=e,t},Zd=function(e,t,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var o=t._prev,u=t._next;o?o._next=u:e[r]===t&&(e[r]=u),u?u._prev=o:e[s]===t&&(e[s]=o),t._next=t._prev=t.parent=null},sa=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},lo=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},_x=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},v_=function(e,t,r,s){return e._startAt&&(en?e._startAt.revert(Xf):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},yx=function n(e){return!e||e._ts&&n(e.parent)},aw=function(e){return e._repeat?Vl(e._tTime,e=e.duration()+e._rDelay)*e:0},Vl=function(e,t){var r=Math.floor(e=It(e/t));return e&&r===e?r-1:r},gd=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Jd=function(e){return e._end=It(e._start+(e._tDur/Math.abs(e._ts||e._rts||cn)||0))},em=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=It(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Jd(e),r._dirty||lo(r,e)),e},ZS=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=gd(e.rawTime(),t),(!t._dur||ah(0,t.totalDuration(),r)-t._tTime>cn)&&t.render(r,!0)),lo(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Wr=function(e,t,r,s){return t.parent&&sa(t),t._start=It((Xi(r)?r:r||e!==lt?fr(e,r,t):e._time)+t._delay),t._end=It(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),WS(e,t,"_first","_last",e._sort?"_start":0),E_(t)||(e._recent=t),s||ZS(e,t),e._ts<0&&em(e,e._tTime),e},JS=function(e,t){return(Gn.ScrollTrigger||_y("scrollTrigger",t))&&Gn.ScrollTrigger.create(t,e)},eA=function(e,t,r,s,o){if(wy(e,t,o),!e._initted)return 1;if(!r&&e._pt&&!en&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&YS!==Fn.frame)return Ws.push(e),e._lazy=[o,s],1},vx=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},E_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Ex=function(e,t,r,s){var o=e.ratio,u=t<0||!t&&(!e._start&&vx(e)&&!(!e._initted&&E_(e))||(e._ts<0||e._dp._ts<0)&&!E_(e))?0:1,h=e._rDelay,d=0,p,_,v;if(h&&e._repeat&&(d=ah(0,e._tDur,t),_=Vl(d,h),e._yoyo&&_&1&&(u=1-u),_!==Vl(e._tTime,h)&&(o=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==o||en||s||e._zTime===cn||!t&&e._zTime){if(!e._initted&&eA(e,t,s,r,d))return;for(v=e._zTime,e._zTime=t||(r?cn:0),r||(r=t&&!v),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,p=e._pt;p;)p.r(u,p.d),p=p._next;t<0&&v_(e,t,r,!0),e._onUpdate&&!r&&qn(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&qn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&sa(e,1),!r&&!en&&(qn(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Tx=function(e,t,r){var s;if(r>t)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},Ll=function(e,t,r,s){var o=e._repeat,u=It(t)||0,h=e._tTime/e._tDur;return h&&!s&&(e._time*=u/e._dur),e._dur=u,e._tDur=o?o<0?1e10:It(u*(o+1)+e._rDelay*o):u,h>0&&!s&&em(e,e._tTime=e._tDur*h),e.parent&&Jd(e),r||lo(e.parent,e),e},ow=function(e){return e instanceof En?lo(e):Ll(e,e._dur)},wx={_start:0,endTime:Lc,totalDuration:Lc},fr=function n(e,t,r){var s=e.labels,o=e._recent||wx,u=e.duration()>=Jr?o.endTime(!1):e._dur,h,d,p;return Yt(t)&&(isNaN(t)||t in s)?(d=t.charAt(0),p=t.substr(-1)==="%",h=t.indexOf("="),d==="<"||d===">"?(h>=0&&(t=t.replace(/=/,"")),(d==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(h<0?o:r).totalDuration()/100:1)):h<0?(t in s||(s[t]=u),s[t]):(d=parseFloat(t.charAt(h-1)+t.substr(h+1)),p&&r&&(d=d/100*(hn(r)?r[0]:r).totalDuration()),h>1?n(e,t.substr(0,h-1),r)+d:u+d)):t==null?u:+t},bc=function(e,t,r){var s=Xi(t[1]),o=(s?2:1)+(e<2?0:1),u=t[o],h,d;if(s&&(u.duration=t[1]),u.parent=r,e){for(h=u,d=r;d&&!("immediateRender"in h);)h=d.vars.defaults||{},d=Dn(d.vars.inherit)&&d.parent;u.immediateRender=Dn(h.immediateRender),e<2?u.runBackwards=1:u.startAt=t[o-1]}return new Ct(t[0],u,t[o+1])},ga=function(e,t){return e||e===0?t(e):t},ah=function(e,t,r){return r<e?e:r>t?t:r},un=function(e,t){return!Yt(e)||!(t=hx.exec(e))?"":t[1]},bx=function(e,t,r){return ga(r,function(s){return ah(e,t,s)})},T_=[].slice,tA=function(e,t){return e&&ai(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ai(e[0]))&&!e.nodeType&&e!==$r},Sx=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(s){var o;return Yt(s)&&!t||tA(s,1)?(o=r).push.apply(o,pr(s)):r.push(s)})||r},pr=function(e,t,r){return it&&!t&&it.selector?it.selector(e):Yt(e)&&!r&&(__||!Ul())?T_.call((t||gy).querySelectorAll(e),0):hn(e)?Sx(e,r):tA(e)?T_.call(e,0):e?[e]:[]},w_=function(e){return e=pr(e)[0]||Vc("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return pr(t,r.querySelectorAll?r:r===e?Vc("Invalid scope")||gy.createElement("div"):e)}},nA=function(e){return e.sort(function(){return .5-Math.random()})},rA=function(e){if(_t(e))return e;var t=ai(e)?e:{each:e},r=uo(t.ease),s=t.from||0,o=parseFloat(t.base)||0,u={},h=s>0&&s<1,d=isNaN(s)||h,p=t.axis,_=s,v=s;return Yt(s)?_=v={center:.5,edges:.5,end:1}[s]||0:!h&&d&&(_=s[0],v=s[1]),function(w,b,R){var S=(R||t).length,D=u[S],k,L,V,H,F,X,x,C,A;if(!D){if(A=t.grid==="auto"?0:(t.grid||[1,Jr])[1],!A){for(x=-1e8;x<(x=R[A++].getBoundingClientRect().left)&&A<S;);A<S&&A--}for(D=u[S]=[],k=d?Math.min(A,S)*_-.5:s%A,L=A===Jr?0:d?S*v/A-.5:s/A|0,x=0,C=Jr,X=0;X<S;X++)V=X%A-k,H=L-(X/A|0),D[X]=F=p?Math.abs(p==="y"?H:V):US(V*V+H*H),F>x&&(x=F),F<C&&(C=F);s==="random"&&nA(D),D.max=x-C,D.min=C,D.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(A>S?S-1:p?p==="y"?S/A:A:Math.max(A,S/A))||0)*(s==="edges"?-1:1),D.b=S<0?o-S:o,D.u=un(t.amount||t.each)||0,r=r&&S<0?dA(r):r}return S=(D[w]-D.min)/D.max||0,It(D.b+(r?r(S):S)*D.v)+D.u}},b_=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=It(Math.round(parseFloat(r)/e)*e*t);return(s-s%1)/t+(Xi(r)?0:un(r))}},iA=function(e,t){var r=hn(e),s,o;return!r&&ai(e)&&(s=r=e.radius||Jr,e.values?(e=pr(e.values),(o=!Xi(e[0]))&&(s*=s)):e=b_(e.increment)),ga(t,r?_t(e)?function(u){return o=e(u),Math.abs(o-u)<=s?o:u}:function(u){for(var h=parseFloat(o?u.x:u),d=parseFloat(o?u.y:0),p=Jr,_=0,v=e.length,w,b;v--;)o?(w=e[v].x-h,b=e[v].y-d,w=w*w+b*b):w=Math.abs(e[v]-h),w<p&&(p=w,_=v);return _=!s||p<=s?e[_]:u,o||_===u||Xi(u)?_:_+un(u)}:b_(e))},sA=function(e,t,r,s){return ga(hn(e)?!t:r===!0?!!(r=0):!s,function(){return hn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*s)/s})},Ax=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduce(function(o,u){return u(o)},s)}},Rx=function(e,t){return function(r){return e(parseFloat(r))+(t||un(r))}},Cx=function(e,t,r){return oA(e,t,0,1,r)},aA=function(e,t,r){return ga(r,function(s){return e[~~t(s)]})},Ix=function n(e,t,r){var s=t-e;return hn(e)?aA(e,n(0,e.length),t):ga(r,function(o){return(s+(o-e)%s)%s+e})},Dx=function n(e,t,r){var s=t-e,o=s*2;return hn(e)?aA(e,n(0,e.length-1),t):ga(r,function(u){return u=(o+(u-e)%o)%o||0,e+(u>s?o-u:u)})},Uc=function(e){for(var t=0,r="",s,o,u,h;~(s=e.indexOf("random(",t));)u=e.indexOf(")",s),h=e.charAt(s+7)==="[",o=e.substr(s+7,u-s-7).match(h?FS:g_),r+=e.substr(t,s-t)+sA(h?o:+o[0],h?0:+o[1],+o[2]||1e-5),t=u+1;return r+e.substr(t,e.length-t)},oA=function(e,t,r,s,o){var u=t-e,h=s-r;return ga(o,function(d){return r+((d-e)/u*h||0)})},Ox=function n(e,t,r,s){var o=isNaN(e+t)?0:function(b){return(1-b)*e+b*t};if(!o){var u=Yt(e),h={},d,p,_,v,w;if(r===!0&&(s=1)&&(r=null),u)e={p:e},t={p:t};else if(hn(e)&&!hn(t)){for(_=[],v=e.length,w=v-2,p=1;p<v;p++)_.push(n(e[p-1],e[p]));v--,o=function(R){R*=v;var S=Math.min(w,~~R);return _[S](R-S)},r=t}else s||(e=kl(hn(e)?[]:{},e));if(!_){for(d in t)Ty.call(h,e,d,"get",t[d]);o=function(R){return Ay(R,h)||(u?e.p:e)}}}return ga(r,o)},lw=function(e,t,r){var s=e.labels,o=Jr,u,h,d;for(u in s)h=s[u]-t,h<0==!!r&&h&&o>(h=Math.abs(h))&&(d=u,o=h);return d},qn=function(e,t,r){var s=e.vars,o=s[t],u=it,h=e._ctx,d,p,_;if(o)return d=s[t+"Params"],p=s.callbackScope||e,r&&Ws.length&&md(),h&&(it=h),_=d?o.apply(p,d):o.call(p),it=u,_},pc=function(e){return sa(e),e.scrollTrigger&&e.scrollTrigger.kill(!!en),e.progress()<1&&qn(e,"onInterrupt"),e},Rl,lA=[],uA=function(e){if(e)if(e=!e.name&&e.default||e,py()||e.headless){var t=e.name,r=_t(e),s=t&&!r&&e.init?function(){this._props=[]}:e,o={init:Lc,render:Ay,add:Ty,kill:Yx,modifier:Gx,rawVars:0},u={targetTest:0,get:0,getSetter:Sy,aliases:{},register:0};if(Ul(),e!==s){if(Bn[t])return;Yn(s,Yn(pd(e,o),u)),kl(s.prototype,kl(o,pd(e,u))),Bn[s.prop=t]=s,e.targetTest&&(Wf.push(s),yy[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}GS(t,s),e.register&&e.register(Nn,s,xn)}else lA.push(e)},et=255,gc={aqua:[0,et,et],lime:[0,et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,et],navy:[0,0,128],white:[et,et,et],olive:[128,128,0],yellow:[et,et,0],orange:[et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[et,0,0],pink:[et,192,203],cyan:[0,et,et],transparent:[et,et,et,0]},Hg=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*et+.5|0},cA=function(e,t,r){var s=e?Xi(e)?[e>>16,e>>8&et,e&et]:0:gc.black,o,u,h,d,p,_,v,w,b,R;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),gc[e])s=gc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),u=e.charAt(2),h=e.charAt(3),e="#"+o+o+u+u+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&et,s&et,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&et,e&et]}else if(e.substr(0,3)==="hsl"){if(s=R=e.match(g_),!t)d=+s[0]%360/360,p=+s[1]/100,_=+s[2]/100,u=_<=.5?_*(p+1):_+p-_*p,o=_*2-u,s.length>3&&(s[3]*=1),s[0]=Hg(d+1/3,o,u),s[1]=Hg(d,o,u),s[2]=Hg(d-1/3,o,u);else if(~e.indexOf("="))return s=e.match(jS),r&&s.length<4&&(s[3]=1),s}else s=e.match(g_)||gc.transparent;s=s.map(Number)}return t&&!R&&(o=s[0]/et,u=s[1]/et,h=s[2]/et,v=Math.max(o,u,h),w=Math.min(o,u,h),_=(v+w)/2,v===w?d=p=0:(b=v-w,p=_>.5?b/(2-v-w):b/(v+w),d=v===o?(u-h)/b+(u<h?6:0):v===u?(h-o)/b+2:(o-u)/b+4,d*=60),s[0]=~~(d+.5),s[1]=~~(p*100+.5),s[2]=~~(_*100+.5)),r&&s.length<4&&(s[3]=1),s},hA=function(e){var t=[],r=[],s=-1;return e.split(Zs).forEach(function(o){var u=o.match(Al)||[];t.push.apply(t,u),r.push(s+=u.length+1)}),t.c=r,t},uw=function(e,t,r){var s="",o=(e+s).match(Zs),u=t?"hsla(":"rgba(",h=0,d,p,_,v;if(!o)return e;if(o=o.map(function(w){return(w=cA(w,t,1))&&u+(t?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),r&&(_=hA(e),d=r.c,d.join(s)!==_.c.join(s)))for(p=e.replace(Zs,"1").split(Al),v=p.length-1;h<v;h++)s+=p[h]+(~d.indexOf(h)?o.shift()||u+"0,0,0,0)":(_.length?_:o.length?o:r).shift());if(!p)for(p=e.split(Zs),v=p.length-1;h<v;h++)s+=p[h]+o[h];return s+p[v]},Zs=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in gc)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),xx=/hsl[a]?\(/,fA=function(e){var t=e.join(" "),r;if(Zs.lastIndex=0,Zs.test(t))return r=xx.test(t),e[1]=uw(e[1],r),e[0]=uw(e[0],r,hA(e[1])),!0},zc,Fn=function(){var n=Date.now,e=500,t=33,r=n(),s=r,o=1e3/240,u=o,h=[],d,p,_,v,w,b,R=function S(D){var k=n()-s,L=D===!0,V,H,F,X;if((k>e||k<0)&&(r+=k-t),s+=k,F=s-r,V=F-u,(V>0||L)&&(X=++v.frame,w=F-v.time*1e3,v.time=F=F/1e3,u+=V+(V>=o?4:o-V),H=1),L||(d=p(S)),H)for(b=0;b<h.length;b++)h[b](F,w,X,D)};return v={time:0,frame:0,tick:function(){R(!0)},deltaRatio:function(D){return w/(1e3/(D||60))},wake:function(){qS&&(!__&&py()&&($r=__=window,gy=$r.document||{},Gn.gsap=Nn,($r.gsapVersions||($r.gsapVersions=[])).push(Nn.version),HS(dd||$r.GreenSockGlobals||!$r.gsap&&$r||{}),lA.forEach(uA)),_=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&v.sleep(),p=_||function(D){return setTimeout(D,u-v.time*1e3+1|0)},zc=1,R(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(d),zc=0,p=Lc},lagSmoothing:function(D,k){e=D||1/0,t=Math.min(k||33,e)},fps:function(D){o=1e3/(D||240),u=v.time*1e3+o},add:function(D,k,L){var V=k?function(H,F,X,x){D(H,F,X,x),v.remove(V)}:D;return v.remove(D),h[L?"unshift":"push"](V),Ul(),V},remove:function(D,k){~(k=h.indexOf(D))&&h.splice(k,1)&&b>=k&&b--},_listeners:h},v}(),Ul=function(){return!zc&&Fn.wake()},Ue={},Mx=/^[\d.\-M][\d.\-,\s]/,Nx=/["']/g,Px=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),s=r[0],o=1,u=r.length,h,d,p;o<u;o++)d=r[o],h=o!==u-1?d.lastIndexOf(","):d.length,p=d.substr(0,h),t[s]=isNaN(p)?p.replace(Nx,"").trim():+p,s=d.substr(h+1).trim();return t},kx=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<r?e.indexOf(")",r+1):r)},Vx=function(e){var t=(e+"").split("("),r=Ue[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Px(t[1])]:kx(e).split(",").map($S)):Ue._CE&&Mx.test(e)?Ue._CE("",e):r},dA=function(e){return function(t){return 1-e(1-t)}},mA=function n(e,t){for(var r=e._first,s;r;)r instanceof En?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=t)),r=r._next},uo=function(e,t){return e&&(_t(e)?e:Ue[e]||Vx(e))||t},wo=function(e,t,r,s){r===void 0&&(r=function(d){return 1-t(1-d)}),s===void 0&&(s=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var o={easeIn:t,easeOut:r,easeInOut:s},u;return On(e,function(h){Ue[h]=Gn[h]=o,Ue[u=h.toLowerCase()]=r;for(var d in o)Ue[u+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Ue[h+"."+d]=o[d]}),o},pA=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Gg=function n(e,t,r){var s=t>=1?t:1,o=(r||(e?.3:.45))/(t<1?t:1),u=o/p_*(Math.asin(1/s)||0),h=function(_){return _===1?1:s*Math.pow(2,-10*_)*cx((_-u)*o)+1},d=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:pA(h);return o=p_/o,d.config=function(p,_){return n(e,p,_)},d},Yg=function n(e,t){t===void 0&&(t=1.70158);var r=function(u){return u?--u*u*((t+1)*u+t)+1:0},s=e==="out"?r:e==="in"?function(o){return 1-r(1-o)}:pA(r);return s.config=function(o){return n(e,o)},s};On("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;wo(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ue.Linear.easeNone=Ue.none=Ue.Linear.easeIn;wo("Elastic",Gg("in"),Gg("out"),Gg());(function(n,e){var t=1/e,r=2*t,s=2.5*t,o=function(h){return h<t?n*h*h:h<r?n*Math.pow(h-1.5/e,2)+.75:h<s?n*(h-=2.25/e)*h+.9375:n*Math.pow(h-2.625/e,2)+.984375};wo("Bounce",function(u){return 1-o(1-u)},o)})(7.5625,2.75);wo("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});wo("Circ",function(n){return-(US(1-n*n)-1)});wo("Sine",function(n){return n===1?1:-ux(n*ox)+1});wo("Back",Yg("in"),Yg("out"),Yg());Ue.SteppedEase=Ue.steps=Gn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,s=e+(t?0:1),o=t?1:0,u=1-cn;return function(h){return((s*ah(0,u,h)|0)+o)*r}}};Pl.ease=Ue["quad.out"];On("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return vy+=n+","+n+"Params,"});var gA=function(e,t){this.id=lx++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:QS,this.set=t?t.getSetter:Sy},jc=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ll(this,+t.duration,1,1),this.data=t.data,it&&(this._ctx=it,it.data.push(this)),zc||Fn.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Ll(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(Ul(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(em(this,r),!o._dp||o.parent||ZS(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Wr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===cn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),KS(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+aw(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+aw(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,s):this._repeat?Vl(this._tTime,o)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?gd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(ah(-Math.abs(this._delay),this._tDur,o),s!==!1),Jd(this),_x(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ul(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==cn&&(this._tTime-=cn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Wr(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Dn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?gd(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=dx);var s=en;return en=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),en=s,this},e.globalTime=function(r){for(var s=this,o=arguments.length?r:s.rawTime();s;)o=s._start+o/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,ow(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,ow(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(fr(this,r),Dn(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,Dn(s)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=s&&o<this.endTime(!0)-cn)},e.eventCallback=function(r,s,o){var u=this.vars;return arguments.length>1?(s?(u[r]=s,o&&(u[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=s)):delete u[r],this):u[r]},e.then=function(r){var s=this;return new Promise(function(o){var u=_t(r)?r:XS,h=function(){var p=s.then;s.then=null,_t(u)&&(u=u(s))&&(u.then||u===s)&&(s.then=p),o(u),s.then=p};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?h():s._prom=h})},e.kill=function(){pc(this)},n}();Yn(jc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var En=function(n){LS(e,n);function e(r,s){var o;return r===void 0&&(r={}),o=n.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=Dn(r.sortChildren),lt&&Wr(r.parent||lt,Bi(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&JS(Bi(o),r.scrollTrigger),o}var t=e.prototype;return t.to=function(s,o,u){return bc(0,arguments,this),this},t.from=function(s,o,u){return bc(1,arguments,this),this},t.fromTo=function(s,o,u,h){return bc(2,arguments,this),this},t.set=function(s,o,u){return o.duration=0,o.parent=this,wc(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Ct(s,o,fr(this,u),1),this},t.call=function(s,o,u){return Wr(this,Ct.delayedCall(0,s,o),u)},t.staggerTo=function(s,o,u,h,d,p,_){return u.duration=o,u.stagger=u.stagger||h,u.onComplete=p,u.onCompleteParams=_,u.parent=this,new Ct(s,u,fr(this,d)),this},t.staggerFrom=function(s,o,u,h,d,p,_){return u.runBackwards=1,wc(u).immediateRender=Dn(u.immediateRender),this.staggerTo(s,o,u,h,d,p,_)},t.staggerFromTo=function(s,o,u,h,d,p,_,v){return h.startAt=u,wc(h).immediateRender=Dn(h.immediateRender),this.staggerTo(s,o,h,d,p,_,v)},t.render=function(s,o,u){var h=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,_=s<=0?0:It(s),v=this._zTime<0!=s<0&&(this._initted||!p),w,b,R,S,D,k,L,V,H,F,X,x;if(this!==lt&&_>d&&s>=0&&(_=d),_!==this._tTime||u||v){if(h!==this._time&&p&&(_+=this._time-h,s+=this._time-h),w=_,H=this._start,V=this._ts,k=!V,v&&(p||(h=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(X=this._yoyo,D=p+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(D*100+s,o,u);if(w=It(_%D),_===d?(S=this._repeat,w=p):(F=It(_/D),S=~~F,S&&S===F&&(w=p,S--),w>p&&(w=p)),F=Vl(this._tTime,D),!h&&this._tTime&&F!==S&&this._tTime-F*D-this._dur<=0&&(F=S),X&&S&1&&(w=p-w,x=1),S!==F&&!this._lock){var C=X&&F&1,A=C===(X&&S&1);if(S<F&&(C=!C),h=C?0:_%p?p:_,this._lock=1,this.render(h||(x?0:It(S*D)),o,!p)._lock=0,this._tTime=_,!o&&this.parent&&qn(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),h&&h!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,A&&(this._lock=2,h=C?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;mA(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=Tx(this,It(h),It(w)),L&&(_-=w-(w=L._start))),this._tTime=_,this._time=w,this._act=!V,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,h=0),!h&&w&&!o&&!S&&(qn(this,"onStart"),this._tTime!==_))return this;if(w>=h&&s>=0)for(b=this._first;b;){if(R=b._next,(b._act||w>=b._start)&&b._ts&&L!==b){if(b.parent!==this)return this.render(s,o,u);if(b.render(b._ts>0?(w-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(w-b._start)*b._ts,o,u),w!==this._time||!this._ts&&!k){L=0,R&&(_+=this._zTime=-1e-8);break}}b=R}else{b=this._last;for(var M=s<0?s:w;b;){if(R=b._prev,(b._act||M<=b._end)&&b._ts&&L!==b){if(b.parent!==this)return this.render(s,o,u);if(b.render(b._ts>0?(M-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(M-b._start)*b._ts,o,u||en&&(b._initted||b._startAt)),w!==this._time||!this._ts&&!k){L=0,R&&(_+=this._zTime=M?-1e-8:cn);break}}b=R}}if(L&&!o&&(this.pause(),L.render(w>=h?0:-1e-8)._zTime=w>=h?1:-1,this._ts))return this._start=H,Jd(this),this.render(s,o,u);this._onUpdate&&!o&&qn(this,"onUpdate",!0),(_===d&&this._tTime>=this.totalDuration()||!_&&h)&&(H===this._start||Math.abs(V)!==Math.abs(this._ts))&&(this._lock||((s||!p)&&(_===d&&this._ts>0||!_&&this._ts<0)&&sa(this,1),!o&&!(s<0&&!h)&&(_||h||!d)&&(qn(this,_===d&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,o){var u=this;if(Xi(o)||(o=fr(this,o,s)),!(s instanceof jc)){if(hn(s))return s.forEach(function(h){return u.add(h,o)}),this;if(Yt(s))return this.addLabel(s,o);if(_t(s))s=Ct.delayedCall(0,s);else return this}return this!==s?Wr(this,s,o):this},t.getChildren=function(s,o,u,h){s===void 0&&(s=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),h===void 0&&(h=-1e8);for(var d=[],p=this._first;p;)p._start>=h&&(p instanceof Ct?o&&d.push(p):(u&&d.push(p),s&&d.push.apply(d,p.getChildren(!0,o,u)))),p=p._next;return d},t.getById=function(s){for(var o=this.getChildren(1,1,1),u=o.length;u--;)if(o[u].vars.id===s)return o[u]},t.remove=function(s){return Yt(s)?this.removeLabel(s):_t(s)?this.killTweensOf(s):(s.parent===this&&Zd(this,s),s===this._recent&&(this._recent=this._last),lo(this))},t.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=It(Fn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},t.addLabel=function(s,o){return this.labels[s]=fr(this,o),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,o,u){var h=Ct.delayedCall(0,o||Lc,u);return h.data="isPause",this._hasPause=1,Wr(this,h,fr(this,s))},t.removePause=function(s){var o=this._first;for(s=fr(this,s);o;)o._start===s&&o.data==="isPause"&&sa(o),o=o._next},t.killTweensOf=function(s,o,u){for(var h=this.getTweensOf(s,u),d=h.length;d--;)Qs!==h[d]&&h[d].kill(s,o);return this},t.getTweensOf=function(s,o){for(var u=[],h=pr(s),d=this._first,p=Xi(o),_;d;)d instanceof Ct?mx(d._targets,h)&&(p?(!Qs||d._initted&&d._ts)&&d.globalTime(0)<=o&&d.globalTime(d.totalDuration())>o:!o||d.isActive())&&u.push(d):(_=d.getTweensOf(h,o)).length&&u.push.apply(u,_),d=d._next;return u},t.tweenTo=function(s,o){o=o||{};var u=this,h=fr(u,s),d=o,p=d.startAt,_=d.onStart,v=d.onStartParams,w=d.immediateRender,b,R=Ct.to(u,Yn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:o.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale())||cn,onStart:function(){if(u.pause(),!b){var D=o.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale());R._dur!==D&&Ll(R,D,0,1).render(R._time,!0,!0),b=1}_&&_.apply(R,v||[])}},o));return w?R.render(0):R},t.tweenFromTo=function(s,o,u){return this.tweenTo(o,Yn({startAt:{time:fr(this,s)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),lw(this,fr(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),lw(this,fr(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+cn)},t.shiftChildren=function(s,o,u){u===void 0&&(u=0);for(var h=this._first,d=this.labels,p;h;)h._start>=u&&(h._start+=s,h._end+=s),h=h._next;if(o)for(p in d)d[p]>=u&&(d[p]+=s);return lo(this)},t.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return n.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,u;o;)u=o._next,this.remove(o),o=u;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),lo(this)},t.totalDuration=function(s){var o=0,u=this,h=u._last,d=Jr,p,_,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-s:s));if(u._dirty){for(v=u.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),_=h._start,_>d&&u._sort&&h._ts&&!u._lock?(u._lock=1,Wr(u,h,_-h._delay,1)._lock=0):d=_,_<0&&h._ts&&(o-=_,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=_/u._ts,u._time-=_,u._tTime-=_),u.shiftChildren(-_,!1,-1/0),d=0),h._end>o&&h._ts&&(o=h._end),h=p;Ll(u,u===lt&&u._time>o?u._time:o,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(s){if(lt._ts&&(KS(lt,gd(s,lt)),YS=Fn.frame),Fn.frame>=iw){iw+=Hn.autoSleep||120;var o=lt._first;if((!o||!o._ts)&&Hn.autoSleep&&Fn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Fn.sleep()}}},e}(jc);Yn(En.prototype,{_lock:0,_hasPause:0,_forcing:0});var Lx=function(e,t,r,s,o,u,h){var d=new xn(this._pt,e,t,0,1,wA,null,o),p=0,_=0,v,w,b,R,S,D,k,L;for(d.b=r,d.e=s,r+="",s+="",(k=~s.indexOf("random("))&&(s=Uc(s)),u&&(L=[r,s],u(L,e,t),r=L[0],s=L[1]),w=r.match(Fg)||[];v=Fg.exec(s);)R=v[0],S=s.substring(p,v.index),b?b=(b+1)%5:S.substr(-5)==="rgba("&&(b=1),R!==w[_++]&&(D=parseFloat(w[_-1])||0,d._pt={_next:d._pt,p:S||_===1?S:",",s:D,c:R.charAt(1)==="="?Cl(D,R)-D:parseFloat(R)-D,m:b&&b<4?Math.round:0},p=Fg.lastIndex);return d.c=p<s.length?s.substring(p,s.length):"",d.fp=h,(BS.test(s)||k)&&(d.e=0),this._pt=d,d},Ty=function(e,t,r,s,o,u,h,d,p,_){_t(s)&&(s=s(o||0,e,u));var v=e[t],w=r!=="get"?r:_t(v)?p?e[t.indexOf("set")||!_t(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():v,b=_t(v)?p?Fx:EA:by,R;if(Yt(s)&&(~s.indexOf("random(")&&(s=Uc(s)),s.charAt(1)==="="&&(R=Cl(w,s)+(un(w)||0),(R||R===0)&&(s=R))),!_||w!==s||S_)return!isNaN(w*s)&&s!==""?(R=new xn(this._pt,e,t,+w||0,s-(w||0),typeof v=="boolean"?Hx:TA,0,b),p&&(R.fp=p),h&&R.modifier(h,this,e),this._pt=R):(!v&&!(t in e)&&_y(t,s),Lx.call(this,e,t,w,s,b,d||Hn.stringFilter,p))},Ux=function(e,t,r,s,o){if(_t(e)&&(e=Sc(e,o,t,r,s)),!ai(e)||e.style&&e.nodeType||hn(e)||zS(e))return Yt(e)?Sc(e,o,t,r,s):e;var u={},h;for(h in e)u[h]=Sc(e[h],o,t,r,s);return u},_A=function(e,t,r,s,o,u){var h,d,p,_;if(Bn[e]&&(h=new Bn[e]).init(o,h.rawVars?t[e]:Ux(t[e],s,o,u,r),r,s,u)!==!1&&(r._pt=d=new xn(r._pt,o,e,0,1,h.render,h,0,h.priority),r!==Rl))for(p=r._ptLookup[r._targets.indexOf(o)],_=h._props.length;_--;)p[h._props[_]]=d;return h},Qs,S_,wy=function n(e,t,r){var s=e.vars,o=s.ease,u=s.startAt,h=s.immediateRender,d=s.lazy,p=s.onUpdate,_=s.runBackwards,v=s.yoyoEase,w=s.keyframes,b=s.autoRevert,R=e._dur,S=e._startAt,D=e._targets,k=e.parent,L=k&&k.data==="nested"?k.vars.targets:D,V=e._overwrite==="auto"&&!dy,H=e.timeline,F,X,x,C,A,M,U,j,N,xe,Ie,ae,he;if(H&&(!w||!o)&&(o="none"),e._ease=uo(o,Pl.ease),e._yEase=v?dA(uo(v===!0?o:v,Pl.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!H&&!!s.runBackwards,!H||w&&!s.stagger){if(j=D[0]?oo(D[0]).harness:0,ae=j&&s[j.prop],F=pd(s,yy),S&&(S._zTime<0&&S.progress(1),t<0&&_&&h&&!b?S.render(-1,!0):S.revert(_&&R?Xf:fx),S._lazy=0),u){if(sa(e._startAt=Ct.set(D,Yn({data:"isStart",overwrite:!1,parent:k,immediateRender:!0,lazy:!S&&Dn(d),startAt:null,delay:0,onUpdate:p&&function(){return qn(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(en||!h&&!b)&&e._startAt.revert(Xf),h&&R&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(_&&R&&!S){if(t&&(h=!1),x=Yn({overwrite:!1,data:"isFromStart",lazy:h&&!S&&Dn(d),immediateRender:h,stagger:0,parent:k},F),ae&&(x[j.prop]=ae),sa(e._startAt=Ct.set(D,x)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(en?e._startAt.revert(Xf):e._startAt.render(-1,!0)),e._zTime=t,!h)n(e._startAt,cn,cn);else if(!t)return}for(e._pt=e._ptCache=0,d=R&&Dn(d)||d&&!R,X=0;X<D.length;X++){if(A=D[X],U=A._gsap||Ey(D)[X]._gsap,e._ptLookup[X]=xe={},y_[U.id]&&Ws.length&&md(),Ie=L===D?X:L.indexOf(A),j&&(N=new j).init(A,ae||F,e,Ie,L)!==!1&&(e._pt=C=new xn(e._pt,A,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(de){xe[de]=C}),N.priority&&(M=1)),!j||ae)for(x in F)Bn[x]&&(N=_A(x,F,e,Ie,A,L))?N.priority&&(M=1):xe[x]=C=Ty.call(e,A,x,"get",F[x],Ie,L,0,s.stringFilter);e._op&&e._op[X]&&e.kill(A,e._op[X]),V&&e._pt&&(Qs=e,lt.killTweensOf(A,xe,e.globalTime(t)),he=!e.parent,Qs=0),e._pt&&d&&(y_[U.id]=1)}M&&bA(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!he,w&&t<=0&&H.render(Jr,!0,!0)},zx=function(e,t,r,s,o,u,h,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],_,v,w,b;if(!p)for(p=e._ptCache[t]=[],w=e._ptLookup,b=e._targets.length;b--;){if(_=w[b][t],_&&_.d&&_.d._pt)for(_=_.d._pt;_&&_.p!==t&&_.fp!==t;)_=_._next;if(!_)return S_=1,e.vars[t]="+=0",wy(e,h),S_=0,d?Vc(t+" not eligible for reset"):1;p.push(_)}for(b=p.length;b--;)v=p[b],_=v._pt||v,_.s=(s||s===0)&&!o?s:_.s+(s||0)+u*_.c,_.c=r-_.s,v.e&&(v.e=Et(r)+un(v.e)),v.b&&(v.b=_.s+un(v.b))},jx=function(e,t){var r=e[0]?oo(e[0]).harness:0,s=r&&r.aliases,o,u,h,d;if(!s)return t;o=kl({},t);for(u in s)if(u in o)for(d=s[u].split(","),h=d.length;h--;)o[d[h]]=o[u];return o},Bx=function(e,t,r,s){var o=t.ease||s||"power1.inOut",u,h;if(hn(t))h=r[e]||(r[e]=[]),t.forEach(function(d,p){return h.push({t:p/(t.length-1)*100,v:d,e:o})});else for(u in t)h=r[u]||(r[u]=[]),u==="ease"||h.push({t:parseFloat(e),v:t[u],e:o})},Sc=function(e,t,r,s,o){return _t(e)?e.call(t,r,s,o):Yt(e)&&~e.indexOf("random(")?Uc(e):e},yA=vy+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",vA={};On(yA+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return vA[n]=1});var Ct=function(n){LS(e,n);function e(r,s,o,u){var h;typeof s=="number"&&(o.duration=s,s=o,o=null),h=n.call(this,u?s:wc(s))||this;var d=h.vars,p=d.duration,_=d.delay,v=d.immediateRender,w=d.stagger,b=d.overwrite,R=d.keyframes,S=d.defaults,D=d.scrollTrigger,k=d.yoyoEase,L=s.parent||lt,V=(hn(r)||zS(r)?Xi(r[0]):"length"in s)?[r]:pr(r),H,F,X,x,C,A,M,U;if(h._targets=V.length?Ey(V):Vc("GSAP target "+r+" not found. https://gsap.com",!Hn.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=b,R||w||zf(p)||zf(_)){if(s=h.vars,H=h.timeline=new En({data:"nested",defaults:S||{},targets:L&&L.data==="nested"?L.vars.targets:V}),H.kill(),H.parent=H._dp=Bi(h),H._start=0,w||zf(p)||zf(_)){if(x=V.length,M=w&&rA(w),ai(w))for(C in w)~yA.indexOf(C)&&(U||(U={}),U[C]=w[C]);for(F=0;F<x;F++)X=pd(s,vA),X.stagger=0,k&&(X.yoyoEase=k),U&&kl(X,U),A=V[F],X.duration=+Sc(p,Bi(h),F,A,V),X.delay=(+Sc(_,Bi(h),F,A,V)||0)-h._delay,!w&&x===1&&X.delay&&(h._delay=_=X.delay,h._start+=_,X.delay=0),H.to(A,X,M?M(F,A,V):0),H._ease=Ue.none;H.duration()?p=_=0:h.timeline=0}else if(R){wc(Yn(H.vars.defaults,{ease:"none"})),H._ease=uo(R.ease||s.ease||"none");var j=0,N,xe,Ie;if(hn(R))R.forEach(function(ae){return H.to(V,ae,">")}),H.duration();else{X={};for(C in R)C==="ease"||C==="easeEach"||Bx(C,R[C],X,R.easeEach);for(C in X)for(N=X[C].sort(function(ae,he){return ae.t-he.t}),j=0,F=0;F<N.length;F++)xe=N[F],Ie={ease:xe.e,duration:(xe.t-(F?N[F-1].t:0))/100*p},Ie[C]=xe.v,H.to(V,Ie,j),j+=Ie.duration;H.duration()<p&&H.to({},{duration:p-H.duration()})}}p||h.duration(p=H.duration())}else h.timeline=0;return b===!0&&!dy&&(Qs=Bi(h),lt.killTweensOf(V),Qs=0),Wr(L,Bi(h),o),s.reversed&&h.reverse(),s.paused&&h.paused(!0),(v||!p&&!R&&h._start===It(L._time)&&Dn(v)&&yx(Bi(h))&&L.data!=="nested")&&(h._tTime=-1e-8,h.render(Math.max(0,-_)||0)),D&&JS(Bi(h),D),h}var t=e.prototype;return t.render=function(s,o,u){var h=this._time,d=this._tDur,p=this._dur,_=s<0,v=s>d-cn&&!_?d:s<cn?0:s,w,b,R,S,D,k,L,V,H;if(!p)Ex(this,s,o,u);else if(v!==this._tTime||!s||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(w=v,V=this.timeline,this._repeat){if(S=p+this._rDelay,this._repeat<-1&&_)return this.totalTime(S*100+s,o,u);if(w=It(v%S),v===d?(R=this._repeat,w=p):(D=It(v/S),R=~~D,R&&R===D?(w=p,R--):w>p&&(w=p)),k=this._yoyo&&R&1,k&&(H=this._yEase,w=p-w),D=Vl(this._tTime,S),w===h&&!u&&this._initted&&R===D)return this._tTime=v,this;R!==D&&(V&&this._yEase&&mA(V,k),this.vars.repeatRefresh&&!k&&!this._lock&&w!==S&&this._initted&&(this._lock=u=1,this.render(It(S*R),!0).invalidate()._lock=0))}if(!this._initted){if(eA(this,_?s:w,u,o,v))return this._tTime=0,this;if(h!==this._time&&!(u&&this.vars.repeatRefresh&&R!==D))return this;if(p!==this._dur)return this.render(s,o,u)}if(this._tTime=v,this._time=w,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(H||this._ease)(w/p),this._from&&(this.ratio=L=1-L),w&&!h&&!o&&!R&&(qn(this,"onStart"),this._tTime!==v))return this;for(b=this._pt;b;)b.r(L,b.d),b=b._next;V&&V.render(s<0?s:V._dur*V._ease(w/this._dur),o,u)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(_&&v_(this,s,o,u),qn(this,"onUpdate")),this._repeat&&R!==D&&this.vars.onRepeat&&!o&&this.parent&&qn(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(_&&!this._onUpdate&&v_(this,s,!0,!0),(s||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&sa(this,1),!o&&!(_&&!h)&&(v||h||k)&&(qn(this,v===d?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},t.resetTo=function(s,o,u,h,d){zc||Fn.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_;return this._initted||wy(this,p),_=this._ease(p/this._dur),zx(this,s,o,u,h,_,p,d)?this.resetTo(s,o,u,h,1):(em(this,0),this.parent||WS(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?pc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!en),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,Qs&&Qs.vars.overwrite!==!0)._first||pc(this),this.parent&&u!==this.timeline.totalDuration()&&Ll(this,this._dur*this.timeline._tDur/u,0,1),this}var h=this._targets,d=s?pr(s):h,p=this._ptLookup,_=this._pt,v,w,b,R,S,D,k;if((!o||o==="all")&&gx(h,d))return o==="all"&&(this._pt=0),pc(this);for(v=this._op=this._op||[],o!=="all"&&(Yt(o)&&(S={},On(o,function(L){return S[L]=1}),o=S),o=jx(h,o)),k=h.length;k--;)if(~d.indexOf(h[k])){w=p[k],o==="all"?(v[k]=o,R=w,b={}):(b=v[k]=v[k]||{},R=o);for(S in R)D=w&&w[S],D&&((!("kill"in D.d)||D.d.kill(S)===!0)&&Zd(this,D,"_pt"),delete w[S]),b!=="all"&&(b[S]=1)}return this._initted&&!this._pt&&_&&pc(this),this},e.to=function(s,o){return new e(s,o,arguments[2])},e.from=function(s,o){return bc(1,arguments)},e.delayedCall=function(s,o,u,h){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:h})},e.fromTo=function(s,o,u){return bc(2,arguments)},e.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(s,o)},e.killTweensOf=function(s,o,u){return lt.killTweensOf(s,o,u)},e}(jc);Yn(Ct.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});On("staggerTo,staggerFrom,staggerFromTo",function(n){Ct[n]=function(){var e=new En,t=T_.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var by=function(e,t,r){return e[t]=r},EA=function(e,t,r){return e[t](r)},Fx=function(e,t,r,s){return e[t](s.fp,r)},qx=function(e,t,r){return e.setAttribute(t,r)},Sy=function(e,t){return _t(e[t])?EA:my(e[t])&&e.setAttribute?qx:by},TA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Hx=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},wA=function(e,t){var r=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=t.c}t.set(t.t,t.p,s,t)},Ay=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Gx=function(e,t,r,s){for(var o=this._pt,u;o;)u=o._next,o.p===s&&o.modifier(e,t,r),o=u},Yx=function(e){for(var t=this._pt,r,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?Zd(this,t,"_pt"):t.dep||(r=1),t=s;return!r},Qx=function(e,t,r,s){s.mSet(e,t,s.m.call(s.tween,r,s.mt),s)},bA=function(e){for(var t=e._pt,r,s,o,u;t;){for(r=t._next,s=o;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:u)?t._prev._next=t:o=t,(t._next=s)?s._prev=t:u=t,t=r}e._pt=o},xn=function(){function n(t,r,s,o,u,h,d,p,_){this.t=r,this.s=o,this.c=u,this.p=s,this.r=h||TA,this.d=d||this,this.set=p||by,this.pr=_||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,s,o){this.mSet=this.mSet||this.set,this.set=Qx,this.m=r,this.mt=o,this.tween=s},n}();On(vy+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return yy[n]=1});Gn.TweenMax=Gn.TweenLite=Ct;Gn.TimelineLite=Gn.TimelineMax=En;lt=new En({sortChildren:!1,defaults:Pl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Hn.stringFilter=fA;var co=[],Zf={},Kx=[],cw=0,$x=0,Qg=function(e){return(Zf[e]||Kx).map(function(t){return t()})},A_=function(){var e=Date.now(),t=[];e-cw>2&&(Qg("matchMediaInit"),co.forEach(function(r){var s=r.queries,o=r.conditions,u,h,d,p;for(h in s)u=$r.matchMedia(s[h]).matches,u&&(d=1),u!==o[h]&&(o[h]=u,p=1);p&&(r.revert(),d&&t.push(r))}),Qg("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),cw=e,Qg("matchMedia"))},SA=function(){function n(t,r){this.selector=r&&w_(r),this.data=[],this._r=[],this.isReverted=!1,this.id=$x++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,s,o){_t(r)&&(o=s,s=r,r=_t);var u=this,h=function(){var p=it,_=u.selector,v;return p&&p!==u&&p.data.push(u),o&&(u.selector=w_(o)),it=u,v=s.apply(u,arguments),_t(v)&&u._r.push(v),it=p,u.selector=_,u.isReverted=!1,v};return u.last=h,r===_t?h(u,function(d){return u.add(null,d)}):r?u[r]=h:h},e.ignore=function(r){var s=it;it=null,r(this),it=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof n?r.push.apply(r,s.getTweens()):s instanceof Ct&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var o=this;if(r?function(){for(var h=o.getTweens(),d=o.data.length,p;d--;)p=o.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(_){return h.splice(h.indexOf(_),1)}));for(h.map(function(_){return{g:_._dur||_._delay||_._sat&&!_._sat.vars.immediateRender?_.globalTime(0):-1/0,t:_}}).sort(function(_,v){return v.g-_.g||-1/0}).forEach(function(_){return _.t.revert(r)}),d=o.data.length;d--;)p=o.data[d],p instanceof En?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof Ct)&&p.revert&&p.revert(r);o._r.forEach(function(_){return _(r,o)}),o.isReverted=!0}():this.data.forEach(function(h){return h.kill&&h.kill()}),this.clear(),s)for(var u=co.length;u--;)co[u].id===this.id&&co.splice(u,1)},e.revert=function(r){this.kill(r||{})},n}(),Xx=function(){function n(t){this.contexts=[],this.scope=t,it&&it.data.push(this)}var e=n.prototype;return e.add=function(r,s,o){ai(r)||(r={matches:r});var u=new SA(0,o||this.scope),h=u.conditions={},d,p,_;it&&!u.selector&&(u.selector=it.selector),this.contexts.push(u),s=u.add("onMatch",s),u.queries=r;for(p in r)p==="all"?_=1:(d=$r.matchMedia(r[p]),d&&(co.indexOf(u)<0&&co.push(u),(h[p]=d.matches)&&(_=1),d.addListener?d.addListener(A_):d.addEventListener("change",A_)));return _&&s(u,function(v){return u.add(null,v)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},n}(),_d={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(s){return uA(s)})},timeline:function(e){return new En(e)},getTweensOf:function(e,t){return lt.getTweensOf(e,t)},getProperty:function(e,t,r,s){Yt(e)&&(e=pr(e)[0]);var o=oo(e||{}).get,u=r?XS:$S;return r==="native"&&(r=""),e&&(t?u((Bn[t]&&Bn[t].get||o)(e,t,r,s)):function(h,d,p){return u((Bn[h]&&Bn[h].get||o)(e,h,d,p))})},quickSetter:function(e,t,r){if(e=pr(e),e.length>1){var s=e.map(function(_){return Nn.quickSetter(_,t,r)}),o=s.length;return function(_){for(var v=o;v--;)s[v](_)}}e=e[0]||{};var u=Bn[t],h=oo(e),d=h.harness&&(h.harness.aliases||{})[t]||t,p=u?function(_){var v=new u;Rl._pt=0,v.init(e,r?_+r:_,Rl,0,[e]),v.render(1,v),Rl._pt&&Ay(1,Rl)}:h.set(e,d);return u?p:function(_){return p(e,d,r?_+r:_,h,1)}},quickTo:function(e,t,r){var s,o=Nn.to(e,Yn((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),u=function(d,p,_){return o.resetTo(t,d,p,_)};return u.tween=o,u},isTweening:function(e){return lt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=uo(e.ease,Pl.ease)),sw(Pl,e||{})},config:function(e){return sw(Hn,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.plugins,o=e.defaults,u=e.extendTimeline;(s||"").split(",").forEach(function(h){return h&&!Bn[h]&&!Gn[h]&&Vc(t+" effect requires "+h+" plugin.")}),qg[t]=function(h,d,p){return r(pr(h),Yn(d||{},o),p)},u&&(En.prototype[t]=function(h,d,p){return this.add(qg[t](h,ai(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){Ue[e]=uo(t)},parseEase:function(e,t){return arguments.length?uo(e,t):Ue},getById:function(e){return lt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new En(e),s,o;for(r.smoothChildTiming=Dn(e.smoothChildTiming),lt.remove(r),r._dp=0,r._time=r._tTime=lt._time,s=lt._first;s;)o=s._next,(t||!(!s._dur&&s instanceof Ct&&s.vars.onComplete===s._targets[0]))&&Wr(r,s,s._start-s._delay),s=o;return Wr(lt,r,0),r},context:function(e,t){return e?new SA(e,t):it},matchMedia:function(e){return new Xx(e)},matchMediaRefresh:function(){return co.forEach(function(e){var t=e.conditions,r,s;for(s in t)t[s]&&(t[s]=!1,r=1);r&&e.revert()})||A_()},addEventListener:function(e,t){var r=Zf[e]||(Zf[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Zf[e],s=r&&r.indexOf(t);s>=0&&r.splice(s,1)},utils:{wrap:Ix,wrapYoyo:Dx,distribute:rA,random:sA,snap:iA,normalize:Cx,getUnit:un,clamp:bx,splitColor:cA,toArray:pr,selector:w_,mapRange:oA,pipe:Ax,unitize:Rx,interpolate:Ox,shuffle:nA},install:HS,effects:qg,ticker:Fn,updateRoot:En.updateRoot,plugins:Bn,globalTimeline:lt,core:{PropTween:xn,globals:GS,Tween:Ct,Timeline:En,Animation:jc,getCache:oo,_removeLinkedListItem:Zd,reverting:function(){return en},context:function(e){return e&&it&&(it.data.push(e),e._ctx=it),it},suppressOverwrites:function(e){return dy=e}}};On("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return _d[n]=Ct[n]});Fn.add(En.updateRoot);Rl=_d.to({},{duration:0});var Wx=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Zx=function(e,t){var r=e._targets,s,o,u;for(s in t)for(o=r.length;o--;)u=e._ptLookup[o][s],u&&(u=u.d)&&(u._pt&&(u=Wx(u,s)),u&&u.modifier&&u.modifier(t[s],e,r[o],s))},Kg=function(e,t){return{name:e,rawVars:1,init:function(s,o,u){u._onInit=function(h){var d,p;if(Yt(o)&&(d={},On(o,function(_){return d[_]=1}),o=d),t){d={};for(p in o)d[p]=t(o[p]);o=d}Zx(h,o)}}}},Nn=_d.registerPlugin({name:"attr",init:function(e,t,r,s,o){var u,h,d;this.tween=r;for(u in t)d=e.getAttribute(u)||"",h=this.add(e,"setAttribute",(d||0)+"",t[u],s,o,0,0,u),h.op=u,h.b=d,this._props.push(u)},render:function(e,t){for(var r=t._pt;r;)en?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Kg("roundProps",b_),Kg("modifiers"),Kg("snap",iA))||_d;Ct.version=En.version=Nn.version="3.12.7";qS=1;py()&&Ul();Ue.Power0;Ue.Power1;Ue.Power2;Ue.Power3;Ue.Power4;Ue.Linear;Ue.Quad;Ue.Cubic;Ue.Quart;Ue.Quint;Ue.Strong;Ue.Elastic;Ue.Back;Ue.SteppedEase;Ue.Bounce;Ue.Sine;Ue.Expo;Ue.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var hw,Ks,Il,Ry,ro,fw,Cy,Jx=function(){return typeof window<"u"},Wi={},Ja=180/Math.PI,Dl=Math.PI/180,yl=Math.atan2,dw=1e8,Iy=/([A-Z])/g,eM=/(left|right|width|margin|padding|x)/i,tM=/[\s,\(]\S/,Zr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},R_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},nM=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},rM=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},iM=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},AA=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},RA=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},sM=function(e,t,r){return e.style[t]=r},aM=function(e,t,r){return e.style.setProperty(t,r)},oM=function(e,t,r){return e._gsap[t]=r},lM=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},uM=function(e,t,r,s,o){var u=e._gsap;u.scaleX=u.scaleY=r,u.renderTransform(o,u)},cM=function(e,t,r,s,o){var u=e._gsap;u[t]=r,u.renderTransform(o,u)},ut="transform",Mn=ut+"Origin",hM=function n(e,t){var r=this,s=this.target,o=s.style,u=s._gsap;if(e in Wi&&o){if(this.tfm=this.tfm||{},e!=="transform")e=Zr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(h){return r.tfm[h]=Fi(s,h)}):this.tfm[e]=u.x?u[e]:Fi(s,e),e===Mn&&(this.tfm.zOrigin=u.zOrigin);else return Zr.transform.split(",").forEach(function(h){return n.call(r,h,t)});if(this.props.indexOf(ut)>=0)return;u.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Mn,t,"")),e=ut}(o||t)&&this.props.push(e,t,o[e])},CA=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},fM=function(){var e=this.props,t=this.target,r=t.style,s=t._gsap,o,u;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?t[e[o]](e[o+2]):t[e[o]]=e[o+2]:e[o+2]?r[e[o]]=e[o+2]:r.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Iy,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)s[u]=this.tfm[u];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),o=Cy(),(!o||!o.isStart)&&!r[ut]&&(CA(r),s.zOrigin&&r[Mn]&&(r[Mn]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},IA=function(e,t){var r={target:e,props:[],revert:fM,save:hM};return e._gsap||Nn.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return r.save(s)}),r},DA,C_=function(e,t){var r=Ks.createElementNS?Ks.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ks.createElement(e);return r&&r.style?r:Ks.createElement(e)},ei=function n(e,t,r){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(Iy,"-$1").toLowerCase())||s.getPropertyValue(t)||!r&&n(e,zl(t)||t,1)||""},mw="O,Moz,ms,Ms,Webkit".split(","),zl=function(e,t,r){var s=t||ro,o=s.style,u=5;if(e in o&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(mw[u]+e in o););return u<0?null:(u===3?"ms":u>=0?mw[u]:"")+e},I_=function(){Jx()&&window.document&&(hw=window,Ks=hw.document,Il=Ks.documentElement,ro=C_("div")||{style:{}},C_("div"),ut=zl(ut),Mn=ut+"Origin",ro.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",DA=!!zl("perspective"),Cy=Nn.core.reverting,Ry=1)},pw=function(e){var t=e.ownerSVGElement,r=C_("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),o;s.style.display="block",r.appendChild(s),Il.appendChild(r);try{o=s.getBBox()}catch{}return r.removeChild(s),Il.removeChild(r),o},gw=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},OA=function(e){var t,r;try{t=e.getBBox()}catch{t=pw(e),r=1}return t&&(t.width||t.height)||r||(t=pw(e)),t&&!t.width&&!t.x&&!t.y?{x:+gw(e,["x","cx","x1"])||0,y:+gw(e,["y","cy","y1"])||0,width:0,height:0}:t},xA=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&OA(e))},fo=function(e,t){if(t){var r=e.style,s;t in Wi&&t!==Mn&&(t=ut),r.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(s==="--"?t:t.replace(Iy,"-$1").toLowerCase())):r.removeAttribute(t)}},$s=function(e,t,r,s,o,u){var h=new xn(e._pt,t,r,0,1,u?RA:AA);return e._pt=h,h.b=s,h.e=o,e._props.push(r),h},_w={deg:1,rad:1,turn:1},dM={grid:1,flex:1},aa=function n(e,t,r,s){var o=parseFloat(r)||0,u=(r+"").trim().substr((o+"").length)||"px",h=ro.style,d=eM.test(t),p=e.tagName.toLowerCase()==="svg",_=(p?"client":"offset")+(d?"Width":"Height"),v=100,w=s==="px",b=s==="%",R,S,D,k;if(s===u||!o||_w[s]||_w[u])return o;if(u!=="px"&&!w&&(o=n(e,t,r,"px")),k=e.getCTM&&xA(e),(b||u==="%")&&(Wi[t]||~t.indexOf("adius")))return R=k?e.getBBox()[d?"width":"height"]:e[_],Et(b?o/R*v:o/100*R);if(h[d?"width":"height"]=v+(w?u:s),S=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!p?e:e.parentNode,k&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===Ks||!S.appendChild)&&(S=Ks.body),D=S._gsap,D&&b&&D.width&&d&&D.time===Fn.time&&!D.uncache)return Et(o/D.width*v);if(b&&(t==="height"||t==="width")){var L=e.style[t];e.style[t]=v+s,R=e[_],L?e.style[t]=L:fo(e,t)}else(b||u==="%")&&!dM[ei(S,"display")]&&(h.position=ei(e,"position")),S===e&&(h.position="static"),S.appendChild(ro),R=ro[_],S.removeChild(ro),h.position="absolute";return d&&b&&(D=oo(S),D.time=Fn.time,D.width=S[_]),Et(w?R*o/v:R&&o?v/R*o:0)},Fi=function(e,t,r,s){var o;return Ry||I_(),t in Zr&&t!=="transform"&&(t=Zr[t],~t.indexOf(",")&&(t=t.split(",")[0])),Wi[t]&&t!=="transform"?(o=Fc(e,s),o=t!=="transformOrigin"?o[t]:o.svg?o.origin:vd(ei(e,Mn))+" "+o.zOrigin+"px"):(o=e.style[t],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=yd[t]&&yd[t](e,t,r)||ei(e,t)||QS(e,t)||(t==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?aa(e,t,o,r)+r:o},mM=function(e,t,r,s){if(!r||r==="none"){var o=zl(t,e,1),u=o&&ei(e,o,1);u&&u!==r?(t=o,r=u):t==="borderColor"&&(r=ei(e,"borderTopColor"))}var h=new xn(this._pt,e.style,t,0,1,wA),d=0,p=0,_,v,w,b,R,S,D,k,L,V,H,F;if(h.b=r,h.e=s,r+="",s+="",s==="auto"&&(S=e.style[t],e.style[t]=s,s=ei(e,t)||s,S?e.style[t]=S:fo(e,t)),_=[r,s],fA(_),r=_[0],s=_[1],w=r.match(Al)||[],F=s.match(Al)||[],F.length){for(;v=Al.exec(s);)D=v[0],L=s.substring(d,v.index),R?R=(R+1)%5:(L.substr(-5)==="rgba("||L.substr(-5)==="hsla(")&&(R=1),D!==(S=w[p++]||"")&&(b=parseFloat(S)||0,H=S.substr((b+"").length),D.charAt(1)==="="&&(D=Cl(b,D)+H),k=parseFloat(D),V=D.substr((k+"").length),d=Al.lastIndex-V.length,V||(V=V||Hn.units[t]||H,d===s.length&&(s+=V,h.e+=V)),H!==V&&(b=aa(e,t,S,V)||0),h._pt={_next:h._pt,p:L||p===1?L:",",s:b,c:k-b,m:R&&R<4||t==="zIndex"?Math.round:0});h.c=d<s.length?s.substring(d,s.length):""}else h.r=t==="display"&&s==="none"?RA:AA;return BS.test(s)&&(h.e=0),this._pt=h,h},yw={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},pM=function(e){var t=e.split(" "),r=t[0],s=t[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),t[0]=yw[r]||r,t[1]=yw[s]||s,t.join(" ")},gM=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,s=r.style,o=t.u,u=r._gsap,h,d,p;if(o==="all"||o===!0)s.cssText="",d=1;else for(o=o.split(","),p=o.length;--p>-1;)h=o[p],Wi[h]&&(d=1,h=h==="transformOrigin"?Mn:ut),fo(r,h);d&&(fo(r,ut),u&&(u.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Fc(r,1),u.uncache=1,CA(s)))}},yd={clearProps:function(e,t,r,s,o){if(o.data!=="isFromStart"){var u=e._pt=new xn(e._pt,t,r,0,0,gM);return u.u=s,u.pr=-10,u.tween=o,e._props.push(r),1}}},Bc=[1,0,0,1,0,0],MA={},NA=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},vw=function(e){var t=ei(e,ut);return NA(t)?Bc:t.substr(7).match(jS).map(Et)},Dy=function(e,t){var r=e._gsap||oo(e),s=e.style,o=vw(e),u,h,d,p;return r.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,o=[d.a,d.b,d.c,d.d,d.e,d.f],o.join(",")==="1,0,0,1,0,0"?Bc:o):(o===Bc&&!e.offsetParent&&e!==Il&&!r.svg&&(d=s.display,s.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,h=e.nextElementSibling,Il.appendChild(e)),o=vw(e),d?s.display=d:fo(e,"display"),p&&(h?u.insertBefore(e,h):u?u.appendChild(e):Il.removeChild(e))),t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},D_=function(e,t,r,s,o,u){var h=e._gsap,d=o||Dy(e,!0),p=h.xOrigin||0,_=h.yOrigin||0,v=h.xOffset||0,w=h.yOffset||0,b=d[0],R=d[1],S=d[2],D=d[3],k=d[4],L=d[5],V=t.split(" "),H=parseFloat(V[0])||0,F=parseFloat(V[1])||0,X,x,C,A;r?d!==Bc&&(x=b*D-R*S)&&(C=H*(D/x)+F*(-S/x)+(S*L-D*k)/x,A=H*(-R/x)+F*(b/x)-(b*L-R*k)/x,H=C,F=A):(X=OA(e),H=X.x+(~V[0].indexOf("%")?H/100*X.width:H),F=X.y+(~(V[1]||V[0]).indexOf("%")?F/100*X.height:F)),s||s!==!1&&h.smooth?(k=H-p,L=F-_,h.xOffset=v+(k*b+L*S)-k,h.yOffset=w+(k*R+L*D)-L):h.xOffset=h.yOffset=0,h.xOrigin=H,h.yOrigin=F,h.smooth=!!s,h.origin=t,h.originIsAbsolute=!!r,e.style[Mn]="0px 0px",u&&($s(u,h,"xOrigin",p,H),$s(u,h,"yOrigin",_,F),$s(u,h,"xOffset",v,h.xOffset),$s(u,h,"yOffset",w,h.yOffset)),e.setAttribute("data-svg-origin",H+" "+F)},Fc=function(e,t){var r=e._gsap||new gA(e);if("x"in r&&!t&&!r.uncache)return r;var s=e.style,o=r.scaleX<0,u="px",h="deg",d=getComputedStyle(e),p=ei(e,Mn)||"0",_,v,w,b,R,S,D,k,L,V,H,F,X,x,C,A,M,U,j,N,xe,Ie,ae,he,de,ke,z,se,me,ue,le,Ee;return _=v=w=S=D=k=L=V=H=0,b=R=1,r.svg=!!(e.getCTM&&xA(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(s[ut]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[ut]!=="none"?d[ut]:"")),s.scale=s.rotate=s.translate="none"),x=Dy(e,r.svg),r.svg&&(r.uncache?(de=e.getBBox(),p=r.xOrigin-de.x+"px "+(r.yOrigin-de.y)+"px",he=""):he=!t&&e.getAttribute("data-svg-origin"),D_(e,he||p,!!he||r.originIsAbsolute,r.smooth!==!1,x)),F=r.xOrigin||0,X=r.yOrigin||0,x!==Bc&&(U=x[0],j=x[1],N=x[2],xe=x[3],_=Ie=x[4],v=ae=x[5],x.length===6?(b=Math.sqrt(U*U+j*j),R=Math.sqrt(xe*xe+N*N),S=U||j?yl(j,U)*Ja:0,L=N||xe?yl(N,xe)*Ja+S:0,L&&(R*=Math.abs(Math.cos(L*Dl))),r.svg&&(_-=F-(F*U+X*N),v-=X-(F*j+X*xe))):(Ee=x[6],ue=x[7],z=x[8],se=x[9],me=x[10],le=x[11],_=x[12],v=x[13],w=x[14],C=yl(Ee,me),D=C*Ja,C&&(A=Math.cos(-C),M=Math.sin(-C),he=Ie*A+z*M,de=ae*A+se*M,ke=Ee*A+me*M,z=Ie*-M+z*A,se=ae*-M+se*A,me=Ee*-M+me*A,le=ue*-M+le*A,Ie=he,ae=de,Ee=ke),C=yl(-N,me),k=C*Ja,C&&(A=Math.cos(-C),M=Math.sin(-C),he=U*A-z*M,de=j*A-se*M,ke=N*A-me*M,le=xe*M+le*A,U=he,j=de,N=ke),C=yl(j,U),S=C*Ja,C&&(A=Math.cos(C),M=Math.sin(C),he=U*A+j*M,de=Ie*A+ae*M,j=j*A-U*M,ae=ae*A-Ie*M,U=he,Ie=de),D&&Math.abs(D)+Math.abs(S)>359.9&&(D=S=0,k=180-k),b=Et(Math.sqrt(U*U+j*j+N*N)),R=Et(Math.sqrt(ae*ae+Ee*Ee)),C=yl(Ie,ae),L=Math.abs(C)>2e-4?C*Ja:0,H=le?1/(le<0?-le:le):0),r.svg&&(he=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!NA(ei(e,ut)),he&&e.setAttribute("transform",he))),Math.abs(L)>90&&Math.abs(L)<270&&(o?(b*=-1,L+=S<=0?180:-180,S+=S<=0?180:-180):(R*=-1,L+=L<=0?180:-180)),t=t||r.uncache,r.x=_-((r.xPercent=_&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+u,r.y=v-((r.yPercent=v&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+u,r.z=w+u,r.scaleX=Et(b),r.scaleY=Et(R),r.rotation=Et(S)+h,r.rotationX=Et(D)+h,r.rotationY=Et(k)+h,r.skewX=L+h,r.skewY=V+h,r.transformPerspective=H+u,(r.zOrigin=parseFloat(p.split(" ")[2])||!t&&r.zOrigin||0)&&(s[Mn]=vd(p)),r.xOffset=r.yOffset=0,r.force3D=Hn.force3D,r.renderTransform=r.svg?yM:DA?PA:_M,r.uncache=0,r},vd=function(e){return(e=e.split(" "))[0]+" "+e[1]},$g=function(e,t,r){var s=un(t);return Et(parseFloat(t)+parseFloat(aa(e,"x",r+"px",s)))+s},_M=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,PA(e,t)},Wa="0deg",fc="0px",Za=") ",PA=function(e,t){var r=t||this,s=r.xPercent,o=r.yPercent,u=r.x,h=r.y,d=r.z,p=r.rotation,_=r.rotationY,v=r.rotationX,w=r.skewX,b=r.skewY,R=r.scaleX,S=r.scaleY,D=r.transformPerspective,k=r.force3D,L=r.target,V=r.zOrigin,H="",F=k==="auto"&&e&&e!==1||k===!0;if(V&&(v!==Wa||_!==Wa)){var X=parseFloat(_)*Dl,x=Math.sin(X),C=Math.cos(X),A;X=parseFloat(v)*Dl,A=Math.cos(X),u=$g(L,u,x*A*-V),h=$g(L,h,-Math.sin(X)*-V),d=$g(L,d,C*A*-V+V)}D!==fc&&(H+="perspective("+D+Za),(s||o)&&(H+="translate("+s+"%, "+o+"%) "),(F||u!==fc||h!==fc||d!==fc)&&(H+=d!==fc||F?"translate3d("+u+", "+h+", "+d+") ":"translate("+u+", "+h+Za),p!==Wa&&(H+="rotate("+p+Za),_!==Wa&&(H+="rotateY("+_+Za),v!==Wa&&(H+="rotateX("+v+Za),(w!==Wa||b!==Wa)&&(H+="skew("+w+", "+b+Za),(R!==1||S!==1)&&(H+="scale("+R+", "+S+Za),L.style[ut]=H||"translate(0, 0)"},yM=function(e,t){var r=t||this,s=r.xPercent,o=r.yPercent,u=r.x,h=r.y,d=r.rotation,p=r.skewX,_=r.skewY,v=r.scaleX,w=r.scaleY,b=r.target,R=r.xOrigin,S=r.yOrigin,D=r.xOffset,k=r.yOffset,L=r.forceCSS,V=parseFloat(u),H=parseFloat(h),F,X,x,C,A;d=parseFloat(d),p=parseFloat(p),_=parseFloat(_),_&&(_=parseFloat(_),p+=_,d+=_),d||p?(d*=Dl,p*=Dl,F=Math.cos(d)*v,X=Math.sin(d)*v,x=Math.sin(d-p)*-w,C=Math.cos(d-p)*w,p&&(_*=Dl,A=Math.tan(p-_),A=Math.sqrt(1+A*A),x*=A,C*=A,_&&(A=Math.tan(_),A=Math.sqrt(1+A*A),F*=A,X*=A)),F=Et(F),X=Et(X),x=Et(x),C=Et(C)):(F=v,C=w,X=x=0),(V&&!~(u+"").indexOf("px")||H&&!~(h+"").indexOf("px"))&&(V=aa(b,"x",u,"px"),H=aa(b,"y",h,"px")),(R||S||D||k)&&(V=Et(V+R-(R*F+S*x)+D),H=Et(H+S-(R*X+S*C)+k)),(s||o)&&(A=b.getBBox(),V=Et(V+s/100*A.width),H=Et(H+o/100*A.height)),A="matrix("+F+","+X+","+x+","+C+","+V+","+H+")",b.setAttribute("transform",A),L&&(b.style[ut]=A)},vM=function(e,t,r,s,o){var u=360,h=Yt(o),d=parseFloat(o)*(h&&~o.indexOf("rad")?Ja:1),p=d-s,_=s+p+"deg",v,w;return h&&(v=o.split("_")[1],v==="short"&&(p%=u,p!==p%(u/2)&&(p+=p<0?u:-360)),v==="cw"&&p<0?p=(p+u*dw)%u-~~(p/u)*u:v==="ccw"&&p>0&&(p=(p-u*dw)%u-~~(p/u)*u)),e._pt=w=new xn(e._pt,t,r,s,p,nM),w.e=_,w.u="deg",e._props.push(r),w},Ew=function(e,t){for(var r in t)e[r]=t[r];return e},EM=function(e,t,r){var s=Ew({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",u=r.style,h,d,p,_,v,w,b,R;s.svg?(p=r.getAttribute("transform"),r.setAttribute("transform",""),u[ut]=t,h=Fc(r,1),fo(r,ut),r.setAttribute("transform",p)):(p=getComputedStyle(r)[ut],u[ut]=t,h=Fc(r,1),u[ut]=p);for(d in Wi)p=s[d],_=h[d],p!==_&&o.indexOf(d)<0&&(b=un(p),R=un(_),v=b!==R?aa(r,d,p,R):parseFloat(p),w=parseFloat(_),e._pt=new xn(e._pt,h,d,v,w-v,R_),e._pt.u=R||0,e._props.push(d));Ew(h,s)};On("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",s="Bottom",o="Left",u=(e<3?[t,r,s,o]:[t+o,t+r,s+r,s+o]).map(function(h){return e<2?n+h:"border"+h+n});yd[e>1?"border"+n:n]=function(h,d,p,_,v){var w,b;if(arguments.length<4)return w=u.map(function(R){return Fi(h,R,p)}),b=w.join(" "),b.split(w[0]).length===5?w[0]:b;w=(_+"").split(" "),b={},u.forEach(function(R,S){return b[R]=w[S]=w[S]||w[(S-1)/2|0]}),h.init(d,b,v)}});var kA={name:"css",register:I_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,s,o){var u=this._props,h=e.style,d=r.vars.startAt,p,_,v,w,b,R,S,D,k,L,V,H,F,X,x,C;Ry||I_(),this.styles=this.styles||IA(e),C=this.styles.props,this.tween=r;for(S in t)if(S!=="autoRound"&&(_=t[S],!(Bn[S]&&_A(S,t,r,s,e,o)))){if(b=typeof _,R=yd[S],b==="function"&&(_=_.call(r,s,e,o),b=typeof _),b==="string"&&~_.indexOf("random(")&&(_=Uc(_)),R)R(this,e,S,_,r)&&(x=1);else if(S.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(S)+"").trim(),_+="",Zs.lastIndex=0,Zs.test(p)||(D=un(p),k=un(_)),k?D!==k&&(p=aa(e,S,p,k)+k):D&&(_+=D),this.add(h,"setProperty",p,_,s,o,0,0,S),u.push(S),C.push(S,0,h[S]);else if(b!=="undefined"){if(d&&S in d?(p=typeof d[S]=="function"?d[S].call(r,s,e,o):d[S],Yt(p)&&~p.indexOf("random(")&&(p=Uc(p)),un(p+"")||p==="auto"||(p+=Hn.units[S]||un(Fi(e,S))||""),(p+"").charAt(1)==="="&&(p=Fi(e,S))):p=Fi(e,S),w=parseFloat(p),L=b==="string"&&_.charAt(1)==="="&&_.substr(0,2),L&&(_=_.substr(2)),v=parseFloat(_),S in Zr&&(S==="autoAlpha"&&(w===1&&Fi(e,"visibility")==="hidden"&&v&&(w=0),C.push("visibility",0,h.visibility),$s(this,h,"visibility",w?"inherit":"hidden",v?"inherit":"hidden",!v)),S!=="scale"&&S!=="transform"&&(S=Zr[S],~S.indexOf(",")&&(S=S.split(",")[0]))),V=S in Wi,V){if(this.styles.save(S),H||(F=e._gsap,F.renderTransform&&!t.parseTransform||Fc(e,t.parseTransform),X=t.smoothOrigin!==!1&&F.smooth,H=this._pt=new xn(this._pt,h,ut,0,1,F.renderTransform,F,0,-1),H.dep=1),S==="scale")this._pt=new xn(this._pt,F,"scaleY",F.scaleY,(L?Cl(F.scaleY,L+v):v)-F.scaleY||0,R_),this._pt.u=0,u.push("scaleY",S),S+="X";else if(S==="transformOrigin"){C.push(Mn,0,h[Mn]),_=pM(_),F.svg?D_(e,_,0,X,0,this):(k=parseFloat(_.split(" ")[2])||0,k!==F.zOrigin&&$s(this,F,"zOrigin",F.zOrigin,k),$s(this,h,S,vd(p),vd(_)));continue}else if(S==="svgOrigin"){D_(e,_,1,X,0,this);continue}else if(S in MA){vM(this,F,S,w,L?Cl(w,L+_):_);continue}else if(S==="smoothOrigin"){$s(this,F,"smooth",F.smooth,_);continue}else if(S==="force3D"){F[S]=_;continue}else if(S==="transform"){EM(this,_,e);continue}}else S in h||(S=zl(S)||S);if(V||(v||v===0)&&(w||w===0)&&!tM.test(_)&&S in h)D=(p+"").substr((w+"").length),v||(v=0),k=un(_)||(S in Hn.units?Hn.units[S]:D),D!==k&&(w=aa(e,S,p,k)),this._pt=new xn(this._pt,V?F:h,S,w,(L?Cl(w,L+v):v)-w,!V&&(k==="px"||S==="zIndex")&&t.autoRound!==!1?iM:R_),this._pt.u=k||0,D!==k&&k!=="%"&&(this._pt.b=p,this._pt.r=rM);else if(S in h)mM.call(this,e,S,p,L?L+_:_);else if(S in e)this.add(e,S,p||e[S],L?L+_:_,s,o);else if(S!=="parseTransform"){_y(S,_);continue}V||(S in h?C.push(S,0,h[S]):typeof e[S]=="function"?C.push(S,2,e[S]()):C.push(S,1,p||e[S])),u.push(S)}}x&&bA(this)},render:function(e,t){if(t.tween._time||!Cy())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Fi,aliases:Zr,getSetter:function(e,t,r){var s=Zr[t];return s&&s.indexOf(",")<0&&(t=s),t in Wi&&t!==Mn&&(e._gsap.x||Fi(e,"x"))?r&&fw===r?t==="scale"?lM:oM:(fw=r||{})&&(t==="scale"?uM:cM):e.style&&!my(e.style[t])?sM:~t.indexOf("-")?aM:Sy(e,t)},core:{_removeProperty:fo,_getMatrix:Dy}};Nn.utils.checkPrefix=zl;Nn.core.getStyleSaver=IA;(function(n,e,t,r){var s=On(n+","+e+","+t,function(o){Wi[o]=1});On(e,function(o){Hn.units[o]="deg",MA[o]=1}),Zr[s[13]]=n+","+e,On(r,function(o){var u=o.split(":");Zr[u[1]]=s[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");On("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Hn.units[n]="px"});Nn.registerPlugin(kA);var O_=Nn.registerPlugin(kA)||Nn;O_.core.Tween;const TM=()=>{const n=$.useRef(null),e=$.useRef(null),[t,r]=$.useState(!1);return $.useEffect(()=>{if(!n.current||!e.current)return;const s=n.current;s.dataset.originalText||(s.dataset.originalText=s.innerText);const o=s.dataset.originalText.split(" ");s.innerHTML=o.map(h=>`<span class="word">${h} </span>`).join("");const u=O_.timeline({repeat:-1});return u.fromTo(".word",{opacity:0},{opacity:1,duration:.6,stagger:.2,ease:"power1.inOut",onComplete:()=>{t||r(!0)}}),()=>{u.kill()}},[t]),$.useEffect(()=>{t&&e.current&&O_.to(e.current,{opacity:1,duration:1,ease:"power2.out"})},[t]),J.jsxs("div",{className:"start-page",children:[J.jsx("h3",{ref:n,className:"typing-effect",children:`"Welcome to the future of communication. A real-time chat built for the cyber age. Secure, fast, and always online. Whether you're here to connect, strategize, or just talk, you're in the right place. No delays. No limits. Just instant conversations."`}),J.jsx(Sl,{to:"/login",children:J.jsx("button",{ref:e,className:"start-button",style:{opacity:0},children:"Explore"})})]})};var Tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},wM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},LA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,b=p&63;d||(b=64,u||(w=64)),r.push(t[_],t[v],t[w],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||p==null||v==null)throw new bM;const w=o<<2|h>>4;if(r.push(w),p!==64){const b=h<<4&240|p>>2;if(r.push(b),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SM=function(n){const e=VA(n);return LA.encodeByteArray(e,!0)},Ed=function(n){return SM(n).replace(/\./g,"")},UA=function(n){try{return LA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=()=>AM().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof Tw>"u")return;const n=Tw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&UA(n[1]);return e&&JSON.parse(e)},tm=()=>{try{return RM()||CM()||IM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zA=n=>{var e,t;return(t=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jA=n=>{const e=zA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},BA=()=>{var n;return(n=tm())===null||n===void 0?void 0:n.config},FA=n=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ed(JSON.stringify(t)),Ed(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function xM(){var n;const e=(n=tm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kM(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VM(){return!xM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LM(){try{return typeof indexedDB=="object"}catch{return!1}}function UM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="FirebaseError";class fi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=zM,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?jM(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new fi(s,h,r)}}function jM(n,e){return n.replace(BM,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const BM=/\{\$([^}]+)}/g;function FM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Td(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(ww(o)&&ww(u)){if(!Td(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function ww(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qM(n,e){const t=new HM(n,e);return t.subscribe.bind(t)}class HM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");GM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Xg),s.error===void 0&&(s.error=Xg),s.complete===void 0&&(s.complete=Xg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class oa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new DM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KM(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QM(n){return n===eo?void 0:n}function KM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const XM={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},WM=Ne.INFO,ZM={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},JM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=ZM[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=WM,this._logHandler=JM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const eN=(n,e)=>e.some(t=>n instanceof t);let bw,Sw;function tN(){return bw||(bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nN(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HA=new WeakMap,x_=new WeakMap,GA=new WeakMap,Wg=new WeakMap,xy=new WeakMap;function rN(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Js(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&HA.set(t,n)}).catch(()=>{}),xy.set(e,n),e}function iN(n){if(x_.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});x_.set(n,e)}let M_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return x_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sN(n){M_=n(M_)}function aN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zg(this),e,...t);return GA.set(r,e.sort?e.sort():[e]),Js(r)}:nN().includes(n)?function(...e){return n.apply(Zg(this),e),Js(HA.get(this))}:function(...e){return Js(n.apply(Zg(this),e))}}function oN(n){return typeof n=="function"?aN(n):(n instanceof IDBTransaction&&iN(n),eN(n,tN())?new Proxy(n,M_):n)}function Js(n){if(n instanceof IDBRequest)return rN(n);if(Wg.has(n))return Wg.get(n);const e=oN(n);return e!==n&&(Wg.set(n,e),xy.set(e,n)),e}const Zg=n=>xy.get(n);function lN(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=Js(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Js(u.result),d.oldVersion,d.newVersion,Js(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const uN=["get","getKey","getAll","getAllKeys","count"],cN=["put","add","delete","clear"],Jg=new Map;function Aw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=cN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uN.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&d.done]))[0]};return Jg.set(e,o),o}sN(n=>({...n,get:(e,t,r)=>Aw(e,t)||n.get(e,t,r),has:(e,t)=>!!Aw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function fN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const N_="@firebase/app",Rw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Oy("@firebase/app"),dN="@firebase/app-compat",mN="@firebase/analytics-compat",pN="@firebase/analytics",gN="@firebase/app-check-compat",_N="@firebase/app-check",yN="@firebase/auth",vN="@firebase/auth-compat",EN="@firebase/database",TN="@firebase/data-connect",wN="@firebase/database-compat",bN="@firebase/functions",SN="@firebase/functions-compat",AN="@firebase/installations",RN="@firebase/installations-compat",CN="@firebase/messaging",IN="@firebase/messaging-compat",DN="@firebase/performance",ON="@firebase/performance-compat",xN="@firebase/remote-config",MN="@firebase/remote-config-compat",NN="@firebase/storage",PN="@firebase/storage-compat",kN="@firebase/firestore",VN="@firebase/vertexai",LN="@firebase/firestore-compat",UN="firebase",zN="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="[DEFAULT]",jN={[N_]:"fire-core",[dN]:"fire-core-compat",[pN]:"fire-analytics",[mN]:"fire-analytics-compat",[_N]:"fire-app-check",[gN]:"fire-app-check-compat",[yN]:"fire-auth",[vN]:"fire-auth-compat",[EN]:"fire-rtdb",[TN]:"fire-data-connect",[wN]:"fire-rtdb-compat",[bN]:"fire-fn",[SN]:"fire-fn-compat",[AN]:"fire-iid",[RN]:"fire-iid-compat",[CN]:"fire-fcm",[IN]:"fire-fcm-compat",[DN]:"fire-perf",[ON]:"fire-perf-compat",[xN]:"fire-rc",[MN]:"fire-rc-compat",[NN]:"fire-gcs",[PN]:"fire-gcs-compat",[kN]:"fire-fst",[LN]:"fire-fst-compat",[VN]:"fire-vertex","fire-js":"fire-js",[UN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,BN=new Map,k_=new Map;function Cw(n,e){try{n.container.addComponent(e)}catch(t){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mo(n){const e=n.name;if(k_.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;k_.set(e,n);for(const t of wd.values())Cw(t,n);for(const t of BN.values())Cw(t,n);return!0}function nm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new oh("app","Firebase",FN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=zN;function YA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:P_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ea.create("bad-app-name",{appName:String(s)});if(t||(t=BA()),!t)throw ea.create("no-options");const o=wd.get(s);if(o){if(Td(t,o.options)&&Td(r,o.config))return o;throw ea.create("duplicate-app",{appName:s})}const u=new $M(s);for(const d of k_.values())u.addComponent(d);const h=new qN(t,r,u);return wd.set(s,h),h}function My(n=P_){const e=wd.get(n);if(!e&&n===P_&&BA())return YA();if(!e)throw ea.create("no-app",{appName:n});return e}function ti(n,e,t){var r;let s=(r=jN[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(h.join(" "));return}mo(new oa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebase-heartbeat-database",GN=1,qc="firebase-heartbeat-store";let e_=null;function QA(){return e_||(e_=lN(HN,GN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ea.create("idb-open",{originalErrorMessage:n.message})})),e_}async function YN(n){try{const t=(await QA()).transaction(qc),r=await t.objectStore(qc).get(KA(n));return await t.done,r}catch(e){if(e instanceof fi)Zi.warn(e.message);else{const t=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(t.message)}}}async function Iw(n,e){try{const r=(await QA()).transaction(qc,"readwrite");await r.objectStore(qc).put(e,KA(n)),await r.done}catch(t){if(t instanceof fi)Zi.warn(t.message);else{const r=ea.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zi.warn(r.message)}}}function KA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=1024,KN=30;class $N{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>KN){const u=ZN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dw(),{heartbeatsToSend:r,unsentEntries:s}=XN(this._heartbeatsCache.heartbeats),o=Ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zi.warn(t),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function XN(n,e=QN){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Ow(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ow(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class WN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LM()?UM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ow(n){return Ed(JSON.stringify({version:2,heartbeats:n})).length}function ZN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n){mo(new oa("platform-logger",e=>new hN(e),"PRIVATE")),mo(new oa("heartbeat",e=>new $N(e),"PRIVATE")),ti(N_,Rw,n),ti(N_,Rw,"esm2017"),ti("fire-js","")}JN("");var e2="firebase",t2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(e2,t2,"app");function Ny(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function $A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n2=$A,XA=new oh("auth","Firebase",$A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Oy("@firebase/auth");function r2(n,...e){bd.logLevel<=Ne.WARN&&bd.warn(`Auth (${bo}): ${n}`,...e)}function Jf(n,...e){bd.logLevel<=Ne.ERROR&&bd.error(`Auth (${bo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,...e){throw ky(n,...e)}function Rr(n,...e){return ky(n,...e)}function Py(n,e,t){const r=Object.assign(Object.assign({},n2()),{[e]:t});return new oh("auth","Firebase",r).create(e,{appName:n.name})}function ho(n){return Py(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i2(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&oi(n,"argument-error"),Py(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ky(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XA.create(n,...e)}function we(n,e,...t){if(!n)throw ky(e,...t)}function Hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jf(e),new Error(e)}function Ji(n,e){n||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function s2(){return xw()==="http:"||xw()==="https:"}function xw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s2()||NM()||"connection"in navigator)?navigator.onLine:!0}function o2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ji(t>e,"Short delay should be less than long delay!"),this.isMobile=OM()||PM()}get(){return a2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n,e){Ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new uh(3e4,6e4);function Ly(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xl(n,e,t,r,s={}){return ZA(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=lh(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},o);return MM()||(p.referrerPolicy="no-referrer"),WA.fetch()(JA(n,n.config.apiHost,t,h),p)})}async function ZA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},l2),e);try{const s=new h2(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw jf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw jf(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw jf(n,"user-disabled",u);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Py(n,_,p);oi(n,_)}}catch(s){if(s instanceof fi)throw s;oi(n,"network-request-failed",{message:String(s)})}}async function c2(n,e,t,r,s={}){const o=await Xl(n,e,t,r,s);return"mfaPendingCredential"in o&&oi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function JA(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Vy(n.config,s):`${n.config.apiScheme}://${s}`}class h2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),u2.get())})}}function jf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Rr(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(n,e){return Xl(n,"POST","/v1/accounts:delete",e)}async function e1(n,e){return Xl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d2(n,e=!1){const t=dn(n),r=await t.getIdToken(e),s=Uy(r);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Ac(t_(s.auth_time)),issuedAtTime:Ac(t_(s.iat)),expirationTime:Ac(t_(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function t_(n){return Number(n)*1e3}function Uy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const s=UA(t);return s?JSON.parse(s):(Jf("Failed to decode base64 JWT payload"),null)}catch(s){return Jf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Mw(n){const e=Uy(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fi&&m2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function m2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Hc(n,e1(t,{idToken:r}));we(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?t1(o.providerUserInfo):[],h=_2(n.providerData,u),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),_=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new L_(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function g2(n){const e=dn(n);await Sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _2(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function t1(n){return n.map(e=>{var{providerId:t}=e,r=Ny(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(n,e){const t=await ZA(n,{},async()=>{const r=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=JA(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",WA.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function v2(n,e){return Xl(n,"POST","/v2/accounts:revokeToken",Ly(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Mw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await y2(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Ol;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(we(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new L_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Hc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return d2(this,e)}reload(){return g2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await Hc(this,f2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,h,d,p,_;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,k=(p=t.createdAt)!==null&&p!==void 0?p:void 0,L=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:V,emailVerified:H,isAnonymous:F,providerData:X,stsTokenManager:x}=t;we(V&&x,e,"internal-error");const C=Ol.fromJSON(this.name,x);we(typeof V=="string",e,"internal-error"),Fs(v,e.name),Fs(w,e.name),we(typeof H=="boolean",e,"internal-error"),we(typeof F=="boolean",e,"internal-error"),Fs(b,e.name),Fs(R,e.name),Fs(S,e.name),Fs(D,e.name),Fs(k,e.name),Fs(L,e.name);const A=new Gi({uid:V,auth:e,email:w,emailVerified:H,displayName:v,isAnonymous:F,photoURL:R,phoneNumber:b,tenantId:S,stsTokenManager:C,createdAt:k,lastLoginAt:L});return X&&Array.isArray(X)&&(A.providerData=X.map(M=>Object.assign({},M))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ol;s.updateFromServerResponse(t);const o=new Gi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];we(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?t1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new Ol;h.updateFromIdToken(r);const d=new Gi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new L_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;function Yi(n){Ji(n instanceof Function,"Expected a class definition");let e=Nw.get(n);return e?(Ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}n1.type="NONE";const Pw=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n,e,t){return`firebase:${n}:${e}:${t}`}class xl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ed(this.userKey,s.apiKey,o),this.fullPersistenceKey=ed("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new xl(Yi(Pw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||Yi(Pw);const u=ed(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const _=await p._get(u);if(_){const v=Gi._fromJSON(e,_);p!==o&&(h=v),o=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new xl(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new xl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l1(e))return"Blackberry";if(u1(e))return"Webos";if(i1(e))return"Safari";if((e.includes("chrome/")||s1(e))&&!e.includes("edge/"))return"Chrome";if(o1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function r1(n=fn()){return/firefox\//i.test(n)}function i1(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s1(n=fn()){return/crios\//i.test(n)}function a1(n=fn()){return/iemobile/i.test(n)}function o1(n=fn()){return/android/i.test(n)}function l1(n=fn()){return/blackberry/i.test(n)}function u1(n=fn()){return/webos/i.test(n)}function zy(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E2(n=fn()){var e;return zy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T2(){return kM()&&document.documentMode===10}function c1(n=fn()){return zy(n)||o1(n)||u1(n)||l1(n)||/windows phone/i.test(n)||a1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(n,e=[]){let t;switch(n){case"Browser":t=kw(fn());break;case"Worker":t=`${kw(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(n,e={}){return Xl(n,"GET","/v2/passwordPolicy",Ly(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=6;class A2{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:S2,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vw(this),this.idTokenSubscription=new Vw(this),this.beforeStateQueue=new w2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yi(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await e1(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(ho(this));const t=e?dn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b2(this),t=new A2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await v2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&r2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rm(n){return dn(n)}class Vw{constructor(e){this.auth=e,this.observer=null,this.addObserver=qM(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C2(n){jy=n}function I2(n){return jy.loadJS(n)}function D2(){return jy.gapiScript}function O2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n,e){const t=nm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Td(o,e??{}))return s;oi(s,"already-initialized")}return t.initialize({options:e})}function M2(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Yi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function N2(n,e,t){const r=rm(n);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=f1(e),{host:u,port:h}=P2(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),k2()}function f1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function P2(n){const e=f1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Lw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Lw(u)}}}function Lw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function k2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(n,e){return c2(n,"POST","/v1/accounts:signInWithIdp",Ly(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="http://localhost";class po extends d1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Ny(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new po(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ml(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ml(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ml(e,t)}buildRequest(){const e={requestUri:V2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends By{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends ch{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return po._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends ch{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends ch{constructor(){super("twitter.com")}static credential(e,t){return po._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ys.credential(t,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Gi._fromIdTokenResponse(e,r,s),u=Uw(r);return new jl({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Uw(r);return new jl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Uw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends fi{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Ad(e,t,r,s)}}function m1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(n,o,e,r):o})}async function L2(n,e,t=!1){const r=await Hc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(n,e,t=!1){const{auth:r}=n;if(dr(r.app))return Promise.reject(ho(r));const s="reauthenticate";try{const o=await Hc(n,m1(r,s,e,n),t);we(o.idToken,r,"internal-error");const u=Uy(o.idToken);we(u,r,"internal-error");const{sub:h}=u;return we(n.uid===h,r,"user-mismatch"),jl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&oi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e,t=!1){if(dr(n.app))return Promise.reject(ho(n));const r="signIn",s=await m1(n,r,e),o=await jl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}function j2(n,e,t,r){return dn(n).onIdTokenChanged(e,t,r)}function B2(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}function F2(n,e,t,r){return dn(n).onAuthStateChanged(e,t,r)}function q2(n){return dn(n).signOut()}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=1e3,G2=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);T2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,G2):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const Y2=g1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_1.type="SESSION";const y1=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,o)),d=await Q2(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const p=Fy("",20);s.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function $2(n){ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function X2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Z2(){return v1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebaseLocalStorageDb",J2=1,Cd="firebaseLocalStorage",T1="fbase_key";class hh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sm(n,e){return n.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function eP(){const n=indexedDB.deleteDatabase(E1);return new hh(n).toPromise()}function U_(){const n=indexedDB.open(E1,J2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Cd,{keyPath:T1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Cd)?e(r):(r.close(),await eP(),e(await U_()))})})}async function zw(n,e,t){const r=sm(n,!0).put({[T1]:e,value:t});return new hh(r).toPromise()}async function tP(n,e){const t=sm(n,!1).get(e),r=await new hh(t).toPromise();return r===void 0?null:r.value}function jw(n,e){const t=sm(n,!0).delete(e);return new hh(t).toPromise()}const nP=800,rP=3;class w1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(Z2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await X2(),!this.activeServiceWorker)return;this.sender=new K2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U_();return await zw(e,Rd,"1"),await jw(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=sm(s,!1).getAll();return new hh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w1.type="LOCAL";const iP=w1;new uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e){return e?Yi(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends d1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ml(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sP(n){return z2(n.auth,new qy(n),n.bypassAuthState)}function aP(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),U2(t,new qy(n),n.bypassAuthState)}async function oP(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),L2(t,new qy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sP;case"linkViaPopup":case"linkViaRedirect":return oP;case"reauthViaPopup":case"reauthViaRedirect":return aP;default:oi(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new uh(2e3,1e4);async function uP(n,e,t){if(dr(n.app))return Promise.reject(Rr(n,"operation-not-supported-in-this-environment"));const r=rm(n);i2(n,e,By);const s=b1(r,t);return new io(r,"signInViaPopup",e,s).executeNotNull()}class io extends S1{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=Fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lP.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="pendingRedirect",td=new Map;class hP extends S1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const r=await fP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fP(n,e){const t=pP(e),r=mP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function dP(n,e){td.set(n._key(),e)}function mP(n){return Yi(n._redirectPersistence)}function pP(n){return ed(cP,n.config.apiKey,n.name)}async function gP(n,e,t=!1){if(dr(n.app))return Promise.reject(ho(n));const r=rm(n),s=b1(r,e),u=await new hP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=10*60*1e3;class yP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!A1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_P&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bw(e))}saveEventToCache(e){this.cachedEventUids.add(Bw(e)),this.lastProcessedEventTime=Date.now()}}function Bw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function A1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e={}){return Xl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wP=/^https?/;async function bP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EP(n);for(const t of e)try{if(SP(t))return}catch{}oi(n,"unauthorized-domain")}function SP(n){const e=V_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!wP.test(t))return!1;if(TP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new uh(3e4,6e4);function Fw(){const n=ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function RP(n){return new Promise((e,t)=>{var r,s,o;function u(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),t(Rr(n,"network-request-failed"))},timeout:AP.get()})}if(!((s=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ni().gapi)===null||o===void 0)&&o.load)u();else{const h=O2("iframefcb");return ni()[h]=()=>{gapi.load?u():t(Rr(n,"network-request-failed"))},I2(`${D2()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw nd=null,e})}let nd=null;function CP(n){return nd=nd||RP(n),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new uh(5e3,15e3),DP="__/auth/iframe",OP="emulator/auth/iframe",xP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NP(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Vy(e,OP):`https://${n.config.authDomain}/${DP}`,r={apiKey:e.apiKey,appName:n.name,v:bo},s=MP.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${lh(r).slice(1)}`}async function PP(n){const e=await CP(n),t=ni().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:NP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Rr(n,"network-request-failed"),h=ni().setTimeout(()=>{o(u)},IP.get());function d(){ni().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VP=500,LP=600,UP="_blank",zP="http://localhost";class qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jP(n,e,t,r=VP,s=LP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},kP),{width:r.toString(),height:s.toString(),top:o,left:u}),p=fn().toLowerCase();t&&(h=s1(p)?UP:t),r1(p)&&(e=e||zP,d.scrollbars="yes");const _=Object.entries(d).reduce((w,[b,R])=>`${w}${b}=${R},`,"");if(E2(p)&&h!=="_self")return BP(e||"",h),new qw(null);const v=window.open(e||"",h,_);we(v,n,"popup-blocked");try{v.focus()}catch{}return new qw(v)}function BP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="__/auth/handler",qP="emulator/auth/handler",HP=encodeURIComponent("fac");async function Hw(n,e,t,r,s,o){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bo,eventId:s};if(e instanceof By){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",FM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof ch){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),p=d?`#${HP}=${encodeURIComponent(d)}`:"";return`${GP(n)}?${lh(h).slice(1)}${p}`}function GP({config:n}){return n.emulator?Vy(n,qP):`https://${n.authDomain}/${FP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="webStorageSupport";class YP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y1,this._completeRedirectFn=gP,this._overrideRedirectResult=dP}async _openPopup(e,t,r,s){var o;Ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Hw(e,t,r,V_(),s);return jP(e,u,Fy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Hw(e,t,r,V_(),s);return $2(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await PP(e),r=new yP(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(n_,{type:n_},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[n_];u!==void 0&&t(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return c1()||i1()||zy()}}const QP=YP;var Gw="@firebase/auth",Yw="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XP(n){mo(new oa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h1(n)},p=new R2(r,s,o,d);return M2(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mo(new oa("auth-internal",e=>{const t=rm(e.getProvider("auth").getImmediate());return(r=>new KP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(Gw,Yw,$P(n)),ti(Gw,Yw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=5*60,ZP=FA("authIdTokenMaxAge")||WP;let Qw=null;const JP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZP)return;const s=t==null?void 0:t.token;Qw!==s&&(Qw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ek(n=My()){const e=nm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=x2(n,{popupRedirectResolver:QP,persistence:[iP,Y2,y1]}),r=FA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=JP(o.toString());B2(t,u,()=>u(t.currentUser)),j2(t,h=>u(h))}}const s=zA("auth");return s&&N2(t,`http://${s}`),t}function tk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}C2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Rr("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",tk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XP("Browser");var Kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,R1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function A(){}A.prototype=C.prototype,x.D=C.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(M,U,j){for(var N=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)N[xe-2]=arguments[xe];return C.prototype[U].apply(M,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,C,A){A||(A=0);var M=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)M[U]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(U=0;16>U;++U)M[U]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=x.g[0],A=x.g[1],U=x.g[2];var j=x.g[3],N=C+(j^A&(U^j))+M[0]+3614090360&4294967295;C=A+(N<<7&4294967295|N>>>25),N=j+(U^C&(A^U))+M[1]+3905402710&4294967295,j=C+(N<<12&4294967295|N>>>20),N=U+(A^j&(C^A))+M[2]+606105819&4294967295,U=j+(N<<17&4294967295|N>>>15),N=A+(C^U&(j^C))+M[3]+3250441966&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(j^A&(U^j))+M[4]+4118548399&4294967295,C=A+(N<<7&4294967295|N>>>25),N=j+(U^C&(A^U))+M[5]+1200080426&4294967295,j=C+(N<<12&4294967295|N>>>20),N=U+(A^j&(C^A))+M[6]+2821735955&4294967295,U=j+(N<<17&4294967295|N>>>15),N=A+(C^U&(j^C))+M[7]+4249261313&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(j^A&(U^j))+M[8]+1770035416&4294967295,C=A+(N<<7&4294967295|N>>>25),N=j+(U^C&(A^U))+M[9]+2336552879&4294967295,j=C+(N<<12&4294967295|N>>>20),N=U+(A^j&(C^A))+M[10]+4294925233&4294967295,U=j+(N<<17&4294967295|N>>>15),N=A+(C^U&(j^C))+M[11]+2304563134&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(j^A&(U^j))+M[12]+1804603682&4294967295,C=A+(N<<7&4294967295|N>>>25),N=j+(U^C&(A^U))+M[13]+4254626195&4294967295,j=C+(N<<12&4294967295|N>>>20),N=U+(A^j&(C^A))+M[14]+2792965006&4294967295,U=j+(N<<17&4294967295|N>>>15),N=A+(C^U&(j^C))+M[15]+1236535329&4294967295,A=U+(N<<22&4294967295|N>>>10),N=C+(U^j&(A^U))+M[1]+4129170786&4294967295,C=A+(N<<5&4294967295|N>>>27),N=j+(A^U&(C^A))+M[6]+3225465664&4294967295,j=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(j^C))+M[11]+643717713&4294967295,U=j+(N<<14&4294967295|N>>>18),N=A+(j^C&(U^j))+M[0]+3921069994&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(U^j&(A^U))+M[5]+3593408605&4294967295,C=A+(N<<5&4294967295|N>>>27),N=j+(A^U&(C^A))+M[10]+38016083&4294967295,j=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(j^C))+M[15]+3634488961&4294967295,U=j+(N<<14&4294967295|N>>>18),N=A+(j^C&(U^j))+M[4]+3889429448&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(U^j&(A^U))+M[9]+568446438&4294967295,C=A+(N<<5&4294967295|N>>>27),N=j+(A^U&(C^A))+M[14]+3275163606&4294967295,j=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(j^C))+M[3]+4107603335&4294967295,U=j+(N<<14&4294967295|N>>>18),N=A+(j^C&(U^j))+M[8]+1163531501&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(U^j&(A^U))+M[13]+2850285829&4294967295,C=A+(N<<5&4294967295|N>>>27),N=j+(A^U&(C^A))+M[2]+4243563512&4294967295,j=C+(N<<9&4294967295|N>>>23),N=U+(C^A&(j^C))+M[7]+1735328473&4294967295,U=j+(N<<14&4294967295|N>>>18),N=A+(j^C&(U^j))+M[12]+2368359562&4294967295,A=U+(N<<20&4294967295|N>>>12),N=C+(A^U^j)+M[5]+4294588738&4294967295,C=A+(N<<4&4294967295|N>>>28),N=j+(C^A^U)+M[8]+2272392833&4294967295,j=C+(N<<11&4294967295|N>>>21),N=U+(j^C^A)+M[11]+1839030562&4294967295,U=j+(N<<16&4294967295|N>>>16),N=A+(U^j^C)+M[14]+4259657740&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(A^U^j)+M[1]+2763975236&4294967295,C=A+(N<<4&4294967295|N>>>28),N=j+(C^A^U)+M[4]+1272893353&4294967295,j=C+(N<<11&4294967295|N>>>21),N=U+(j^C^A)+M[7]+4139469664&4294967295,U=j+(N<<16&4294967295|N>>>16),N=A+(U^j^C)+M[10]+3200236656&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(A^U^j)+M[13]+681279174&4294967295,C=A+(N<<4&4294967295|N>>>28),N=j+(C^A^U)+M[0]+3936430074&4294967295,j=C+(N<<11&4294967295|N>>>21),N=U+(j^C^A)+M[3]+3572445317&4294967295,U=j+(N<<16&4294967295|N>>>16),N=A+(U^j^C)+M[6]+76029189&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(A^U^j)+M[9]+3654602809&4294967295,C=A+(N<<4&4294967295|N>>>28),N=j+(C^A^U)+M[12]+3873151461&4294967295,j=C+(N<<11&4294967295|N>>>21),N=U+(j^C^A)+M[15]+530742520&4294967295,U=j+(N<<16&4294967295|N>>>16),N=A+(U^j^C)+M[2]+3299628645&4294967295,A=U+(N<<23&4294967295|N>>>9),N=C+(U^(A|~j))+M[0]+4096336452&4294967295,C=A+(N<<6&4294967295|N>>>26),N=j+(A^(C|~U))+M[7]+1126891415&4294967295,j=C+(N<<10&4294967295|N>>>22),N=U+(C^(j|~A))+M[14]+2878612391&4294967295,U=j+(N<<15&4294967295|N>>>17),N=A+(j^(U|~C))+M[5]+4237533241&4294967295,A=U+(N<<21&4294967295|N>>>11),N=C+(U^(A|~j))+M[12]+1700485571&4294967295,C=A+(N<<6&4294967295|N>>>26),N=j+(A^(C|~U))+M[3]+2399980690&4294967295,j=C+(N<<10&4294967295|N>>>22),N=U+(C^(j|~A))+M[10]+4293915773&4294967295,U=j+(N<<15&4294967295|N>>>17),N=A+(j^(U|~C))+M[1]+2240044497&4294967295,A=U+(N<<21&4294967295|N>>>11),N=C+(U^(A|~j))+M[8]+1873313359&4294967295,C=A+(N<<6&4294967295|N>>>26),N=j+(A^(C|~U))+M[15]+4264355552&4294967295,j=C+(N<<10&4294967295|N>>>22),N=U+(C^(j|~A))+M[6]+2734768916&4294967295,U=j+(N<<15&4294967295|N>>>17),N=A+(j^(U|~C))+M[13]+1309151649&4294967295,A=U+(N<<21&4294967295|N>>>11),N=C+(U^(A|~j))+M[4]+4149444226&4294967295,C=A+(N<<6&4294967295|N>>>26),N=j+(A^(C|~U))+M[11]+3174756917&4294967295,j=C+(N<<10&4294967295|N>>>22),N=U+(C^(j|~A))+M[2]+718787259&4294967295,U=j+(N<<15&4294967295|N>>>17),N=A+(j^(U|~C))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+U&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var A=C-this.blockSize,M=this.B,U=this.h,j=0;j<C;){if(U==0)for(;j<=A;)s(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<C;)if(M[U++]=x.charCodeAt(j++),U==this.blockSize){s(this,M),U=0;break}}else for(;j<C;)if(M[U++]=x[j++],U==this.blockSize){s(this,M),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var A=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.u(x),x=Array(16),C=A=0;4>C;++C)for(var M=0;32>M;M+=8)x[A++]=this.g[C]>>>M&255;return x};function o(x,C){var A=h;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=C(x)}function u(x,C){this.h=C;for(var A=[],M=!0,U=x.length-1;0<=U;U--){var j=x[U]|0;M&&j==C||(A[U]=j,M=!1)}this.g=A}var h={};function d(x){return-128<=x&&128>x?o(x,function(C){return new u([C|0],0>C?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return D(p(-x));for(var C=[],A=1,M=0;x>=A;M++)C[M]=x/A|0,A*=4294967296;return new u(C,0)}function _(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return D(_(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(C,8)),M=v,U=0;U<x.length;U+=8){var j=Math.min(8,x.length-U),N=parseInt(x.substring(U,U+j),C);8>j?(j=p(Math.pow(C,j)),M=M.j(j).add(p(N))):(M=M.j(A),M=M.add(p(N)))}return M}var v=d(0),w=d(1),b=d(16777216);n=u.prototype,n.m=function(){if(S(this))return-D(this).m();for(var x=0,C=1,A=0;A<this.g.length;A++){var M=this.i(A);x+=(0<=M?M:4294967296+M)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(S(this))return"-"+D(this).toString(x);for(var C=p(Math.pow(x,6)),A=this,M="";;){var U=H(A,C).g;A=k(A,U.j(C));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=U,R(A))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function S(x){return x.h==-1}n.l=function(x){return x=k(this,x),S(x)?-1:R(x)?0:1};function D(x){for(var C=x.g.length,A=[],M=0;M<C;M++)A[M]=~x.g[M];return new u(A,~x.h).add(w)}n.abs=function(){return S(this)?D(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0,U=0;U<=C;U++){var j=M+(this.i(U)&65535)+(x.i(U)&65535),N=(j>>>16)+(this.i(U)>>>16)+(x.i(U)>>>16);M=N>>>16,j&=65535,N&=65535,A[U]=N<<16|j}return new u(A,A[A.length-1]&-2147483648?-1:0)};function k(x,C){return x.add(D(C))}n.j=function(x){if(R(this)||R(x))return v;if(S(this))return S(x)?D(this).j(D(x)):D(D(this).j(x));if(S(x))return D(this.j(D(x)));if(0>this.l(b)&&0>x.l(b))return p(this.m()*x.m());for(var C=this.g.length+x.g.length,A=[],M=0;M<2*C;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<x.g.length;U++){var j=this.i(M)>>>16,N=this.i(M)&65535,xe=x.i(U)>>>16,Ie=x.i(U)&65535;A[2*M+2*U]+=N*Ie,L(A,2*M+2*U),A[2*M+2*U+1]+=j*Ie,L(A,2*M+2*U+1),A[2*M+2*U+1]+=N*xe,L(A,2*M+2*U+1),A[2*M+2*U+2]+=j*xe,L(A,2*M+2*U+2)}for(M=0;M<C;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=C;M<2*C;M++)A[M]=0;return new u(A,0)};function L(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function V(x,C){this.g=x,this.h=C}function H(x,C){if(R(C))throw Error("division by zero");if(R(x))return new V(v,v);if(S(x))return C=H(D(x),C),new V(D(C.g),D(C.h));if(S(C))return C=H(x,D(C)),new V(D(C.g),C.h);if(30<x.g.length){if(S(x)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var A=w,M=C;0>=M.l(x);)A=F(A),M=F(M);var U=X(A,1),j=X(M,1);for(M=X(M,2),A=X(A,2);!R(M);){var N=j.add(M);0>=N.l(x)&&(U=U.add(A),j=N),M=X(M,1),A=X(A,1)}return C=k(x,U.j(C)),new V(U,C)}for(U=v;0<=x.l(C);){for(A=Math.max(1,Math.floor(x.m()/C.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=p(A),N=j.j(C);S(N)||0<N.l(x);)A-=M,j=p(A),N=j.j(C);R(j)&&(j=w),U=U.add(j),x=k(x,N)}return new V(U,x)}n.A=function(x){return H(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)&x.i(M);return new u(A,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)|x.i(M);return new u(A,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],M=0;M<C;M++)A[M]=this.i(M)^x.i(M);return new u(A,this.h^x.h)};function F(x){for(var C=x.g.length+1,A=[],M=0;M<C;M++)A[M]=x.i(M)<<1|x.i(M-1)>>>31;return new u(A,x.h)}function X(x,C){var A=C>>5;C%=32;for(var M=x.g.length-A,U=[],j=0;j<M;j++)U[j]=0<C?x.i(j+A)>>>C|x.i(j+A+1)<<32-C:x.i(j+A);return new u(U,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,R1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,ta=u}).apply(typeof Kw<"u"?Kw:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C1,_c,I1,rd,z_,D1,O1,x1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(f,y){if(y)e:{var E=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var Y=f[O];if(!(Y in E))break e;E=E[Y]}f=f[f.length-1],O=E[f],y=y(O),y!=O&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var E=0,O=!1,Y={next:function(){if(!O&&E<f.length){var W=E++;return{value:y(W,f[W]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(f){return f||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),f.apply(y,Y)}}return function(){return f.apply(y,arguments)}}function w(f,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,w.apply(null,arguments)}function b(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function R(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(O,Y,W){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return y.prototype[Y].apply(O,oe)}}function S(f){const y=f.length;if(0<y){const E=Array(y);for(let O=0;O<y;O++)E[O]=f[O];return E}return[]}function D(f,y){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(d(O)){const Y=f.length||0,W=O.length||0;f.length=Y+W;for(let oe=0;oe<W;oe++)f[Y+oe]=O[oe]}else f.push(O)}}class k{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var F=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function X(f,y,E){for(const O in f)y.call(E,f[O],O,f)}function x(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function C(f){const y={};for(const E in f)y[E]=f[E];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,y){let E,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(E in O)f[E]=O[E];for(let W=0;W<A.length;W++)E=A[W],Object.prototype.hasOwnProperty.call(O,E)&&(f[E]=O[E])}}function U(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function j(f){h.setTimeout(()=>{throw f},0)}function N(){var f=ke;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,E){const O=Ie.get();O.set(y,E),this.h?this.h.next=O:this.g=O,this.h=O}}var Ie=new k(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,de=!1,ke=new xe,z=()=>{const f=h.Promise.resolve(void 0);he=()=>{f.then(se)}};var se=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){j(E)}var y=Ie;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}de=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return f}();function Ee(f,y){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(F){e:{try{H(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ee.aa.h.call(this)}}R(Ee,ue);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ft(f,y,E,O,Y){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!O,this.ha=Y,this.key=++qe,this.da=this.fa=!1}function $e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function mn(f){this.src=f,this.g={},this.h=0}mn.prototype.add=function(f,y,E,O,Y){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var oe=$n(f,y,O,Y);return-1<oe?(y=f[oe],E||(y.fa=!1)):(y=new ft(y,this.src,W,!!O,Y),y.fa=E,f.push(y)),y};function mi(f,y){var E=y.type;if(E in f.g){var O=f.g[E],Y=Array.prototype.indexOf.call(O,y,void 0),W;(W=0<=Y)&&Array.prototype.splice.call(O,Y,1),W&&($e(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function $n(f,y,E,O){for(var Y=0;Y<f.length;++Y){var W=f[Y];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==O)return Y}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),as={};function pi(f,y,E,O,Y){if(Array.isArray(y)){for(var W=0;W<y.length;W++)pi(f,y[W],E,O,Y);return null}return E=gh(E),f&&f[wt]?f.K(y,E,p(O)?!!O.capture:!1,Y):ru(f,y,E,!1,O,Y)}function ru(f,y,E,O,Y,W){if(!y)throw Error("Invalid event type");var oe=p(Y)?!!Y.capture:!!Y,ze=iu(f);if(ze||(f[ss]=ze=new mn(f)),E=ze.add(y,E,O,oe,W),E.proxy)return E;if(O=Io(),E.proxy=O,O.src=f,O.listener=E,f.addEventListener)le||(Y=oe),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),O,Y);else if(f.attachEvent)f.attachEvent(Oo(y.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Io(){function f(E){return y.call(f.src,f.listener,E)}const y=xm;return f}function Do(f,y,E,O,Y){if(Array.isArray(y))for(var W=0;W<y.length;W++)Do(f,y[W],E,O,Y);else O=p(O)?!!O.capture:!!O,E=gh(E),f&&f[wt]?(f=f.i,y=String(y).toString(),y in f.g&&(W=f.g[y],E=$n(W,E,O,Y),-1<E&&($e(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete f.g[y],f.h--)))):f&&(f=iu(f))&&(y=f.g[y.toString()],f=-1,y&&(f=$n(y,E,O,Y)),(E=-1<f?y[f]:null)&&va(E))}function va(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[wt])mi(y.i,f);else{var E=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(E,O,f.capture):y.detachEvent?y.detachEvent(Oo(E),O):y.addListener&&y.removeListener&&y.removeListener(O),(E=iu(y))?(mi(E,f),E.h==0&&(E.src=null,y[ss]=null)):$e(f)}}}function Oo(f){return f in as?as[f]:as[f]="on"+f}function xm(f,y){if(f.da)f=!0;else{y=new Ee(y,this);var E=f.listener,O=f.ha||f.src;f.fa&&va(f),f=E.call(O,y)}return f}function iu(f){return f=f[ss],f instanceof mn?f:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function gh(f){return typeof f=="function"?f:(f[An]||(f[An]=function(y){return f.handleEvent(y)}),f[An])}function Ot(){me.call(this),this.i=new mn(this),this.M=this,this.F=null}R(Ot,me),Ot.prototype[wt]=!0,Ot.prototype.removeEventListener=function(f,y,E,O){Do(this,f,y,E,O)};function Ut(f,y){var E,O=f.F;if(O)for(E=[];O;O=O.F)E.push(O);if(f=f.M,O=y.type||y,typeof y=="string")y=new ue(y,f);else if(y instanceof ue)y.target=y.target||f;else{var Y=y;y=new ue(O,f),M(y,Y)}if(Y=!0,E)for(var W=E.length-1;0<=W;W--){var oe=y.g=E[W];Y=gi(oe,O,!0,y)&&Y}if(oe=y.g=f,Y=gi(oe,O,!0,y)&&Y,Y=gi(oe,O,!1,y)&&Y,E)for(W=0;W<E.length;W++)oe=y.g=E[W],Y=gi(oe,O,!1,y)&&Y}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],O=0;O<E.length;O++)$e(E[O]);delete f.g[y],f.h--}}this.F=null},Ot.prototype.K=function(f,y,E,O){return this.i.add(String(f),y,!1,E,O)},Ot.prototype.L=function(f,y,E,O){return this.i.add(String(f),y,!0,E,O)};function gi(f,y,E,O){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==E){var ze=oe.listener,Mt=oe.ha||oe.src;oe.fa&&mi(f.i,oe),Y=ze.call(Mt,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function _h(f,y,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function su(f){f.g=_h(()=>{f.g=null,f.i&&(f.i=!1,su(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Mm extends me{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(f){me.call(this),this.h=f,this.g={}}R(Ea,me);var os=[];function nn(f){X(f.g,function(y,E){this.g.hasOwnProperty(E)&&va(y)},f),f.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),nn(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var au=h.JSON.stringify,Mr=h.JSON.parse,pn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function ou(){}ou.prototype.h=null;function yh(f){return f.h||(f.h=f.i())}function vh(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){ue.call(this,"d")}R(ls,ue);function _r(){ue.call(this,"c")}R(_r,ue);var Xn={},us=null;function xo(){return us=us||new Ot}Xn.La="serverreachability";function lu(f){ue.call(this,Xn.La,f)}R(lu,ue);function cs(f){const y=xo();Ut(y,new lu(y))}Xn.STAT_EVENT="statevent";function Mo(f,y){ue.call(this,Xn.STAT_EVENT,f),this.stat=y}R(Mo,ue);function yt(f){const y=xo();Ut(y,new Mo(y,f))}Xn.Ma="timingevent";function Eh(f,y){ue.call(this,Xn.Ma,f),this.size=y}R(Eh,ue);function hs(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function Th(f,y,E,O,Y,W){f.info(function(){if(f.g)if(W)for(var oe="",ze=W.split("&"),Mt=0;Mt<ze.length;Mt++){var je=ze[Mt].split("=");if(1<je.length){var Bt=je[0];je=je[1];var Nt=Bt.split("_");oe=2<=Nt.length&&Nt[1]=="type"?oe+(Bt+"="+je+"&"):oe+(Bt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+y+`
`+E+`
`+oe})}function wh(f,y,E,O,Y,W,oe){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+y+`
`+E+`
`+W+" "+oe})}function ds(f,y,E,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+zt(f,E)+(O?" "+O:"")})}function Pr(f,y){f.info(function(){return"TIMEOUT: "+y})}fs.prototype.info=function(){};function zt(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var O=E[f];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var W=Y[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<Y.length;oe++)Y[oe]=""}}}}return au(E)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function No(){}R(No,ou),No.prototype.g=function(){return new XMLHttpRequest},No.prototype.i=function(){return{}},Ta=new No;function kr(f,y,E,O){this.j=f,this.i=y,this.l=E,this.R=O||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var ms={},wa={};function yr(f,y,E){f.L=1,f.v=Aa(dt(y)),f.m=E,f.P=!0,yi(f,null)}function yi(f,y){f.F=Date.now(),st(f),f.A=dt(f.v);var E=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Ti(E.i,"t",O),f.C=0,E=f.j.J,f.h=new uu,f.g=Vh(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Mm(w(f.Y,f,f.g),f.O)),y=f.U,E=f.g,O=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(os[0]=Y.toString()),Y=os);for(var W=0;W<Y.length;W++){var oe=pi(E,Y[W],O||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),cs(),Th(f.i,f.u,f.A,f.l,f.R,f.m)}kr.prototype.ca=function(f){f=f.target;const y=this.M;y&&tr(f)==3?y.j():this.Y(f)},kr.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=tr(this.g);var y=this.g.Ba();const Ai=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Ih(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Ai?cs(3):cs(2)),Po(this);var E=this.g.Z();this.X=E;t:if(ps(this)){var O=Ih(this.g);f="";var Y=O.length,W=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Pn(this);var oe="";break t}this.h.i=new h.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(W&&y==Y-1)});O.length=0,this.h.g+=f,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,wh(this.i,this.u,this.A,this.l,this.R,Nt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Mt=this.g;if((ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ze)){var je=ze;break t}}je=null}if(E=je)ds(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kn(this,E);else{this.o=!1,this.s=3,yt(12),Rn(this),Pn(this);break e}}if(this.P){E=!0;let Qt;for(;!this.J&&this.C<oe.length;)if(Qt=gs(this,oe),Qt==wa){Nt==4&&(this.s=4,yt(14),E=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==ms){this.s=4,yt(15),ds(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else ds(this.i,this.l,Qt,null),kn(this,Qt);if(ps(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||oe.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)ds(this.i,this.l,oe,"[Invalid Chunked Response]"),Rn(this),Pn(this);else if(0<oe.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ma(Bt),Bt.M=!0,yt(11))}}else ds(this.i,this.l,oe,null),kn(this,oe);Nt==4&&Rn(this),this.o&&!this.J&&(Nt==4?Nh(this.j,this):(this.o=!1,st(this)))}else Um(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Rn(this),Pn(this)}}}catch{}finally{}};function ps(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function gs(f,y){var E=f.C,O=y.indexOf(`
`,E);return O==-1?wa:(E=Number(y.substring(E,O)),isNaN(E)?ms:(O+=1,O+E>y.length?wa:(y=y.slice(O,O+E),f.C=O+E,y)))}kr.prototype.cancel=function(){this.J=!0,Rn(this)};function st(f){f.S=Date.now()+f.I,cu(f,f.I)}function cu(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=hs(w(f.ba,f),y)}function Po(f){f.B&&(h.clearTimeout(f.B),f.B=null)}kr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Pr(this.i,this.A),this.L!=2&&(cs(),yt(17)),Rn(this),this.s=2,Pn(this)):cu(this,this.S-f)};function Pn(f){f.j.G==0||f.J||Nh(f.j,f)}function Rn(f){Po(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,nn(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function kn(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||_s(E.h,f))){if(!f.K&&_s(E.h,f)&&E.G==3){try{var O=E.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Ho(E),Fo(E);else break e;Tu(E),yt(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=hs(w(E.Za,E),6e3));if(1>=bh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Si(E,11)}else if((f.K||E.g==f)&&Ho(E),!L(y))for(Y=E.Da.g.parse(y),y=0;y<Y.length;y++){let je=Y[y];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const Bt=je[3];Bt!=null&&(E.la=Bt,E.j.info("VER="+E.la));const Nt=je[4];Nt!=null&&(E.Aa=Nt,E.j.info("SVER="+E.Aa));const Ai=je[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(O=1.5*Ai,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Qt=f.g;if(Qt){const Fr=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var W=O.h;W.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ys(W,W.h),W.h=null))}if(O.D){const bu=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;bu&&(O.ya=bu,He(O.I,O.D,bu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var oe=f;if(O.qa=kh(O,O.J?O.ia:null,O.W),oe.K){Wn(O.h,oe);var ze=oe,Mt=O.L;Mt&&(ze.I=Mt),ze.B&&(Po(ze),st(ze)),O.g=oe}else xh(O);0<E.i.length&&qo(E)}else je[0]!="stop"&&je[0]!="close"||Si(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Si(E,7):vu(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}cs(4)}catch{}}var Nm=class{constructor(f,y){this.g=f,this.map=y}};function hu(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bh(f){return f.h?1:f.g?f.g.size:0}function _s(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ys(f,y){f.g?f.g.add(y):f.h=y}function Wn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}hu.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function gn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return S(f.i)}function Sh(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],E=f.length,O=0;O<E;O++)y.push(f[O]);return y}y=[],E=0;for(O in f)y[E++]=f[O];return y}function Pm(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const O in f)y[E++]=O;return y}}}function ba(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Pm(f),O=Sh(f),Y=O.length,W=0;W<Y;W++)y.call(void 0,O[W],E&&E[W],f)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var O=f[E].indexOf("="),Y=null;if(0<=O){var W=f[E].substring(0,O);Y=f[E].substring(O+1)}else W=f[E];y(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function vi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof vi){this.h=f.h,vs(this,f.j),this.o=f.o,this.g=f.g,Sa(this,f.s),this.l=f.l;var y=f.i,E=new Vr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Vo(this,E),this.m=f.m}else f&&(y=String(f).match(du))?(this.h=!1,vs(this,y[1]||"",!0),this.o=Es(y[2]||""),this.g=Es(y[3]||"",!0),Sa(this,y[4]),this.l=Es(y[5]||"",!0),Vo(this,y[6]||"",!0),this.m=Es(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}vi.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Zn(y,mu,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Zn(y,mu,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Zn(E,E.charAt(0)=="/"?pu:Ah,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Zn(E,Lm)),f.join("")};function dt(f){return new vi(f)}function vs(f,y,E){f.j=E?Es(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Sa(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Vo(f,y,E){y instanceof Vr?(f.i=y,gu(f.i,f.h)):(E||(y=Zn(y,Vm)),f.i=new Vr(y,f.h))}function He(f,y,E){f.i.set(y,E)}function Aa(f){return He(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Es(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zn(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,km),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function km(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var mu=/[#\/\?@]/g,Ah=/[#\?:]/g,pu=/[#\?]/g,Vm=/[#\?@]/g,Lm=/#/g;function Vr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Jn(f){f.g||(f.g=new Map,f.h=0,f.i&&ko(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Vr.prototype,n.add=function(f,y){Jn(this),this.i=null,f=wi(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Lo(f,y){Jn(f),y=wi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ei(f,y){return Jn(f),y=wi(f,y),f.g.has(y)}n.forEach=function(f,y){Jn(this),this.g.forEach(function(E,O){E.forEach(function(Y){f.call(y,Y,O,this)},this)},this)},n.na=function(){Jn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let O=0;O<y.length;O++){const Y=f[O];for(let W=0;W<Y.length;W++)E.push(y[O])}return E},n.V=function(f){Jn(this);let y=[];if(typeof f=="string")Ei(this,f)&&(y=y.concat(this.g.get(wi(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return Jn(this),this.i=null,f=wi(this,f),Ei(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ti(f,y,E){Lo(f,y),0<E.length&&(f.i=null,f.g.set(wi(f,y),S(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var O=y[E];const W=encodeURIComponent(String(O)),oe=this.V(O);for(O=0;O<oe.length;O++){var Y=W;oe[O]!==""&&(Y+="="+encodeURIComponent(String(oe[O]))),f.push(Y)}}return this.i=f.join("&")};function wi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function gu(f,y){y&&!f.j&&(Jn(f),f.i=null,f.g.forEach(function(E,O){var Y=O.toLowerCase();O!=Y&&(Lo(this,O),Ti(this,Y,E))},f)),f.j=y}function Rh(f,y){const E=new fs;if(h.Image){const O=new Image;O.onload=b(er,E,"TestLoadImage: loaded",!0,y,O),O.onerror=b(er,E,"TestLoadImage: error",!1,y,O),O.onabort=b(er,E,"TestLoadImage: abort",!1,y,O),O.ontimeout=b(er,E,"TestLoadImage: timeout",!1,y,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}function Ra(f,y){const E=new fs,O=new AbortController,Y=setTimeout(()=>{O.abort(),er(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:O.signal}).then(W=>{clearTimeout(Y),W.ok?er(E,"TestPingServer: ok",!0,y):er(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),er(E,"TestPingServer: error",!1,y)})}function er(f,y,E,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(E)}catch{}}function Ca(){this.g=new pn}function Lr(f,y,E){const O=E||"";try{ba(f,function(Y,W){let oe=Y;p(Y)&&(oe=au(Y)),y.push(O+W+"="+encodeURIComponent(oe))})}catch(Y){throw y.push(O+"type="+encodeURIComponent("_badmap")),Y}}function Ts(f){this.l=f.Ub||null,this.j=f.eb||!1}R(Ts,ou),Ts.prototype.g=function(){return new bi(this.l,this.j)},Ts.prototype.i=function(f){return function(){return f}}({});function bi(f,y){Ot.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(bi,Ot),n=bi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,zr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_u(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function _u(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Ur(this):zr(this),this.readyState==3&&_u(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ur(this))},n.Qa=function(f){this.g&&(this.response=f,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(f){f.readyState=4,f.l=null,f.j=null,f.v=null,zr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function zr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function yu(f){let y="";return X(f,function(E,O){y+=O,y+=":",y+=E,y+=`\r
`}),y}function jt(f,y,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=yu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):He(f,y,E))}function Qe(f){Ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Qe,Ot);var Uo=/^https?$/i,Ia=["POST","PUT"];n=Qe.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?yh(this.o):yh(Ta),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){Ch(this,W);return}if(f=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)E.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const W of O.keys())E.set(W,O.get(W));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ia,y,void 0))||O||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of E)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){Ch(this,W)}};function Ch(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,zo(f),jr(f)}function zo(f){f.A||(f.A=!0,Ut(f,"complete"),Ut(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ut(this,"complete"),Ut(this,"abort"),jr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?jo(this):this.bb())},n.bb=function(){jo(this)};function jo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||tr(f)!=4||f.Z()!=2)){if(f.u&&tr(f)==4)_h(f.Ea,0,f);else if(Ut(f,"readystatechange"),tr(f)==4){f.h=!1;try{const oe=f.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var O;if(O=oe===0){var Y=String(f.D).match(du)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),O=!Uo.test(Y?Y.toLowerCase():"")}E=O}if(E)Ut(f,"complete"),Ut(f,"success");else{f.m=6;try{var W=2<tr(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",zo(f)}}finally{jr(f)}}}}function jr(f,y){if(f.g){Da(f);const E=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ut(f,"ready");try{E.onreadystatechange=O}catch{}}}function Da(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function tr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Mr(y)}};function Ih(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Um(f){const y={};f=(f.g&&2<=tr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(L(f[O]))continue;var E=U(f[O]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[Y]||[];y[Y]=W,W.push(E)}x(y,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Bo(f){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,f),this.cb=Oa("retryDelaySeedMs",1e4,f),this.Wa=Oa("forwardChannelMaxRetries",2,f),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hu(f&&f.concurrentRequestLimit),this.Da=new Ca,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bo.prototype,n.la=8,n.G=1,n.connect=function(f,y,E,O){yt(0),this.W=f,this.H=y||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=kh(this,null,this.W),qo(this)};function vu(f){if(Dh(f),f.G==3){var y=f.U++,E=dt(f.I);if(He(E,"SID",f.K),He(E,"RID",y),He(E,"TYPE","terminate"),xa(f,E),y=new kr(f,f.j,y),y.L=2,y.v=Aa(dt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=Vh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),st(y)}Ph(f)}function Fo(f){f.g&&(Ma(f),f.g.cancel(),f.g=null)}function Dh(f){Fo(f),f.u&&(h.clearTimeout(f.u),f.u=null),Ho(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function qo(f){if(!fu(f.h)&&!f.s){f.s=!0;var y=f.Ga;he||z(),de||(he(),de=!0),ke.add(y,f),f.B=0}}function zm(f,y){return bh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=hs(w(f.Ga,f,y),wu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new kr(this,this.j,f);let W=this.o;if(this.S&&(W?(W=C(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(Y.H=W,W=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Oh(this,Y,y),E=dt(this.I),He(E,"RID",f),He(E,"CVER",22),this.D&&He(E,"X-HTTP-Session-Id",this.D),xa(this,E),W&&(this.O?y="headers="+encodeURIComponent(String(yu(W)))+"&"+y:this.m&&jt(E,this.m,W)),ys(this.h,Y),this.Ua&&He(E,"TYPE","init"),this.P?(He(E,"$req",y),He(E,"SID","null"),Y.T=!0,yr(Y,E,null)):yr(Y,E,y),this.G=2}}else this.G==3&&(f?Eu(this,f):this.i.length==0||fu(this.h)||Eu(this))};function Eu(f,y){var E;y?E=y.l:E=f.U++;const O=dt(f.I);He(O,"SID",f.K),He(O,"RID",E),He(O,"AID",f.T),xa(f,O),f.m&&f.o&&jt(O,f.m,f.o),E=new kr(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Oh(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ys(f.h,E),yr(E,O,y)}function xa(f,y){f.H&&X(f.H,function(E,O){He(y,O,E)}),f.l&&ba({},function(E,O){He(y,O,E)})}function Oh(f,y,E){E=Math.min(f.i.length,E);var O=f.l?w(f.l.Na,f.l,f):null;e:{var Y=f.i;let W=-1;for(;;){const oe=["count="+E];W==-1?0<E?(W=Y[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let ze=!0;for(let Mt=0;Mt<E;Mt++){let je=Y[Mt].g;const Bt=Y[Mt].map;if(je-=W,0>je)W=Math.max(0,Y[Mt].g-100),ze=!1;else try{Lr(Bt,oe,"req"+je+"_")}catch{O&&O(Bt)}}if(ze){O=oe.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,O}function xh(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;he||z(),de||(he(),de=!0),ke.add(y,f),f.v=0}}function Tu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=hs(w(f.Fa,f),wu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=hs(w(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Fo(this),Mh(this))};function Ma(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Mh(f){f.g=new kr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=dt(f.qa);He(y,"RID","rpc"),He(y,"SID",f.K),He(y,"AID",f.T),He(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&He(y,"TO",f.ja),He(y,"TYPE","xmlhttp"),xa(f,y),f.m&&f.o&&jt(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Aa(dt(y)),E.m=null,E.P=!0,yi(E,f)}n.Za=function(){this.C!=null&&(this.C=null,Fo(this),Tu(this),yt(19))};function Ho(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Nh(f,y){var E=null;if(f.g==y){Ho(f),Ma(f),f.g=null;var O=2}else if(_s(f.h,y))E=y.D,Wn(f.h,y),O=1;else return;if(f.G!=0){if(y.o)if(O==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var Y=f.B;O=xo(),Ut(O,new Eh(O,E)),qo(f)}else xh(f);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(O==1&&zm(f,y)||O==2&&Tu(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),Y){case 1:Si(f,5);break;case 4:Si(f,10);break;case 3:Si(f,6);break;default:Si(f,2)}}}function wu(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Si(f,y){if(f.j.info("Error code "+y),y==2){var E=w(f.fb,f),O=f.Xa;const Y=!O;O=new vi(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||vs(O,"https"),Aa(O),Y?Rh(O.toString(),E):Ra(O.toString(),E)}else yt(2);f.G=0,f.l&&f.l.sa(y),Ph(f),Dh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Ph(f){if(f.G=0,f.ka=[],f.l){const y=gn(f.h);(y.length!=0||f.i.length!=0)&&(D(f.ka,y),D(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function kh(f,y,E){var O=E instanceof vi?dt(E):new vi(E);if(O.g!="")y&&(O.g=y+"."+O.g),Sa(O,O.s);else{var Y=h.location;O=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var W=new vi(null);O&&vs(W,O),y&&(W.g=y),Y&&Sa(W,Y),E&&(W.l=E),O=W}return E=f.D,y=f.ya,E&&y&&He(O,E,y),He(O,"VER",f.la),xa(f,O),O}function Vh(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Qe(new Ts({eb:E})):new Qe(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lh(){}n=Lh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Go(){}Go.prototype.g=function(f,y){return new _n(f,y)};function _n(f,y){Ot.call(this),this.g=new Bo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!L(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Br(this)}R(_n,Ot),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){vu(this.g)},_n.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=au(f),f=E);y.i.push(new Nm(y.Ya++,f)),y.G==3&&qo(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,_n.aa.N.call(this)};function Uh(f){ls.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}R(Uh,ls);function zh(){_r.call(this),this.status=1}R(zh,_r);function Br(f){this.g=f}R(Br,Lh),Br.prototype.ua=function(){Ut(this.g,"a")},Br.prototype.ta=function(f){Ut(this.g,new Uh(f))},Br.prototype.sa=function(f){Ut(this.g,new zh)},Br.prototype.ra=function(){Ut(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,x1=function(){return new Go},O1=function(){return xo()},D1=Xn,z_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,rd=xt,_i.COMPLETE="complete",I1=_i,vh.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,_c=vh,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,C1=Qe}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const $w="@firebase/firestore",Xw="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Oy("@firebase/firestore");function El(){return go.logLevel}function ce(n,...e){if(go.logLevel<=Ne.DEBUG){const t=e.map(Hy);go.debug(`Firestore (${Wl}): ${n}`,...t)}}function es(n,...e){if(go.logLevel<=Ne.ERROR){const t=e.map(Hy);go.error(`Firestore (${Wl}): ${n}`,...t)}}function Bl(n,...e){if(go.logLevel<=Ne.WARN){const t=e.map(Hy);go.warn(`Firestore (${Wl}): ${n}`,...t)}}function Hy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: `+n;throw es(e),new Error(e)}function Ke(n,e){n||Te()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class rk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ik{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ki,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ki)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new M1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new on(e)}}class sk{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ak{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ww{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ok{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,dr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ww(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new Ww(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lk(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Fl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=-62135596800,Jw=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Jw);return new Vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zw)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__name__";class Xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Xr.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Xr.isNumericId(e),s=Xr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class rt extends Xr{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const uk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Xr{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return uk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eb}static keyField(){return new Jt([eb])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=-1;function ck(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new la(s,ye.empty(),e)}function hk(n){return new la(n.readTime,n.key,Gc)}class la{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new la(be.min(),ye.empty(),Gc)}static max(){return new la(be.max(),ye.empty(),Gc)}}function fk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==dk)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let s=0,o=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&t()},d=>r(d))}),u=!0,o===s&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(s=>s?re.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new re((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(_=>{u[p]=_,++h,h===o&&r(u)},_=>s(_))}})}static doWhile(e,t){return new re((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function pk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}am.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=-1;function om(n){return n==null}function Id(n){return n===0&&1/n==-1/0}function gk(n){return typeof n=="number"&&Number.isInteger(n)&&!Id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="";function _k(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tb(e)),e=yk(n.get(t),e);return tb(e)}function yk(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case P1:t+="";break;default:t+=o}}return t}function tb(n){return n+P1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function So(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ff(this.root,e,this.comparator,!0)}}class Ff{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Zt(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,s,o){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rb(this.data.getIterator())}getIteratorFrom(e){return new rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Sr([])}unionWith(e){let t=new Lt(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new V1("Invalid base64 string: "+o):o}}(e);return new tn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=vk.exec(n);if(Ke(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="server_timestamp",U1="__type__",z1="__previous_value__",j1="__local_write_time__";function Yy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[U1])===null||t===void 0?void 0:t.stringValue)===L1}function lm(n){const e=n.mapValue.fields[z1];return Yy(e)?lm(e):e}function Yc(n){const e=ua(n.mapValue.fields[j1].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,r,s,o,u,h,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Dd="(default)";class Qc{constructor(e,t){this.projectId=e,this.database=t||Dd}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Dd}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",Tk="__max__",qf={mapValue:{}},F1="__vector__",Od="value";function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yy(n)?4:bk(n)?9007199254740991:wk(n)?10:11:Te()}function li(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yc(n).isEqual(Yc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ua(s.timestampValue),h=ua(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return ca(s.bytesValue).isEqual(ca(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Tt(s.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Tt(s.integerValue)===Tt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Tt(s.doubleValue),h=Tt(o.doubleValue);return u===h?Id(u)===Id(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Fl(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(nb(u)!==nb(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!li(u[d],h[d])))return!1;return!0}(n,e);default:return Te()}}function Kc(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function ql(n,e){if(n===e)return 0;const t=ha(n),r=ha(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Tt(o.integerValue||o.doubleValue),d=Tt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return ib(n.timestampValue,e.timestampValue);case 4:return ib(Yc(n),Yc(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(o,u){const h=ca(o),d=ca(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const _=Le(h[p],d[p]);if(_!==0)return _}return Le(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Le(Tt(o.latitude),Tt(u.latitude));return h!==0?h:Le(Tt(o.longitude),Tt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sb(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,p,_;const v=o.fields||{},w=u.fields||{},b=(h=v[Od])===null||h===void 0?void 0:h.arrayValue,R=(d=w[Od])===null||d===void 0?void 0:d.arrayValue,S=Le(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return S!==0?S:sb(b,R)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===qf.mapValue&&u===qf.mapValue)return 0;if(o===qf.mapValue)return 1;if(u===qf.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=u.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const w=Le(d[v],_[v]);if(w!==0)return w;const b=ql(h[d[v]],p[_[v]]);if(b!==0)return b}return Le(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function ib(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ua(n),r=ua(e),s=Le(t.seconds,r.seconds);return s!==0?s:Le(t.nanos,r.nanos)}function sb(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=ql(t[s],r[s]);if(o)return o}return Le(t.length,r.length)}function Hl(n){return j_(n)}function j_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ua(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ca(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=j_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${j_(t.fields[u])}`;return s+"}"}(n.mapValue):Te()}function id(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(n);return e?16+id(e):16;case 5:return 2*n.stringValue.length;case 6:return ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+id(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return So(r.fields,(o,u)=>{s+=o.length+id(u)}),s}(n.mapValue);default:throw Te()}}function ab(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function B_(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function ob(n){return!!n&&"nullValue"in n}function lb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sd(n){return!!n&&"mapValue"in n}function wk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[B1])===null||t===void 0?void 0:t.stringValue)===F1}function Rc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return So(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Tk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(t)}setAll(e){let t=Jt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Rc(u):s.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];sd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){So(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new mr(Rc(this.value))}}function q1(n){const e=[];return So(n.fields,(t,r)=>{const s=new Jt([t]);if(sd(r)){const o=q1(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ln(e,0,be.min(),be.min(),be.min(),mr.empty(),0)}static newFoundDocument(e,t,r,s){return new ln(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new ln(e,2,t,be.min(),be.min(),mr.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,be.min(),be.min(),mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.position=e,this.inclusive=t}}function ub(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ql(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class Dt extends H1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Rk(e,t,r):t==="array-contains"?new Dk(e,r):t==="in"?new Ok(e,r):t==="not-in"?new xk(e,r):t==="array-contains-any"?new Mk(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ck(e,r):new Ik(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ql(t,this.value)):t!==null&&ha(this.value)===ha(t)&&this.matchesComparison(ql(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends H1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Dr(e,t)}matches(e){return G1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function G1(n){return n.op==="and"}function Y1(n){return Ak(n)&&G1(n)}function Ak(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function F_(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Hl(n.value);if(Y1(n))return n.filters.map(e=>F_(e)).join(",");{const e=n.filters.map(t=>F_(t)).join(",");return`${n.op}(${e})`}}function Q1(n,e){return n instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&li(r.value,s.value)}(n,e):n instanceof Dr?function(r,s){return s instanceof Dr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,h)=>o&&Q1(u,s.filters[h]),!0):!1}(n,e):void Te()}function K1(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Hl(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(K1).join(" ,")+"}"}(n):"Filter"}class Rk extends Dt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ck extends Dt{constructor(e,t){super(e,"in",t),this.keys=$1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ik extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=$1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class Dk extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qy(t)&&Kc(t.arrayValue,this.value)}}class Ok extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Kc(this.value.arrayValue,t)}}class xk extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Kc(this.value.arrayValue,t)}}class Mk extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function hb(n,e=null,t=[],r=[],s=null,o=null,u=null){return new Nk(n,e,t,r,s,o,u)}function Ky(n){const e=Ae(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>F_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hl(r)).join(",")),e.le=t}return e.le}function $y(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Q1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cb(n.startAt,e.startAt)&&cb(n.endAt,e.endAt)}function q_(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Pk(n,e,t,r,s,o,u,h){return new eu(n,e,t,r,s,o,u,h)}function um(n){return new eu(n)}function fb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function X1(n){return n.collectionGroup!==null}function Cc(n){const e=Ae(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Lt(Jt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new $c(o,r))}),t.has(Jt.keyField().canonicalString())||e.he.push(new $c(Jt.keyField(),r))}return e.he}function ri(n){const e=Ae(n);return e.Pe||(e.Pe=kk(e,Cc(n))),e.Pe}function kk(n,e){if(n.limitType==="F")return hb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new $c(s.field,o)});const t=n.endAt?new xd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xd(n.startAt.position,n.startAt.inclusive):null;return hb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function H_(n,e){const t=n.filters.concat([e]);return new eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function G_(n,e,t){return new eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cm(n,e){return $y(ri(n),ri(e))&&n.limitType===e.limitType}function W1(n){return`${Ky(ri(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>K1(s)).join(", ")}]`),om(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Hl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Hl(s)).join(",")),`Target(${r})`}(ri(n))}; limitType=${n.limitType})`}function hm(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Cc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,d){const p=ub(u,h,d);return u.inclusive?p<=0:p<0}(r.startAt,Cc(r),s)||r.endAt&&!function(u,h,d){const p=ub(u,h,d);return u.inclusive?p>=0:p>0}(r.endAt,Cc(r),s))}(n,e)}function Vk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Z1(n){return(e,t)=>{let r=!1;for(const s of Cc(n)){const o=Lk(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Lk(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),p=h.data.field(o);return d!==null&&p!==null?ql(d,p):Te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new ht(ye.comparator);function ts(){return Uk}const J1=new ht(ye.comparator);function yc(...n){let e=J1;for(const t of n)e=e.insert(t.key,t);return e}function eR(n){let e=J1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function so(){return Ic()}function tR(){return Ic()}function Ic(){return new Ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const zk=new ht(ye.comparator),jk=new Lt(ye.comparator);function Pe(...n){let e=jk;for(const t of n)e=e.add(t);return e}const Bk=new Lt(Le);function Fk(){return Bk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function nR(n){return{integerValue:""+n}}function qk(n,e){return gk(e)?nR(e):Xy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this._=void 0}}function Hk(n,e,t){return n instanceof Xc?function(s,o){const u={fields:{[U1]:{stringValue:L1},[j1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Yy(o)&&(o=lm(o)),o&&(u.fields[z1]=o),{mapValue:u}}(t,e):n instanceof Wc?iR(n,e):n instanceof Zc?sR(n,e):function(s,o){const u=rR(s,o),h=db(u)+db(s.Ie);return B_(u)&&B_(s.Ie)?nR(h):Xy(s.serializer,h)}(n,e)}function Gk(n,e,t){return n instanceof Wc?iR(n,e):n instanceof Zc?sR(n,e):t}function rR(n,e){return n instanceof Md?function(r){return B_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Xc extends fm{}class Wc extends fm{constructor(e){super(),this.elements=e}}function iR(n,e){const t=aR(e);for(const r of n.elements)t.some(s=>li(s,r))||t.push(r);return{arrayValue:{values:t}}}class Zc extends fm{constructor(e){super(),this.elements=e}}function sR(n,e){let t=aR(e);for(const r of n.elements)t=t.filter(s=>!li(s,r));return{arrayValue:{values:t}}}class Md extends fm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function db(n){return Tt(n.integerValue||n.doubleValue)}function aR(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t){this.field=e,this.transform=t}}function Qk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Wc&&s instanceof Wc||r instanceof Zc&&s instanceof Zc?Fl(r.elements,s.elements,li):r instanceof Md&&s instanceof Md?li(r.Ie,s.Ie):r instanceof Xc&&s instanceof Xc}(n.transform,e.transform)}class Kk{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dm{}function oR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wy(n.key,Cr.none()):new fh(n.key,n.data,Cr.none());{const t=n.data,r=mr.empty();let s=new Lt(Jt.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Ro(n.key,r,new Sr(s.toArray()),Cr.none())}}function $k(n,e,t){n instanceof fh?function(s,o,u){const h=s.value.clone(),d=pb(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ro?function(s,o,u){if(!ad(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=pb(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(lR(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Dc(n,e,t,r){return n instanceof fh?function(o,u,h,d){if(!ad(o.precondition,u))return h;const p=o.value.clone(),_=gb(o.fieldTransforms,d,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ro?function(o,u,h,d){if(!ad(o.precondition,u))return h;const p=gb(o.fieldTransforms,d,u),_=u.data;return _.setAll(lR(o)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,h){return ad(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Xk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=rR(r.transform,s||null);o!=null&&(t===null&&(t=mr.empty()),t.set(r.field,o))}return t||null}function mb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Fl(r,s,(o,u)=>Qk(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fh extends dm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ro extends dm{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function lR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pb(n,e,t){const r=new Map;Ke(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,Gk(u,h,t[s]))}return r}function gb(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,Hk(o,u,e))}return r}class Wy extends dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wk extends dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&$k(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tR();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const d=oR(u,h);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(t,r)=>mb(t,r))&&Fl(this.baseMutations,e.baseMutations,(t,r)=>mb(t,r))}}class Zy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length);let s=function(){return zk}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new Zy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function tV(n){switch(n){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function uR(n){if(n===void 0)return es("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new ta([4294967295,4294967295],0);function _b(n){const e=nV().encode(n),t=new R1;return t.update(e),new Uint8Array(t.digest())}function yb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ta([t,r],0),new ta([s,o],0)]}class Jy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vc(`Invalid padding: ${t}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ta.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(ta.fromNumber(r)));return s.compare(rV)===1&&(s=new ta([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=_b(e),[r,s]=yb(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,s,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Jy(o,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=_b(e),[r,s]=yb(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,s,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,dh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mm(be.min(),s,new ht(Le),ts(),Pe())}}class dh{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dh(r,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class cR{constructor(e,t){this.targetId=e,this.ge=t}}class hR{constructor(e,t,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class vb{constructor(){this.pe=0,this.ye=Eb(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),r=Pe();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te()}}),new dh(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Eb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iV{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ts(),this.$e=Hf(),this.Ke=Hf(),this.Ue=new ht(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(q_(o))if(r===0){const u=new ye(o.path);this.ze(t,u,ln.newNoDocument(u,be.min()))}else Ke(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=ca(r).toUint8Array()}catch(d){if(d instanceof V1)return Bl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Jy(u,s,o)}catch(d){return Bl(d instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&q_(h.target)){const d=new ye(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,ln.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Pe();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const s=new mm(e,t,this.Ue,this.Qe,r);return this.Qe=ts(),this.$e=Hf(),this.Ke=Hf(),this.Ue=new ht(Le),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new vb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Lt(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Lt(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Hf(){return new ht(ye.comparator)}function Eb(){return new ht(ye.comparator)}const sV={asc:"ASCENDING",desc:"DESCENDING"},aV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oV={and:"AND",or:"OR"};class lV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Y_(n,e){return n.useProto3Json||om(e)?e:{value:e}}function Nd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uV(n,e){return Nd(n,e.toTimestamp())}function ii(n){return Ke(!!n),be.fromTimestamp(function(t){const r=ua(t);return new Vt(r.seconds,r.nanos)}(n))}function ev(n,e){return Q_(n,e).canonicalString()}function Q_(n,e){const t=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dR(n){const e=rt.fromString(n);return Ke(yR(e)),e}function K_(n,e){return ev(n.databaseId,e.path)}function r_(n,e){const t=dR(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(pR(t))}function mR(n,e){return ev(n.databaseId,e)}function cV(n){const e=dR(n);return e.length===4?rt.emptyPath():pR(e)}function $_(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pR(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Tb(n,e,t){return{name:K_(n,e),fields:t.value.mapValue.fields}}function hV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,_){return p.useProto3Json?(Ke(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const _=p.code===void 0?ne.UNKNOWN:uR(p.code);return new fe(_,p.message||"")}(u);t=new hR(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=r_(n,r.document.name),o=ii(r.document.updateTime),u=r.document.createTime?ii(r.document.createTime):be.min(),h=new mr({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(s,o,u,h),p=r.targetIds||[],_=r.removedTargetIds||[];t=new od(p,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=r_(n,r.document),o=r.readTime?ii(r.readTime):be.min(),u=ln.newNoDocument(s,o),h=r.removedTargetIds||[];t=new od([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=r_(n,r.document),o=r.removedTargetIds||[];t=new od([],o,s,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new eV(s,o),h=r.targetId;t=new cR(h,u)}}return t}function fV(n,e){let t;if(e instanceof fh)t={update:Tb(n,e.key,e.value)};else if(e instanceof Wy)t={delete:K_(n,e.key)};else if(e instanceof Ro)t={update:Tb(n,e.key,e.data),updateMask:TV(e.fieldMask)};else{if(!(e instanceof Wk))return Te();t={verify:K_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Md)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:uV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(n,e.precondition)),t}function dV(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(s,o){let u=s.updateTime?ii(s.updateTime):ii(o);return u.isEqual(be.min())&&(u=ii(o)),new Kk(u,s.transformResults||[])}(t,e))):[]}function mV(n,e){return{documents:[mR(n,e.path)]}}function pV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=mR(n,s);const o=function(p){if(p.length!==0)return _R(Dr.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(_=>function(w){return{field:wl(w.field),direction:yV(w.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Y_(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function gV(n){let e=cV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let o=[];t.where&&(o=function(v){const w=gR(v);return w instanceof Dr&&Y1(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(w=>function(R){return new $c(bl(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let h=null;t.limit&&(h=function(v){let w;return w=typeof v=="object"?v.value:v,om(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(v){const w=!!v.before,b=v.values||[];return new xd(b,w)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const w=!v.before,b=v.values||[];return new xd(b,w)}(t.endAt)),Pk(e,s,u,o,h,"F",d,p)}function _V(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=bl(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bl(t.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(t.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(bl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(r=>gR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function yV(n){return sV[n]}function vV(n){return aV[n]}function EV(n){return oV[n]}function wl(n){return{fieldPath:n.canonicalString()}}function bl(n){return Jt.fromServerFormat(n.fieldPath)}function _R(n){return n instanceof Dt?function(t){if(t.op==="=="){if(lb(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(ob(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lb(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(ob(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:vV(t.op),value:t.value}}}(n):n instanceof Dr?function(t){const r=t.getFilters().map(s=>_R(s));return r.length===1?r[0]:{compositeFilter:{op:EV(t.op),filters:r}}}(n):Te()}function TV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t,r,s,o=be.min(),u=be.min(),h=tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.Tt=e}}function bV(n){const e=gV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?G_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.Tn=new AV}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(la.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(la.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class AV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Lt(rt.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vR=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(vR,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Gl(0)}static Un(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LruGarbageCollector",RV=1048576;function Sb([n,e],[t,r]){const s=Le(n,t);return s===0?Le(e,r):s}class CV{constructor(e){this.Hn=e,this.buffer=new Lt(Sb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Sb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(bb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jl(t)?ce(bb,"Ignoring IndexedDB error during garbage collection: ",t):await Zl(t)}await this.er(3e5)})}}class DV{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(am.ae);const r=new CV(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(wb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,o,u,h,d,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),El()<=Ne.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function OV(n,e){return new DV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Dc(r.mutation,s,Sr.empty(),Vt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){const s=so();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=yc();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=so();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let o=ts();const u=Ic(),h=function(){return Ic()}();return t.forEach((d,p)=>{const _=r.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof Ro)?o=o.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),Dc(_.mutation,p,_.mutation.getFieldMask(),Vt.now())):u.set(p.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,_)=>u.set(p,_)),t.forEach((p,_)=>{var v;return h.set(p,new MV(_,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ic();let s=new ht((u,h)=>u-h),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let _=r.get(d)||Sr.empty();_=h.applyToLocalView(p,_),r.set(d,_);const v=(s.get(h.batchId)||Pe()).add(d);s=s.insert(h.batchId,v)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,_=d.value,v=tR();_.forEach(w=>{if(!o.has(w)){const b=oR(t.get(w),r.get(w));b!==null&&v.set(w,b),o=o.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):X1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):re.resolve(so());let h=Gc,d=o;return u.next(p=>re.forEach(p,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{d=d.insert(_,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,Pe())).next(_=>({batchId:h,changes:eR(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=yc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=yc();return this.indexManager.getCollectionParents(e,o).next(h=>re.forEach(h,d=>{const p=function(v,w){return new eu(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(_=>{_.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((d,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,ln.newInvalidDocument(_)))});let h=yc();return u.forEach((d,p)=>{const _=o.get(d);_!==void 0&&Dc(_.mutation,p,Sr.empty(),Vt.now()),hm(t,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ii(s.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:bV(s.bundledQuery),readTime:ii(s.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.overlays=new ht(ye.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=so();return re.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Et(e,t,o)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=so(),o=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new ht((p,_)=>p-_);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=o.get(p.largestBatchId);_===null&&(_=so(),o=o.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=so(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,_)=>h.set(p,_)),!(h.size()>=s)););return re.resolve(h)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Jk(t,r));let o=this.Rr.get(t);o===void 0&&(o=Pe(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Vr=new Lt(Gt.mr),this.gr=new Lt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Gt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ye(new rt([])),r=new Gt(t,e),s=new Gt(t,e+1),o=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new rt([])),r=new Gt(t,e),s=new Gt(t,e+1);let o=Pe();return this.gr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Gt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Gt.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Zk(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Mr=this.Mr.add(new Gt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),o=s<0?0:s;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Gy:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),s=new Gt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,s],u=>{const h=this.Or(u.Cr);o.push(h)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Lt(Le);return t.forEach(s=>{const o=new Gt(s,0),u=new Gt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),re.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const u=new Gt(new ye(o),0);let h=new Lt(Le);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Cr)),!0)},u),re.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ke(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return re.forEach(t.mutations,s=>{const o=new Gt(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Gt(t,0),s=this.Mr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.kr=e,this.docs=function(){return new ht(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=ts();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ln.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=ts();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||fk(hk(_),r)<=0||(s.has(_.key)||hm(t,_))&&(o=o.insert(_.key,_.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Te()}qr(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zV(this)}getSize(e){return re.resolve(this.size)}}class zV extends xV{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.persistence=e,this.Qr=new Ao(t=>Ky(t),$y),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new tv,this.targetCount=0,this.Ur=Gl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Gl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),re.waitFor(o).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new am(0),this.zr=!1,this.zr=!0,this.jr=new VV,this.referenceDelegate=e(this),this.Hr=new jV(this),this.indexManager=new SV,this.remoteDocumentCache=function(s){return new UV(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new wV(t),this.Yr=new PV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new LV(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new BV(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return re.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class BV extends mk{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.ti=new tv,this.ni=null}static ri(e){return new nv(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,r=>{const s=ye.fromPath(r);return this.si(e,s).next(o=>{o||t.removeEntry(s,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Pd{constructor(e,t){this.persistence=e,this.oi=new Ao(r=>_k(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=OV(this,t)}static ri(e,t){return new Pd(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(o=>o?re.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,be.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=id(e.data.value)),t}ar(e,t,r){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Pe(),s=Pe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new rv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return VM()?8:pk(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new FV;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,s){return r.documentReadCount<this.es?(El()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(El()<=Ne.DEBUG&&ce("QueryEngine","Query:",Tl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(El()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):re.resolve())}rs(e,t){if(fb(t))return re.resolve(null);let r=ri(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=G_(t,null,"F"),r=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Pe(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(t,h);return this.ls(t,p,u,d.readTime)?this.rs(e,G_(t,null,"F")):this.hs(e,p,t,d)}))})))}ss(e,t,r,s){return fb(t)||s.isEqual(be.min())?re.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,s)?re.resolve(null):(El()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Tl(t)),this.hs(e,u,t,ck(s,Gc)).next(h=>h))})}cs(e,t){let r=new Lt(Z1(e));return t.forEach((s,o)=>{hm(e,o)&&(r=r.add(o))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,r){return El()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.ns.getDocumentsMatchingQuery(e,t,la.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LocalStore",HV=3e8;class GV{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new ht(Le),this.Is=new Ao(o=>Ky(o),$y),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function YV(n,e,t,r){return new GV(n,e,t,r)}async function TR(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Pe();for(const p of s){u.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}for(const p of o){h.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function QV(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,_){const v=p.batch,w=v.keys();let b=re.resolve();return w.forEach(R=>{b=b.next(()=>_.getEntry(d,R)).next(S=>{const D=p.docVersions.get(R);Ke(D!==null),S.version.compareTo(D)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),_.addEntry(S)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Pe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function wR(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function KV(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const h=[];e.targetChanges.forEach((_,v)=>{const w=s.get(v);if(!w)return;h.push(t.Hr.removeMatchingKeys(o,_.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,_.addedDocuments,v)));let b=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,r)),s=s.insert(v,b),function(S,D,k){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=HV?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(w,b,_)&&h.push(t.Hr.updateTargetData(o,b))});let d=ts(),p=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push($V(o,u,e.documentUpdates).next(_=>{d=_.Vs,p=_.fs})),!r.isEqual(be.min())){const _=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(_)}return re.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.Ts=s,o))}function $V(n,e,t){let r=Pe(),s=Pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ts();return t.forEach((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ce(iv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:u,fs:s}})}function XV(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WV(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(o=>o?(s=o,re.resolve(s)):t.Hr.allocateTargetId(r).next(u=>(s=new Xs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function X_(n,e,t){const r=Ae(n),s=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Jl(u))throw u;ce(iv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function Ab(n,e,t){const r=Ae(n);let s=be.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,_){const v=Ae(d),w=v.Is.get(_);return w!==void 0?re.resolve(v.Ts.get(w)):v.Hr.getTargetData(p,_)}(r,u,ri(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?s:be.min(),t?o:Pe())).next(h=>(ZV(r,Vk(e),h),{documents:h,gs:o})))}function ZV(n,e,t){let r=n.Es.get(e)||be.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class Rb{constructor(){this.activeTargetIds=Fk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JV{constructor(){this.ho=new Rb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Rb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="ConnectivityMonitor";class Ib{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(Cb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(Cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf=null;function W_(){return Gf===null?Gf=function(){return 268435456+Math.round(2147483648*Math.random())}():Gf++,"0x"+Gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="RestConnection",tL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nL{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Dd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,o){const u=W_(),h=this.bo(e,t.toUriEncodedString());ce(i_,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,o),this.vo(e,h,d,r).then(p=>(ce(i_,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Bl(i_,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,t,r,s,o,u){return this.So(e,t,r,s,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const r=tL[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class iL extends nL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const o=W_();return new Promise((u,h)=>{const d=new C1;d.setWithCredentials(!0),d.listenOnce(I1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case rd.NO_ERROR:const _=d.getResponseJson();ce(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(_)),u(_);break;case rd.TIMEOUT:ce(an,`RPC '${e}' ${o} timed out`),h(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const v=d.getStatus();if(ce(an,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const R=function(D){const k=D.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(k)>=0?k:ne.UNKNOWN}(b.status);h(new fe(R,b.message))}else h(new fe(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(an,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(s);ce(an,`RPC '${e}' ${o} sending request:`,s),d.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=W_(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=x1(),h=O1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=o.join("");ce(an,`Creating RPC '${e}' stream ${s}: ${_}`,d);const v=u.createWebChannel(_,d);let w=!1,b=!1;const R=new rL({Fo:D=>{b?ce(an,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(w||(ce(an,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),ce(an,`RPC '${e}' stream ${s} sending:`,D),v.send(D))},Mo:()=>v.close()}),S=(D,k,L)=>{D.listen(k,V=>{try{L(V)}catch(H){setTimeout(()=>{throw H},0)}})};return S(v,_c.EventType.OPEN,()=>{b||(ce(an,`RPC '${e}' stream ${s} transport opened.`),R.Qo())}),S(v,_c.EventType.CLOSE,()=>{b||(b=!0,ce(an,`RPC '${e}' stream ${s} transport closed`),R.Ko())}),S(v,_c.EventType.ERROR,D=>{b||(b=!0,Bl(an,`RPC '${e}' stream ${s} transport errored:`,D),R.Ko(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),S(v,_c.EventType.MESSAGE,D=>{var k;if(!b){const L=D.data[0];Ke(!!L);const V=L,H=(V==null?void 0:V.error)||((k=V[0])===null||k===void 0?void 0:k.error);if(H){ce(an,`RPC '${e}' stream ${s} received error:`,H);const F=H.status;let X=function(A){const M=Rt[A];if(M!==void 0)return uR(M)}(F),x=H.message;X===void 0&&(X=ne.INTERNAL,x="Unknown error status: "+F+" with message "+H.message),b=!0,R.Ko(new fe(X,x)),v.close()}else ce(an,`RPC '${e}' stream ${s} received:`,L),R.Uo(L)}}),S(h,D1.STAT_EVENT,D=>{D.stat===z_.PROXY?ce(an,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===z_.NOPROXY&&ce(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function s_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n){return new lV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="PersistentStream";class SR{constructor(e,t,r,s,o,u,h,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(Db,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(Db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sL extends SR{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=hV(this.serializer,e),r=function(o){if(!("targetChange"in o))return be.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?ii(u.readTime):be.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=$_(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=q_(d)?{documents:mV(o,d)}:{query:pV(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=fR(o,u.resumeToken);const p=Y_(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(be.min())>0){h.readTime=Nd(o,u.snapshotVersion.toTimestamp());const p=Y_(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=_V(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=$_(this.serializer),t.removeTarget=e,this.I_(t)}}class aL extends SR{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=dV(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=$_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fV(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{}class lL extends oL{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,Q_(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ne.UNKNOWN,o.toString())})}Co(e,t,r,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,Q_(t,r),s,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class uL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(es(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class cL{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{Co(this)&&(ce(_o,"Restarting streams for network reachability change."),await async function(d){const p=Ae(d);p.W_.add(4),await mh(p),p.j_.set("Unknown"),p.W_.delete(4),await gm(p)}(this))})}),this.j_=new uL(r,s)}}async function gm(n){if(Co(n))for(const e of n.G_)await e(!0)}async function mh(n){for(const e of n.G_)await e(!1)}function AR(n,e){const t=Ae(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),lv(t)?ov(t):tu(t).c_()&&av(t,e))}function sv(n,e){const t=Ae(n),r=tu(t);t.U_.delete(e),r.c_()&&RR(t,e),t.U_.size===0&&(r.c_()?r.P_():Co(t)&&t.j_.set("Unknown"))}function av(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tu(n).y_(e)}function RR(n,e){n.H_.Ne(e),tu(n).w_(e)}function ov(n){n.H_=new iV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),tu(n).start(),n.j_.B_()}function lv(n){return Co(n)&&!tu(n).u_()&&n.U_.size>0}function Co(n){return Ae(n).W_.size===0}function CR(n){n.H_=void 0}async function hL(n){n.j_.set("Online")}async function fL(n){n.U_.forEach((e,t)=>{av(n,e)})}async function dL(n,e){CR(n),lv(n)?(n.j_.q_(e),ov(n)):n.j_.set("Unknown")}async function mL(n,e,t){if(n.j_.set("Online"),e instanceof hR&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s.U_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.U_.delete(h),s.H_.removeTarget(h))}(n,e)}catch(r){ce(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kd(n,r)}else if(e instanceof od?n.H_.We(e):e instanceof cR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(be.min()))try{const r=await wR(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.U_.get(p);_&&o.U_.set(p,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const _=o.U_.get(d);if(!_)return;o.U_.set(d,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),RR(o,d);const v=new Xs(_.target,d,p,_.sequenceNumber);av(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ce(_o,"Failed to raise snapshot:",r),await kd(n,r)}}async function kd(n,e,t){if(!Jl(e))throw e;n.W_.add(1),await mh(n),n.j_.set("Offline"),t||(t=()=>wR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(_o,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await gm(n)})}function IR(n,e){return e().catch(t=>kd(n,t,e))}async function _m(n){const e=Ae(n),t=fa(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Gy;for(;pL(e);)try{const s=await XV(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,gL(e,s)}catch(s){await kd(e,s)}DR(e)&&OR(e)}function pL(n){return Co(n)&&n.K_.length<10}function gL(n,e){n.K_.push(e);const t=fa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function DR(n){return Co(n)&&!fa(n).u_()&&n.K_.length>0}function OR(n){fa(n).start()}async function _L(n){fa(n).C_()}async function yL(n){const e=fa(n);for(const t of n.K_)e.b_(t.mutations)}async function vL(n,e,t){const r=n.K_.shift(),s=Zy.from(r,e,t);await IR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await _m(n)}async function EL(n,e){e&&fa(n).S_&&await async function(r,s){if(function(u){return tV(u)&&u!==ne.ABORTED}(s.code)){const o=r.K_.shift();fa(r).h_(),await IR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await _m(r)}}(n,e),DR(n)&&OR(n)}async function Ob(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce(_o,"RemoteStore received new credentials");const r=Co(t);t.W_.add(3),await mh(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await gm(t)}async function TL(n,e){const t=Ae(n);e?(t.W_.delete(2),await gm(t)):e||(t.W_.add(2),await mh(t),t.j_.set("Unknown"))}function tu(n){return n.J_||(n.J_=function(t,r,s){const o=Ae(t);return o.M_(),new sL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:hL.bind(null,n),No:fL.bind(null,n),Lo:dL.bind(null,n),p_:mL.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),lv(n)?ov(n):n.j_.set("Unknown")):(await n.J_.stop(),CR(n))})),n.J_}function fa(n){return n.Y_||(n.Y_=function(t,r,s){const o=Ae(t);return o.M_(),new aL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:_L.bind(null,n),Lo:EL.bind(null,n),D_:yL.bind(null,n),v_:vL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await _m(n)):(await n.Y_.stop(),n.K_.length>0&&(ce(_o,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new uv(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(n,e){if(es("AsyncQueue",`${e}: ${n}`),Jl(n))return new fe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=yc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.Z_=new ht(ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yl{constructor(e,t,r,s,o,u,h,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Yl(e,t,Nl.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bL{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Ae(t),o=s.queries;s.queries=Mb(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function Mb(){return new Ao(n=>W1(n),cm)}async function hv(n,e){const t=Ae(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(r=2):(o=new wL,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=cv(u,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&dv(t)}async function fv(n,e){const t=Ae(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function SL(n,e){const t=Ae(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(s)&&(r=!0);u.ea=s}}r&&dv(t)}function AL(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const o of s.ta)o.onError(t);r.queries.delete(e)}function dv(n){n.ia.forEach(e=>{e.next()})}var Z_,Nb;(Nb=Z_||(Z_={}))._a="default",Nb.Cache="cache";class mv{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Z_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.key=e}}class MR{constructor(e){this.key=e}}class RL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=Z1(e),this.wa=new Nl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new xb,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,v)=>{const w=s.get(_),b=hm(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;w&&b?w.data.isEqual(b.data)?R!==S&&(r.track({type:3,doc:b}),D=!0):this.va(w,b)||(r.track({type:2,doc:b}),D=!0,(d&&this.ya(b,d)>0||p&&this.ya(b,p)<0)&&(h=!0)):!w&&b?(r.track({type:0,doc:b}),D=!0):w&&!b&&(r.track({type:1,doc:w}),D=!0,(d||p)&&(h=!0)),D&&(b?(u=u.add(b),o=S?o.add(_):o.delete(_)):(u=u.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,v)=>function(b,R){const S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return S(b)-S(R)}(_.type,v.type)||this.ya(_.doc,v.doc)),this.Ca(r),s=s!=null&&s;const h=t&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,u.length!==0||p?{snapshot:new Yl(this.query,e.wa,o,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new MR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new xR(r))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Yl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pv="SyncEngine";class CL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class IL{constructor(e){this.key=e,this.Ba=!1}}class DL{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ao(h=>W1(h),cm),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ye.comparator),this.Ka=new Map,this.Ua=new tv,this.Wa={},this.Ga=new Map,this.za=Gl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function OL(n,e,t=!0){const r=UR(n);let s;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await NR(r,e,t,!0),s}async function xL(n,e){const t=UR(n);await NR(t,e,!0,!1)}async function NR(n,e,t,r){const s=await WV(n.localStore,ri(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await ML(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&AR(n.remoteStore,s),h}async function ML(n,e,t,r,s){n.Ha=(v,w,b)=>async function(S,D,k,L){let V=D.view.ba(k);V.ls&&(V=await Ab(S.localStore,D.query,!1).then(({documents:x})=>D.view.ba(x,V)));const H=L&&L.targetChanges.get(D.targetId),F=L&&L.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(V,S.isPrimaryClient,H,F);return kb(S,D.targetId,X.Ma),X.snapshot}(n,v,w,b);const o=await Ab(n.localStore,e,!0),u=new RL(e,o.gs),h=u.ba(o.documents),d=dh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,d);kb(n,t,p.Ma);const _=new CL(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function NL(n,e,t){const r=Ae(n),s=r.ka.get(e),o=r.qa.get(s.targetId);if(o.length>1)return r.qa.set(s.targetId,o.filter(u=>!cm(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await X_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&sv(r.remoteStore,s.targetId),J_(r,s.targetId)}).catch(Zl)):(J_(r,s.targetId),await X_(r.localStore,s.targetId,!0))}async function PL(n,e){const t=Ae(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sv(t.remoteStore,r.targetId))}async function kL(n,e,t){const r=FL(n);try{const s=await function(u,h){const d=Ae(u),p=Vt.now(),_=h.reduce((b,R)=>b.add(R.key),Pe());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let R=ts(),S=Pe();return d.ds.getEntries(b,_).next(D=>{R=D,R.forEach((k,L)=>{L.isValidDocument()||(S=S.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,R)).next(D=>{v=D;const k=[];for(const L of h){const V=Xk(L,v.get(L.key).overlayedDocument);V!=null&&k.push(new Ro(L.key,V,q1(V.value.mapValue),Cr.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,k,h)}).next(D=>{w=D;const k=D.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(b,D.batchId,k)})}).then(()=>({batchId:w.batchId,changes:eR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,d){let p=u.Wa[u.currentUser.toKey()];p||(p=new ht(Le)),p=p.insert(h,d),u.Wa[u.currentUser.toKey()]=p}(r,s.batchId,t),await ph(r,s.changes),await _m(r.remoteStore)}catch(s){const o=cv(s,"Failed to persist write");t.reject(o)}}async function PR(n,e){const t=Ae(n);try{const r=await KV(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Ka.get(o);u&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?Ke(u.Ba):s.removedDocuments.size>0&&(Ke(u.Ba),u.Ba=!1))}),await ph(t,r,e)}catch(r){await Zl(r)}}function Pb(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const d=Ae(u);d.onlineState=h;let p=!1;d.queries.forEach((_,v)=>{for(const w of v.ta)w.sa(h)&&(p=!0)}),p&&dv(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VL(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),o=s&&s.key;if(o){let u=new ht(ye.comparator);u=u.insert(o,ln.newNoDocument(o,be.min()));const h=Pe().add(o),d=new mm(be.min(),new Map,new ht(Le),u,h);await PR(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),gv(r)}else await X_(r.localStore,e,!1).then(()=>J_(r,e,t)).catch(Zl)}async function LL(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await QV(t.localStore,e);VR(t,r,null),kR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ph(t,s)}catch(s){await Zl(s)}}async function UL(n,e,t){const r=Ae(n);try{const s=await function(u,h){const d=Ae(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,h).next(v=>(Ke(v!==null),_=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(r.localStore,e);VR(r,e,t),kR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ph(r,s)}catch(s){await Zl(s)}}function kR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function VR(n,e,t){const r=Ae(n);let s=r.Wa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function J_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||LR(n,r)})}function LR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(sv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),gv(n))}function kb(n,e,t){for(const r of t)r instanceof xR?(n.Ua.addReference(r.key,e),zL(n,r)):r instanceof MR?(ce(pv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||LR(n,r.key)):Te()}function zL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ce(pv,"New document in limbo: "+t),n.Qa.add(r),gv(n))}function gv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(rt.fromString(e)),r=n.za.next();n.Ka.set(r,new IL(t)),n.$a=n.$a.insert(t,r),AR(n.remoteStore,new Xs(ri(um(t.path)),r,"TargetPurposeLimboResolution",am.ae))}}async function ph(n,e,t){const r=Ae(n),s=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(p=>{var _;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){s.push(p);const v=rv.Yi(d.targetId,p);o.push(v)}}))}),await Promise.all(u),r.La.p_(s),await async function(d,p){const _=Ae(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(p,w=>re.forEach(w.Hi,b=>_.persistence.referenceDelegate.addReference(v,w.targetId,b)).next(()=>re.forEach(w.Ji,b=>_.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))}catch(v){if(!Jl(v))throw v;ce(iv,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const b=_.Ts.get(w),R=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(R);_.Ts=_.Ts.insert(w,S)}}}(r.localStore,o))}async function jL(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce(pv,"User change. New user:",e.toKey());const r=await TR(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new fe(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ph(t,r.Rs)}}function BL(n,e){const t=Ae(n),r=t.Ka.get(e);if(r&&r.Ba)return Pe().add(r.key);{let s=Pe();const o=t.qa.get(e);if(!o)return s;for(const u of o){const h=t.ka.get(u);s=s.unionWith(h.view.Sa)}return s}}function UR(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.La.p_=SL.bind(null,e.eventManager),e.La.Ja=AL.bind(null,e.eventManager),e}function FL(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UL.bind(null,e),e}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return YV(this.persistence,new qV,e.initialUser,this.serializer)}Xa(e){return new ER(nv.ri,this.serializer)}Za(e){return new JV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class qL extends Vd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ke(this.persistence.referenceDelegate instanceof Pd);const r=this.persistence.referenceDelegate.garbageCollector;return new IV(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new ER(r=>Pd.ri(r,t),this.serializer)}}class ey{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jL.bind(null,this.syncEngine),await TL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bL}()}createDatastore(e){const t=pm(e.databaseInfo.databaseId),r=function(o){return new iL(o)}(e.databaseInfo);return function(o,u,h,d){return new lL(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,h){return new cL(r,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Pb(this.syncEngine,t,0),function(){return Ib.D()?new Ib:new eL}())}createSyncEngine(e,t){return function(s,o,u,h,d,p,_){const v=new DL(s,o,u,h,d,p);return _&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Ae(s);ce(_o,"RemoteStore shutting down."),o.W_.add(5),await mh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class HL{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=N1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{ce(da,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce(da,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function a_(n,e){n.asyncQueue.verifyOperationInProgress(),ce(da,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await TR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Vb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GL(n);ce(da,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ob(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Ob(e.remoteStore,s)),n._onlineComponents=e}async function GL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(da,"Using user provided OfflineComponentProvider");try{await a_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Bl("Error using user provided cache. Falling back to memory cache: "+t),await a_(n,new Vd)}}else ce(da,"Using default OfflineComponentProvider"),await a_(n,new qL(void 0));return n._offlineComponents}async function zR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(da,"Using user provided OnlineComponentProvider"),await Vb(n,n._uninitializedComponentsProvider._online)):(ce(da,"Using default OnlineComponentProvider"),await Vb(n,new ey))),n._onlineComponents}function YL(n){return zR(n).then(e=>e.syncEngine)}async function Ld(n){const e=await zR(n),t=e.eventManager;return t.onListen=OL.bind(null,e.syncEngine),t.onUnlisten=NL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PL.bind(null,e.syncEngine),t}function QL(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,p){const _=new _v({next:w=>{_.su(),u.enqueueAndForget(()=>fv(o,v));const b=w.docs.has(h);!b&&w.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&d&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new mv(um(h.path),_,{includeMetadataChanges:!0,Ta:!0});return hv(o,v)}(await Ld(n),n.asyncQueue,e,t,r)),r.promise}function KL(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,p){const _=new _v({next:w=>{_.su(),u.enqueueAndForget(()=>fv(o,v)),w.fromCache&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new mv(h,_,{includeMetadataChanges:!0,Ta:!0});return hv(o,v)}(await Ld(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n,e,t){if(!t)throw new fe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $L(n,e,t,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ub(n){if(!ye.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zb(n){if(ye.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ym(n);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firestore.googleapis.com",jb=!0;class Bb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FR,this.ssl=jb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:jb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RV)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nk;switch(r.type){case"firstParty":return new ak(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Lb.get(t);r&&(ce("ComponentProvider","Removing Datastore"),Lb.delete(t),r.terminate())}(this),Promise.resolve()}}function XL(n,e,t,r={}){var s;const o=(n=gr(n,vm))._getSettings(),u=`${e}:${t}`;if(o.host!==FR&&o.host!==u&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=on.MOCK_USER;else{h=qA(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new on(p)}n._authCredentials=new rk(new M1(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class na extends _a{constructor(e,t,r){super(e,t,um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ye(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function bn(n,e,...t){if(n=dn(n),BR("collection","path",e),n instanceof vm){const r=rt.fromString(e,...t);return zb(r),new na(n,null,r)}{if(!(n instanceof wn||n instanceof na))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return zb(r),new na(n.firestore,null,r)}}function Em(n,e,...t){if(n=dn(n),arguments.length===1&&(e=N1.newId()),BR("doc","path",e),n instanceof vm){const r=rt.fromString(e,...t);return Ub(r),new wn(n,null,new ye(r))}{if(!(n instanceof wn||n instanceof na))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Ub(r),new wn(n.firestore,n instanceof na?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="AsyncQueue";class qb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bR(this,"async_queue_retry"),this.Su=()=>{const r=s_();r&&ce(Fb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=s_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=s_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ki;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jl(e))throw e;ce(Fb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw es("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=uv.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Hb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class ma extends vm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new qb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qb(e),this._firestoreClient=void 0,await e}}}function WL(n,e){const t=typeof n=="object"?n:My(),r=typeof n=="string"?n:Dd,s=nm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=jA("firestore");o&&XL(s,...o)}return s}function Tm(n){if(n._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZL(n),n._firestoreClient}function ZL(n){var e,t,r;const s=n._freezeSettings(),o=function(h,d,p,_){return new Ek(h,d,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,jR(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new HL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(tn.fromBase64String(e))}catch(t){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ql(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=/^__.*__$/;class eU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new fh(e,this.data,t,this.fieldTransforms)}}function qR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class wv{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ud(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qR(this.Lu)&&JL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pm(e)}ju(e,t,r,s=!1){return new wv({Lu:e,methodName:t,zu:r,path:Jt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bv(n){const e=n._freezeSettings(),t=pm(n._databaseId);return new tU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HR(n,e,t,r,s,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,s);QR("Data must be an object, but it was:",u,r);const h=GR(r,u);let d,p;if(o.merge)d=new Sr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const w=rU(e,v,t);if(!u.contains(w))throw new fe(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);sU(_,w)||_.push(w)}d=new Sr(_),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new eU(new mr(h),d,p)}class Sv extends vv{_toFieldTransform(e){return new Yk(e.path,new Xc)}isEqual(e){return e instanceof Sv}}function nU(n,e,t,r=!1){return Av(t,n.ju(r?4:3,e))}function Av(n,e){if(YR(n=dn(n)))return QR("Unsupported field value:",e,n),GR(n,e);if(n instanceof vv)return function(r,s){if(!qR(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const h of r){let d=Av(h,s.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vt.fromDate(r);return{timestampValue:Nd(s.serializer,o)}}if(r instanceof Vt){const o=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nd(s.serializer,o)}}if(r instanceof Ev)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:fR(s.serializer,r._byteString)};if(r instanceof wn){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ev(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tv)return function(u,h){return{mapValue:{fields:{[B1]:{stringValue:F1},[Od]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Xy(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${ym(r)}`)}(n,e)}function GR(n,e){const t={};return k1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(n,(r,s)=>{const o=Av(s,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function YR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Ev||n instanceof Ql||n instanceof wn||n instanceof vv||n instanceof Tv)}function QR(n,e,t){if(!YR(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=ym(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function rU(n,e,t){if((e=dn(e))instanceof yv)return e._internalPath;if(typeof e=="string")return KR(n,e);throw Ud("Field path arguments must be of type string or ",n,!1,void 0,t)}const iU=new RegExp("[~\\*/\\[\\]]");function KR(n,e,t){if(e.search(iU)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yv(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ud(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new fe(ne.INVALID_ARGUMENT,h+n+d)}function sU(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aU extends $R{data(){return super.data()}}function wm(n,e){return typeof e=="string"?KR(n,e):e instanceof yv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class WR extends Rv{}function ns(n,e,...t){let r=[];e instanceof Rv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof Cv).length,h=o.filter(d=>d instanceof bm).length;if(u>1||u>0&&h>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class bm extends WR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bm(e,t,r)}_apply(e){const t=this._parse(e);return ZR(e._query,t),new _a(e.firestore,e.converter,H_(e._query,t))}_parse(e){const t=bv(e.firestore);return function(o,u,h,d,p,_,v){let w;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Yb(v,_);const R=[];for(const S of v)R.push(Gb(d,o,S));w={arrayValue:{values:R}}}else w=Gb(d,o,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Yb(v,_),w=nU(h,u,v,_==="in"||_==="not-in");return Dt.create(p,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function si(n,e,t){const r=e,s=wm("where",n);return bm._create(s,r,t)}class Cv extends Rv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const h=o.getFlattenedFilters();for(const d of h)ZR(u,d),u=H_(u,d)}(e._query,t),new _a(e.firestore,e.converter,H_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iv extends WR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Iv(e,t)}_apply(e){const t=function(s,o,u){if(s.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(o,u)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new eu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Sm(n,e="asc"){const t=e,r=wm("orderBy",n);return Iv._create(r,t)}function Gb(n,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X1(e)&&t.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ab(n,new ye(r))}if(t instanceof wn)return ab(n,t._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ym(t)}.`)}function Yb(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZR(n,e){const t=function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oU{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return So(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Od].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Tt(u.doubleValue));return new Tv(o)}convertGeoPoint(e){return new Ev(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const t=ua(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Ke(yR(r));const s=new Qc(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return s.isEqual(t)||es(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eC extends $R{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ld extends eC{data(e={}){return super.data(e)}}class tC{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ec(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ld(this._firestore,this._userDataWriter,r.key,r,new Ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const d=new ld(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ec(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new ld(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ec(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:lU(h.type),doc:d,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n){n=gr(n,wn);const e=gr(n.firestore,ma);return QL(Tm(e),n._key).then(t=>nC(e,n,t))}class Ov extends oU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function ui(n){n=gr(n,_a);const e=gr(n.firestore,ma),t=Tm(e),r=new Ov(e);return XR(n._query),KL(t,n._query).then(s=>new tC(e,r,n,s))}function uU(n,e,t){n=gr(n,wn);const r=gr(n.firestore,ma),s=JR(n.converter,e);return xv(r,[HR(bv(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Cr.none())])}function Qb(n){return xv(gr(n.firestore,ma),[new Wy(n._key,Cr.none())])}function Oc(n,e){const t=gr(n.firestore,ma),r=Em(n),s=JR(n.converter,e);return xv(t,[HR(bv(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function cU(n,...e){var t,r,s;n=dn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Hb(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Hb(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let d,p,_;if(n instanceof wn)p=gr(n.firestore,ma),_=um(n._key.path),d={next:v=>{e[u]&&e[u](nC(p,n,v))},error:e[u+1],complete:e[u+2]};else{const v=gr(n,_a);p=gr(v.firestore,ma),_=v._query;const w=new Ov(p);d={next:b=>{e[u]&&e[u](new tC(p,w,v,b))},error:e[u+1],complete:e[u+2]},XR(n._query)}return function(w,b,R,S){const D=new _v(S),k=new mv(b,D,R);return w.asyncQueue.enqueueAndForget(async()=>hv(await Ld(w),k)),()=>{D.su(),w.asyncQueue.enqueueAndForget(async()=>fv(await Ld(w),k))}}(Tm(p),_,h,d)}function xv(n,e){return function(r,s){const o=new Ki;return r.asyncQueue.enqueueAndForget(async()=>kL(await YL(r),s,o)),o.promise}(Tm(n),e)}function nC(n,e,t){const r=t.docs.get(e._key),s=new Ov(n);return new eC(n,s,e._key,r,new Ec(t.hasPendingWrites,t.fromCache),e.converter)}function xc(){return new Sv("serverTimestamp")}(function(e,t=!0){(function(s){Wl=s})(bo),mo(new oa("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ma(new ik(r.getProvider("auth-internal")),new ok(u,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(p.options.projectId,_)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ti($w,Xw,e),ti($w,Xw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebasestorage.googleapis.com",hU="storageBucket",fU=2*60*1e3,dU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends fi{constructor(e,t,r=0){super(o_(e),`Firebase Storage: ${t} (${o_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ci;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ci||(ci={}));function o_(n){return"storage/"+n}function mU(){const n="An unknown error occurred, please check the error payload for server response.";return new di(ci.UNKNOWN,n)}function pU(){return new di(ci.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gU(){return new di(ci.CANCELED,"User canceled the upload/download.")}function _U(n){return new di(ci.INVALID_URL,"Invalid URL '"+n+"'.")}function yU(n){return new di(ci.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Kb(n){return new di(ci.INVALID_ARGUMENT,n)}function iC(){return new di(ci.APP_DELETED,"The Firebase app was deleted.")}function vU(n){return new di(ci.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ar.makeFromUrl(e,t)}catch{return new Ar(e,"")}if(r.path==="")return r;throw yU(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${_}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},S=t===rC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",k=new RegExp(`^https?://${S}/${s}/${D}`,"i"),V=[{regex:h,indices:d,postModify:o},{regex:b,indices:R,postModify:p},{regex:k,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<V.length;H++){const F=V[H],X=F.regex.exec(e);if(X){const x=X[F.indices.bucket];let C=X[F.indices.path];C||(C=""),r=new Ar(x,C),F.postModify(r);break}}if(r==null)throw _U(e);return r}}class EU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(n,e,t){let r=1,s=null,o=null,u=!1,h=0;function d(){return h===2}let p=!1;function _(...D){p||(p=!0,e.apply(null,D))}function v(D){s=setTimeout(()=>{s=null,n(b,d())},D)}function w(){o&&clearTimeout(o)}function b(D,...k){if(p){w();return}if(D){w(),_.call(null,D,...k);return}if(d()||u){w(),_.call(null,D,...k);return}r<64&&(r*=2);let V;h===1?(h=2,V=0):V=(r+Math.random())*1e3,v(V)}let R=!1;function S(D){R||(R=!0,w(),!p&&(s!==null?(D||(h=2),clearTimeout(s),v(0)):D||(h=1)))}return v(0),o=setTimeout(()=>{u=!0,S(!0)},t),S}function wU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(n){return n!==void 0}function $b(n,e,t,r){if(r<e)throw Kb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Kb(`Invalid value for '${n}'. Expected ${t} or less.`)}function SU(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var zd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(zd||(zd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,t,r,s,o,u,h,d,p,_,v,w=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,R)=>{this.resolve_=b,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===zd.NO_ERROR,d=o.getStatus();if(!h||AU(d,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===zd.ABORT;r(!1,new Yf(!1,null,_));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Yf(p,o))})},t=(r,s)=>{const o=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());bU(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=mU();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(s.canceled){const d=this.appDelete_?iC():gU();u(d)}else{const d=pU();u(d)}};this.canceled_?t(!1,new Yf(!1,null,!0)):this.backoffId_=TU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function CU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function IU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function OU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function xU(n,e,t,r,s,o,u=!0){const h=SU(n.urlParams),d=n.url+h,p=Object.assign({},n.headers);return DU(p,e),CU(p,t),IU(p,o),OU(p,r),new RU(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function NU(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this._service=e,t instanceof Ar?this._location=t:this._location=Ar.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jd(e,t)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NU(this._location.path)}get storage(){return this._service}get parent(){const e=MU(this._location.path);if(e===null)return null;const t=new Ar(this._location.bucket,e);return new jd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vU(e)}}function Xb(n,e){const t=e==null?void 0:e[hU];return t==null?null:Ar.makeFromBucketSpec(t,n)}function PU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:qA(s,n.app.options.projectId))}class kU{constructor(e,t,r,s,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=rC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fU,this._maxUploadRetryTime=dU,this._requests=new Set,s!=null?this._bucket=Ar.makeFromBucketSpec(s,this._host):this._bucket=Xb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=Xb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jd(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new EU(iC());{const u=xU(e,this._appId,r,s,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Wb="@firebase/storage",Zb="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="storage";function VU(n=My(),e){n=dn(n);const r=nm(n,sC).getImmediate({identifier:e}),s=jA("storage");return s&&LU(r,...s),r}function LU(n,e,t,r={}){PU(n,e,t,r)}function UU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new kU(t,r,s,e,bo)}function zU(){mo(new oa(sC,UU,"PUBLIC").setMultipleInstances(!0)),ti(Wb,Zb,""),ti(Wb,Zb,"esm2017")}zU();const jU={apiKey:"AIzaSyAXWb60nzD2cDq2lDddymIVURZSwm4dja8",authDomain:"real-time-chat-ffe00.firebaseapp.com",projectId:"real-time-chat-ffe00",storageBucket:"real-time-chat-ffe00.firebasestorage.app",messagingSenderId:"452089355507",appId:void 0,measurementId:"5VNMK1QXZC"},Mv=YA(jU),Nv=ek(Mv),Sn=WL(Mv);VU(Mv);function Wt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var BU=typeof Symbol=="function"&&Symbol.observable||"@@observable",Jb=BU,l_=()=>Math.random().toString(36).substring(7).split("").join("."),FU={INIT:`@@redux/INIT${l_()}`,REPLACE:`@@redux/REPLACE${l_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l_()}`},Bd=FU;function Pv(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function aC(n,e,t){if(typeof n!="function")throw new Error(Wt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Wt(1));return t(aC)(n,e)}let r=n,s=e,o=new Map,u=o,h=0,d=!1;function p(){u===o&&(u=new Map,o.forEach((D,k)=>{u.set(k,D)}))}function _(){if(d)throw new Error(Wt(3));return s}function v(D){if(typeof D!="function")throw new Error(Wt(4));if(d)throw new Error(Wt(5));let k=!0;p();const L=h++;return u.set(L,D),function(){if(k){if(d)throw new Error(Wt(6));k=!1,p(),u.delete(L),o=null}}}function w(D){if(!Pv(D))throw new Error(Wt(7));if(typeof D.type>"u")throw new Error(Wt(8));if(typeof D.type!="string")throw new Error(Wt(17));if(d)throw new Error(Wt(9));try{d=!0,s=r(s,D)}finally{d=!1}return(o=u).forEach(L=>{L()}),D}function b(D){if(typeof D!="function")throw new Error(Wt(10));r=D,w({type:Bd.REPLACE})}function R(){const D=v;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Wt(11));function L(){const H=k;H.next&&H.next(_())}return L(),{unsubscribe:D(L)}},[Jb](){return this}}}return w({type:Bd.INIT}),{dispatch:w,subscribe:v,getState:_,replaceReducer:b,[Jb]:R}}function qU(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Bd.INIT})>"u")throw new Error(Wt(12));if(typeof t(void 0,{type:Bd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function HU(n){const e=Object.keys(n),t={};for(let o=0;o<e.length;o++){const u=e[o];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{qU(t)}catch(o){s=o}return function(u={},h){if(s)throw s;let d=!1;const p={};for(let _=0;_<r.length;_++){const v=r[_],w=t[v],b=u[v],R=w(b,h);if(typeof R>"u")throw h&&h.type,new Error(Wt(14));p[v]=R,d=d||R!==b}return d=d||r.length!==Object.keys(u).length,d?p:u}}function Fd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function GU(...n){return e=>(t,r)=>{const s=e(t,r);let o=()=>{throw new Error(Wt(15))};const u={getState:s.getState,dispatch:(d,...p)=>o(d,...p)},h=n.map(d=>d(u));return o=Fd(...h)(s.dispatch),{...s,dispatch:o}}}function YU(n){return Pv(n)&&"type"in n&&typeof n.type=="string"}var oC=Symbol.for("immer-nothing"),eS=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state");function br(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Kl=Object.getPrototypeOf;function yo(n){return!!n&&!!n[Qn]}function rs(n){var e;return n?lC(n)||Array.isArray(n)||!!n[eS]||!!((e=n.constructor)!=null&&e[eS])||Rm(n)||Cm(n):!1}var QU=Object.prototype.constructor.toString();function lC(n){if(!n||typeof n!="object")return!1;const e=Kl(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===QU}function qd(n,e){Am(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Am(n){const e=n[Qn];return e?e.type_:Array.isArray(n)?1:Rm(n)?2:Cm(n)?3:0}function ty(n,e){return Am(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function uC(n,e,t){const r=Am(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function KU(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Rm(n){return n instanceof Map}function Cm(n){return n instanceof Set}function to(n){return n.copy_||n.base_}function ny(n,e){if(Rm(n))return new Map(n);if(Cm(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=lC(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Qn];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const u=s[o],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[u]})}return Object.create(Kl(n),r)}else{const r=Kl(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function kv(n,e=!1){return Im(n)||yo(n)||!rs(n)||(Am(n)>1&&(n.set=n.add=n.clear=n.delete=$U),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>kv(r,!0))),n}function $U(){br(2)}function Im(n){return Object.isFrozen(n)}var XU={};function vo(n){const e=XU[n];return e||br(0,n),e}var Jc;function cC(){return Jc}function WU(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tS(n,e){e&&(vo("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function ry(n){iy(n),n.drafts_.forEach(ZU),n.drafts_=null}function iy(n){n===Jc&&(Jc=n.parent_)}function nS(n){return Jc=WU(Jc,n)}function ZU(n){const e=n[Qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rS(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Qn].modified_&&(ry(e),br(4)),rs(n)&&(n=Hd(e,n),e.parent_||Gd(e,n)),e.patches_&&vo("Patches").generateReplacementPatches_(t[Qn].base_,n,e.patches_,e.inversePatches_)):n=Hd(e,t,[]),ry(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==oC?n:void 0}function Hd(n,e,t){if(Im(e))return e;const r=e[Qn];if(!r)return qd(e,(s,o)=>iS(n,r,e,s,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Gd(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,u=!1;r.type_===3&&(o=new Set(s),s.clear(),u=!0),qd(o,(h,d)=>iS(n,r,s,h,d,t,u)),Gd(n,s,!1),t&&n.patches_&&vo("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function iS(n,e,t,r,s,o,u){if(yo(s)){const h=o&&e&&e.type_!==3&&!ty(e.assigned_,r)?o.concat(r):void 0,d=Hd(n,s,h);if(uC(t,r,d),yo(d))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(rs(s)&&!Im(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Hd(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&Gd(n,s)}}function Gd(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&kv(e,t)}function JU(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:cC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Vv;t&&(s=[r],o=eh);const{revoke:u,proxy:h}=Proxy.revocable(s,o);return r.draft_=h,r.revoke_=u,h}var Vv={get(n,e){if(e===Qn)return n;const t=to(n);if(!ty(t,e))return e4(n,t,e);const r=t[e];return n.finalized_||!rs(r)?r:r===u_(n.base_,e)?(c_(n),n.copy_[e]=ay(r,n)):r},has(n,e){return e in to(n)},ownKeys(n){return Reflect.ownKeys(to(n))},set(n,e,t){const r=hC(to(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=u_(to(n),e),o=s==null?void 0:s[Qn];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(KU(t,s)&&(t!==void 0||ty(n.base_,e)))return!0;c_(n),sy(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return u_(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,c_(n),sy(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=to(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){br(11)},getPrototypeOf(n){return Kl(n.base_)},setPrototypeOf(){br(12)}},eh={};qd(Vv,(n,e)=>{eh[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});eh.deleteProperty=function(n,e){return eh.set.call(this,n,e,void 0)};eh.set=function(n,e,t){return Vv.set.call(this,n[0],e,t,n[0])};function u_(n,e){const t=n[Qn];return(t?to(t):n)[e]}function e4(n,e,t){var s;const r=hC(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function hC(n,e){if(!(e in n))return;let t=Kl(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Kl(t)}}function sy(n){n.modified_||(n.modified_=!0,n.parent_&&sy(n.parent_))}function c_(n){n.copy_||(n.copy_=ny(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var t4=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const u=this;return function(d=o,...p){return u.produce(d,_=>t.call(this,_,...p))}}typeof t!="function"&&br(6),r!==void 0&&typeof r!="function"&&br(7);let s;if(rs(e)){const o=nS(this),u=ay(e,void 0);let h=!0;try{s=t(u),h=!1}finally{h?ry(o):iy(o)}return tS(o,r),rS(s,o)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===oC&&(s=void 0),this.autoFreeze_&&kv(s,!0),r){const o=[],u=[];vo("Patches").generateReplacementPatches_(e,s,o,u),r(o,u)}return s}else br(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,d=>e(d,...h));let r,s;return[this.produce(e,t,(u,h)=>{r=u,s=h}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){rs(n)||br(8),yo(n)&&(n=n4(n));const e=nS(this),t=ay(n,void 0);return t[Qn].isManual_=!0,iy(e),t}finishDraft(n,e){const t=n&&n[Qn];(!t||!t.isManual_)&&br(9);const{scope_:r}=t;return tS(r,e),rS(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=vo("Patches").applyPatches_;return yo(n)?r(n,e):this.produce(n,s=>r(s,e))}};function ay(n,e){const t=Rm(n)?vo("MapSet").proxyMap_(n,e):Cm(n)?vo("MapSet").proxySet_(n,e):JU(n,e);return(e?e.scope_:cC()).drafts_.push(t),t}function n4(n){return yo(n)||br(10,n),fC(n)}function fC(n){if(!rs(n)||Im(n))return n;const e=n[Qn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=ny(n,e.scope_.immer_.useStrictShallowCopy_)}else t=ny(n,!0);return qd(t,(r,s)=>{uC(t,r,fC(s))}),e&&(e.finalized_=!1),t}var Kn=new t4,dC=Kn.produce;Kn.produceWithPatches.bind(Kn);Kn.setAutoFreeze.bind(Kn);Kn.setUseStrictShallowCopy.bind(Kn);Kn.applyPatches.bind(Kn);Kn.createDraft.bind(Kn);Kn.finishDraft.bind(Kn);function mC(n){return({dispatch:t,getState:r})=>s=>o=>typeof o=="function"?o(t,r,n):s(o)}var r4=mC(),i4=mC,s4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fd:Fd.apply(null,arguments)},a4=n=>n&&typeof n.match=="function";function Mc(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error($i(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>YU(r)&&r.type===n,t}var pC=class Tc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Tc.prototype)}static get[Symbol.species](){return Tc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Tc(...e[0].concat(this)):new Tc(...e.concat(this))}};function sS(n){return rs(n)?dC(n,()=>{}):n}function aS(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function o4(n){return typeof n=="boolean"}var l4=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let u=new pC;return t&&(o4(t)?u.push(r4):u.push(i4(t.extraArgument))),u},u4="RTK_autoBatch",oS=n=>e=>{setTimeout(e,n)},c4=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,o=!1,u=!1;const h=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oS(10):n.type==="callback"?n.queueNotification:oS(n.timeout),p=()=>{u=!1,o&&(o=!1,h.forEach(_=>_()))};return Object.assign({},r,{subscribe(_){const v=()=>s&&_(),w=r.subscribe(v);return h.add(_),()=>{w(),h.delete(_)}},dispatch(_){var v;try{return s=!((v=_==null?void 0:_.meta)!=null&&v[u4]),o=!s,o&&(u||(u=!0,d(p))),r.dispatch(_)}finally{s=!0}}})},h4=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new pC(n);return r&&s.push(c4(typeof r=="object"?r:void 0)),s};function f4(n){const e=l4(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=n||{};let h;if(typeof t=="function")h=t;else if(Pv(t))h=HU(t);else throw new Error($i(1));let d;typeof r=="function"?d=r(e):d=e();let p=Fd;s&&(p=s4({trace:!1,...typeof s=="object"&&s}));const _=GU(...d),v=h4(_);let w=typeof u=="function"?u(v):v();const b=p(...w);return aC(h,o,b)}function gC(n){const e={},t=[];let r;const s={addCase(o,u){const h=typeof o=="string"?o:o.type;if(!h)throw new Error($i(28));if(h in e)throw new Error($i(29));return e[h]=u,s},addMatcher(o,u){return t.push({matcher:o,reducer:u}),s},addDefaultCase(o){return r=o,s}};return n(s),[e,t,r]}function d4(n){return typeof n=="function"}function m4(n,e){let[t,r,s]=gC(e),o;if(d4(n))o=()=>sS(n());else{const h=sS(n);o=()=>h}function u(h=o(),d){let p=[t[d.type],...r.filter(({matcher:_})=>_(d)).map(({reducer:_})=>_)];return p.filter(_=>!!_).length===0&&(p=[s]),p.reduce((_,v)=>{if(v)if(yo(_)){const b=v(_,d);return b===void 0?_:b}else{if(rs(_))return dC(_,w=>v(w,d));{const w=v(_,d);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},h)}return u.getInitialState=o,u}var p4=(n,e)=>a4(n)?n.match(e):n(e);function g4(...n){return e=>n.some(t=>p4(t,e))}var _4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",y4=(n=21)=>{let e="",t=n;for(;t--;)e+=_4[Math.random()*64|0];return e},v4=["name","message","stack","code"],h_=class{constructor(n,e){Dg(this,"_type");this.payload=n,this.meta=e}},lS=class{constructor(n,e){Dg(this,"_type");this.payload=n,this.meta=e}},E4=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of v4)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},ya=(()=>{function n(e,t,r){const s=Mc(e+"/fulfilled",(d,p,_,v)=>({payload:d,meta:{...v||{},arg:_,requestId:p,requestStatus:"fulfilled"}})),o=Mc(e+"/pending",(d,p,_)=>({payload:void 0,meta:{..._||{},arg:p,requestId:d,requestStatus:"pending"}})),u=Mc(e+"/rejected",(d,p,_,v,w)=>({payload:v,error:(r&&r.serializeError||E4)(d||"Rejected"),meta:{...w||{},arg:_,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function h(d){return(p,_,v)=>{const w=r!=null&&r.idGenerator?r.idGenerator(d):y4(),b=new AbortController;let R,S;function D(L){S=L,b.abort()}const k=async function(){var H,F;let L;try{let X=(H=r==null?void 0:r.condition)==null?void 0:H.call(r,d,{getState:_,extra:v});if(w4(X)&&(X=await X),X===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((C,A)=>{R=()=>{A({name:"AbortError",message:S||"Aborted"})},b.signal.addEventListener("abort",R)});p(o(w,d,(F=r==null?void 0:r.getPendingMeta)==null?void 0:F.call(r,{requestId:w,arg:d},{getState:_,extra:v}))),L=await Promise.race([x,Promise.resolve(t(d,{dispatch:p,getState:_,extra:v,requestId:w,signal:b.signal,abort:D,rejectWithValue:(C,A)=>new h_(C,A),fulfillWithValue:(C,A)=>new lS(C,A)})).then(C=>{if(C instanceof h_)throw C;return C instanceof lS?s(C.payload,w,d,C.meta):s(C,w,d)})])}catch(X){L=X instanceof h_?u(null,w,d,X.payload,X.meta):u(X,w,d)}finally{R&&b.signal.removeEventListener("abort",R)}return r&&!r.dispatchConditionRejection&&u.match(L)&&L.meta.condition||p(L),L}();return Object.assign(k,{abort:D,requestId:w,arg:d,unwrap(){return k.then(T4)}})}}return Object.assign(h,{pending:o,rejected:u,fulfilled:s,settled:g4(u,s),typePrefix:e})}return n.withTypes=()=>n,n})();function T4(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function w4(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var b4=Symbol.for("rtk-slice-createasyncthunk");function S4(n,e){return`${n}/${e}`}function A4({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[b4];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error($i(11));const h=(typeof s.reducers=="function"?s.reducers(C4()):s.reducers)||{},d=Object.keys(h),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(V,H){const F=typeof V=="string"?V:V.type;if(!F)throw new Error($i(12));if(F in p.sliceCaseReducersByType)throw new Error($i(13));return p.sliceCaseReducersByType[F]=H,_},addMatcher(V,H){return p.sliceMatchers.push({matcher:V,reducer:H}),_},exposeAction(V,H){return p.actionCreators[V]=H,_},exposeCaseReducer(V,H){return p.sliceCaseReducersByName[V]=H,_}};d.forEach(V=>{const H=h[V],F={reducerName:V,type:S4(o,V),createNotation:typeof s.reducers=="function"};D4(H)?x4(F,H,_,e):I4(F,H,_)});function v(){const[V={},H=[],F=void 0]=typeof s.extraReducers=="function"?gC(s.extraReducers):[s.extraReducers],X={...V,...p.sliceCaseReducersByType};return m4(s.initialState,x=>{for(let C in X)x.addCase(C,X[C]);for(let C of p.sliceMatchers)x.addMatcher(C.matcher,C.reducer);for(let C of H)x.addMatcher(C.matcher,C.reducer);F&&x.addDefaultCase(F)})}const w=V=>V,b=new Map;let R;function S(V,H){return R||(R=v()),R(V,H)}function D(){return R||(R=v()),R.getInitialState()}function k(V,H=!1){function F(x){let C=x[V];return typeof C>"u"&&H&&(C=D()),C}function X(x=w){const C=aS(b,H,()=>new WeakMap);return aS(C,x,()=>{const A={};for(const[M,U]of Object.entries(s.selectors??{}))A[M]=R4(U,x,D,H);return A})}return{reducerPath:V,getSelectors:X,get selectors(){return X(F)},selectSlice:F}}const L={name:o,reducer:S,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:D,...k(u),injectInto(V,{reducerPath:H,...F}={}){const X=H??u;return V.inject({reducerPath:X,reducer:S},F),{...L,...k(X,!0)}}};return L}}function R4(n,e,t,r){function s(o,...u){let h=e(o);return typeof h>"u"&&r&&(h=t()),n(h,...u)}return s.unwrapped=n,s}var Lv=A4();function C4(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function I4({type:n,reducerName:e,createNotation:t},r,s){let o,u;if("reducer"in r){if(t&&!O4(r))throw new Error($i(17));o=r.reducer,u=r.prepare}else o=r;s.addCase(n,o).exposeCaseReducer(e,o).exposeAction(e,u?Mc(n,u):Mc(n))}function D4(n){return n._reducerDefinitionType==="asyncThunk"}function O4(n){return n._reducerDefinitionType==="reducerWithPrepare"}function x4({type:n,reducerName:e},t,r,s){if(!s)throw new Error($i(18));const{payloadCreator:o,fulfilled:u,pending:h,rejected:d,settled:p,options:_}=t,v=s(n,o,_);r.exposeAction(e,v),u&&r.addCase(v.fulfilled,u),h&&r.addCase(v.pending,h),d&&r.addCase(v.rejected,d),p&&r.addMatcher(v.settled,p),r.exposeCaseReducer(e,{fulfilled:u||Qf,pending:h||Qf,rejected:d||Qf,settled:p||Qf})}function Qf(){}function $i(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const M4={user:null,loading:!1,users:[]},Nc=ya("user/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=bn(Sn,"users");return(await ui(t)).docs.map(o=>{const u=o.data();return{userId:o.id,userName:u.userName,userEmail:u.userEmail,userProfilePicture:u.userProfilePicture||"default-profile.png"}})}catch(t){return console.log("Error fetching users: ",t),e("Failed to load users")}}),_C=ya("user/addNewUser",async(n,{rejectWithValue:e})=>{try{const t=Em(Sn,"users",n.userId);return(await Dv(t)).exists()?console.log("✅ User already exists in Firestore"):(console.log("🆕 New user detected. Adding to Firestore..."),await uU(t,{userName:n.userName,userEmail:n.userEmail,userProfilePicture:n.userProfilePicture||"default-profile.png"})),{userId:n.userId,userName:n.userName,userEmail:n.userEmail,userProfilePicture:n.userProfilePicture}}catch(t){return console.error("Error adding new user:",t),e("Failed to add user")}}),yC=Lv({name:"user",initialState:M4,reducers:{setUser:(n,e)=>(n.user=e.payload,n),clearUser:n=>{n.user=null}},extraReducers:n=>{n.addCase(Nc.pending,e=>{e.loading=!0}).addCase(Nc.fulfilled,(e,t)=>{e.loading=!1,e.users=t.payload}).addCase(Nc.rejected,e=>{e.loading=!1}).addCase(_C.fulfilled,(e,t)=>{e.user=t.payload})}}),{setUser:N4,clearUser:vC}=yC.actions,nu=n=>n.user.user,EC=n=>n.user.users;function P4(){const n=ih(),e=is(),[t,r]=$.useState(!1),s=new qi,o=async()=>{try{console.log("🔵 Login button clicked - Signing in with Popup..."),r(!0);const u=await uP(Nv,s);if(u!=null&&u.user){console.log("✅ User signed in:",u.user);const h={userId:u.user.uid,userName:u.user.displayName||"",userEmail:u.user.email||"",userProfilePicture:u.user.photoURL||""};await e(_C(h)),n("/main")}else console.log("❌ No user found in signInWithPopup")}catch(u){console.error("🔴 Google Sign-In Error:",u)}finally{r(!1)}};return J.jsx("div",{className:"login-page",children:J.jsx("button",{className:"login-btn",onClick:o,disabled:t,children:t?"Loading...":"Login"})})}const k4=async n=>{try{console.log("🟡 Sending request to Firebase Function:",n);const t=await(await fetch("https://us-central1-real-time-chat-ffe00.cloudfunctions.net/aiChatHandler",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userMessage:n})})).json();return console.log("🟢 Firebase AI Response:",t),t.aiResponse||"No response from AI"}catch(e){return console.error("🔴 Error fetching AI response:",e),"AI is currently unavailable. Please try again later."}},V4={messages:[],loading:!1,error:null},ud=ya("aiChat/fetchAIChat",async(n,{rejectWithValue:e})=>{try{const t=ns(bn(Sn,"ai-chat"),si("userID","==",n)),r=await ui(t);if(r.empty)return[];const s=r.docs[0],o=bn(s.ref,"messages"),u=ns(o,Sm("timestamp","asc"));return(await ui(u)).docs.map(d=>({messageID:d.id,content:d.data().content,role:d.data().role,timestamp:d.data().timestamp.toDate().toISOString()}))}catch(t){return console.error("Error fetching AI chat:",t),e("Failed to load AI chat")}}),cd=ya("aiChat/sendAIMessage",async({userID:n,content:e},{rejectWithValue:t,dispatch:r})=>{try{const s=ns(bn(Sn,"ai-chat"),si("userID","==",n)),o=await ui(s);let u;o.empty?u=await Oc(bn(Sn,"ai-chat"),{userID:n,createdAt:xc()}):u=o.docs[0].ref;const h=bn(u,"messages"),p={messageID:(await Oc(h,{content:e,role:"user",timestamp:xc()})).id,content:e,role:"user",timestamp:new Date().toISOString()};r(L4(p));const _=await k4(e);return{messageID:(await Oc(h,{content:_,role:"assistant",timestamp:xc()})).id,content:_,role:"assistant",timestamp:new Date().toISOString()}}catch(s){return console.error("Error sending AI message:",s),t("Failed to send message")}}),TC=ya("aiChat/clearAIChat",async(n,{rejectWithValue:e})=>{try{const t=ns(bn(Sn,"ai-chat"),si("userID","==",n)),r=await ui(t);if(!r.empty){const s=r.docs[0],o=bn(s.ref,"messages"),u=await ui(o);for(const h of u.docs)await Qb(h.ref);await Qb(s.ref)}}catch(t){return console.error("Error clearing AI chat:",t),e("Failed to clear AI chat")}}),wC=Lv({name:"aiChat",initialState:V4,reducers:{addAIMessage:(n,e)=>{n.messages.push(e.payload)},clearAIChatAfterLogOut:n=>{n.messages=[]}},extraReducers:n=>{n.addCase(ud.pending,e=>{e.loading=!0}).addCase(ud.fulfilled,(e,t)=>{e.loading=!1,e.messages=t.payload}).addCase(ud.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(cd.pending,e=>{e.loading=!0}).addCase(cd.fulfilled,(e,t)=>{e.loading=!1,e.messages.push(t.payload)}).addCase(cd.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(TC.fulfilled,e=>{e.messages=[]})}}),{addAIMessage:L4,clearAIChatAfterLogOut:U4}=wC.actions,z4=n=>n.aiChat.messages,j4=n=>n.aiChat.loading;function B4({isNavOpen:n,setIsNavOpen:e}){const t=Tn(nu),r=is(),s=ih(),o=(t==null?void 0:t.userName)||"Guest",u=(t==null?void 0:t.userProfilePicture)||"default-profile.png",h=async()=>{try{t&&await r(TC(t.userId)),await q2(Nv),r(vC()),r(U4()),s("/")}catch(d){console.log("Logout Error:",d instanceof Error?d.message:"Unknown error")}};return J.jsxs(J.Fragment,{children:[J.jsx("button",{className:`nav-toggle ${n?"hidden":""}`,onClick:()=>e(!0),children:"☰"}),J.jsxs("nav",{className:`side-nav ${n?"open":"closed"}`,children:[n&&J.jsx("button",{className:"nav-toggle-close",onClick:()=>e(!1),children:"✖"}),J.jsxs("ul",{children:[J.jsxs("li",{children:[J.jsx("img",{src:u,alt:""}),J.jsx("h2",{children:o})]}),J.jsx("li",{children:J.jsx(Sl,{to:"/main/direct-messages",onClick:()=>e(!1),children:"Direct Messages"})}),J.jsx("li",{children:J.jsx(Sl,{to:"/main/group-messages",onClick:()=>e(!1),children:"Group Messages"})}),J.jsx("li",{children:J.jsx(Sl,{to:"/main/ai-chat",onClick:()=>e(!1),children:"AI Chat"})}),J.jsx("li",{children:J.jsx(Sl,{to:"/main/users",onClick:()=>e(!1),children:"Users"})}),J.jsx("li",{children:J.jsx("button",{onClick:h,children:"Logout"})})]})]})]})}function F4(){const[n,e]=$.useState(!1),[t,r]=$.useState(window.innerWidth<=600);return $.useEffect(()=>{const s=()=>{r(window.innerWidth<=600),window.innerWidth>600&&e(!1)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),J.jsxs("div",{className:`main-container ${n?"nav-open":""}`,children:[t&&!n&&J.jsx("button",{className:"nav-toggle",onClick:()=>e(!0),children:"☰"}),J.jsx(B4,{isNavOpen:n,setIsNavOpen:e}),J.jsx("main",{className:"main-content",children:J.jsx(RO,{})})]})}function q4({children:n}){const e=is();return $.useEffect(()=>{console.log("🟡 Global AuthProvider - Checking authentication state...");const t=F2(Nv,r=>{console.log("🔄 Global `onAuthStateChanged` TRIGGERED - User:",r),r?(console.log("✅ Global `onAuthStateChanged` - User detected:",r),e(N4({userId:r.uid,userName:r.displayName||"",userEmail:r.email||"",userProfilePicture:r.photoURL||""}))):(console.log("🔴 Global `onAuthStateChanged` - No user found - Calling clearUser()"),e(vC()))});return()=>t()},[e]),J.jsx(J.Fragment,{children:n})}const bC=6048e5,H4=864e5,uS=Symbol.for("constructDateFrom");function pa(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&uS in n?n[uS](e):n instanceof Date?new n.constructor(e):new Date(e)}function xr(n,e){return pa(e||n,n)}let G4={};function Dm(){return G4}function th(n,e){var h,d,p,_;const t=Dm(),r=(e==null?void 0:e.weekStartsOn)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((_=(p=t.locale)==null?void 0:p.options)==null?void 0:_.weekStartsOn)??0,s=xr(n,e==null?void 0:e.in),o=s.getDay(),u=(o<r?7:0)+o-r;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function Yd(n,e){return th(n,{...e,weekStartsOn:1})}function SC(n,e){const t=xr(n,e==null?void 0:e.in),r=t.getFullYear(),s=pa(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=Yd(s),u=pa(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=Yd(u);return t.getTime()>=o.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function cS(n){const e=xr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Y4(n,...e){const t=pa.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function hS(n,e){const t=xr(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Q4(n,e,t){const[r,s]=Y4(t==null?void 0:t.in,n,e),o=hS(r),u=hS(s),h=+o-cS(o),d=+u-cS(u);return Math.round((h-d)/H4)}function K4(n,e){const t=SC(n,e),r=pa(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Yd(r)}function $4(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function X4(n){return!(!$4(n)&&typeof n!="number"||isNaN(+xr(n)))}function W4(n,e){const t=xr(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Z4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J4=(n,e,t)=>{let r;const s=Z4[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function f_(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const e9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r9={date:f_({formats:e9,defaultWidth:"full"}),time:f_({formats:t9,defaultWidth:"full"}),dateTime:f_({formats:n9,defaultWidth:"full"})},i9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s9=(n,e,t,r)=>i9[n];function dc(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):u;s=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[h]||n.values[u]}const o=n.argumentCallback?n.argumentCallback(e):e;return s[o]}}const a9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},h9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f9=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},d9={ordinalNumber:f9,era:dc({values:a9,defaultWidth:"wide"}),quarter:dc({values:o9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:dc({values:l9,defaultWidth:"wide"}),day:dc({values:u9,defaultWidth:"wide"}),dayPeriod:dc({values:c9,defaultWidth:"wide",formattingValues:h9,defaultFormattingWidth:"wide"})};function mc(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(s);if(!o)return null;const u=o[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(h)?p9(h,v=>v.test(u)):m9(h,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const _=e.slice(u.length);return{value:p,rest:_}}}function m9(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function p9(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function g9(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],o=e.match(n.parsePattern);if(!o)return null;let u=n.valueCallback?n.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(s.length);return{value:u,rest:h}}}const _9=/^(\d+)(th|st|nd|rd)?/i,y9=/\d+/i,v9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E9={any:[/^b/i,/^(a|c)/i]},T9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w9={any:[/1/i,/2/i,/3/i,/4/i]},b9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},S9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},I9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D9={ordinalNumber:g9({matchPattern:_9,parsePattern:y9,valueCallback:n=>parseInt(n,10)}),era:mc({matchPatterns:v9,defaultMatchWidth:"wide",parsePatterns:E9,defaultParseWidth:"any"}),quarter:mc({matchPatterns:T9,defaultMatchWidth:"wide",parsePatterns:w9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:mc({matchPatterns:b9,defaultMatchWidth:"wide",parsePatterns:S9,defaultParseWidth:"any"}),day:mc({matchPatterns:A9,defaultMatchWidth:"wide",parsePatterns:R9,defaultParseWidth:"any"}),dayPeriod:mc({matchPatterns:C9,defaultMatchWidth:"any",parsePatterns:I9,defaultParseWidth:"any"})},O9={code:"en-US",formatDistance:J4,formatLong:r9,formatRelative:s9,localize:d9,match:D9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function x9(n,e){const t=xr(n,e==null?void 0:e.in);return Q4(t,W4(t))+1}function M9(n,e){const t=xr(n,e==null?void 0:e.in),r=+Yd(t)-+K4(t);return Math.round(r/bC)+1}function AC(n,e){var _,v,w,b;const t=xr(n,e==null?void 0:e.in),r=t.getFullYear(),s=Dm(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(_=e==null?void 0:e.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(w=s.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,u=pa((e==null?void 0:e.in)||n,0);u.setFullYear(r+1,0,o),u.setHours(0,0,0,0);const h=th(u,e),d=pa((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const p=th(d,e);return+t>=+h?r+1:+t>=+p?r:r-1}function N9(n,e){var h,d,p,_;const t=Dm(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((_=(p=t.locale)==null?void 0:p.options)==null?void 0:_.firstWeekContainsDate)??1,s=AC(n,e),o=pa((e==null?void 0:e.in)||n,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),th(o,e)}function P9(n,e){const t=xr(n,e==null?void 0:e.in),r=+th(t,e)-+N9(t,e);return Math.round(r/bC)+1}function Xe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const qs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Xe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Xe(t+1,2)},d(n,e){return Xe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Xe(n.getHours()%12||12,e.length)},H(n,e){return Xe(n.getHours(),e.length)},m(n,e){return Xe(n.getMinutes(),e.length)},s(n,e){return Xe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Xe(s,e.length)}},vl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return qs.y(n,e)},Y:function(n,e,t,r){const s=AC(n,r),o=s>0?s:1-s;if(e==="YY"){const u=o%100;return Xe(u,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Xe(o,e.length)},R:function(n,e){const t=SC(n);return Xe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Xe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return qs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=P9(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Xe(s,e.length)},I:function(n,e,t){const r=M9(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Xe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):qs.d(n,e)},D:function(n,e,t){const r=x9(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Xe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Xe(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Xe(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Xe(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=vl.noon:r===0?s=vl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=vl.evening:r>=12?s=vl.afternoon:r>=4?s=vl.morning:s=vl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return qs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):qs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):qs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):qs.s(n,e)},S:function(n,e){return qs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mS(r);case"XXXX":case"XX":return no(r);case"XXXXX":case"XXX":default:return no(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return mS(r);case"xxxx":case"xx":return no(r);case"xxxxx":case"xxx":default:return no(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dS(r,":");case"OOOO":default:return"GMT"+no(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dS(r,":");case"zzzz":default:return"GMT"+no(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Xe(r,e.length)},T:function(n,e,t){return Xe(+n,e.length)}};function dS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),o=r%60;return o===0?t+String(s):t+String(s)+e+Xe(o,2)}function mS(n,e){return n%60===0?(n>0?"-":"+")+Xe(Math.abs(n)/60,2):no(n,e)}function no(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Xe(Math.trunc(r/60),2),o=Xe(r%60,2);return t+s+e+o}const pS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},k9=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return pS(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",pS(r,e)).replace("{{time}}",RC(s,e))},V9={p:RC,P:k9},L9=/^D+$/,U9=/^Y+$/,z9=["D","DD","YY","YYYY"];function j9(n){return L9.test(n)}function B9(n){return U9.test(n)}function F9(n,e,t){const r=q9(n,e,t);if(console.warn(r),z9.includes(n))throw new RangeError(r)}function q9(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const H9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y9=/^'([^]*?)'?$/,Q9=/''/g,K9=/[a-zA-Z]/;function Om(n,e,t){var _,v,w,b;const r=Dm(),s=r.locale??O9,o=r.firstWeekContainsDate??((v=(_=r.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??1,u=r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,h=xr(n,t==null?void 0:t.in);if(!X4(h))throw new RangeError("Invalid time value");let d=e.match(G9).map(R=>{const S=R[0];if(S==="p"||S==="P"){const D=V9[S];return D(R,s.formatLong)}return R}).join("").match(H9).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const S=R[0];if(S==="'")return{isToken:!1,value:$9(R)};if(fS[S])return{isToken:!0,value:R};if(S.match(K9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:R}});s.localize.preprocessor&&(d=s.localize.preprocessor(h,d));const p={firstWeekContainsDate:o,weekStartsOn:u,locale:s};return d.map(R=>{if(!R.isToken)return R.value;const S=R.value;(B9(S)||j9(S))&&F9(S,e,String(n));const D=fS[S[0]];return D(h,S,s.localize,p)}).join("")}function $9(n){const e=n.match(Y9);return e?e[1].replace(Q9,"'"):n}function X9(){const n=is(),e=Tn(nu),t=Tn(z4),r=Tn(j4),[s,o]=$.useState("");$.useEffect(()=>{e&&n(ud(e.userId))},[n,e]);const u=async h=>{if(h.preventDefault(),!(!s.trim()||!e)){try{await n(cd({userID:e.userId,content:s})).unwrap()}catch(d){console.error("Error sending AI message:",d)}o("")}};return J.jsxs("div",{className:"ai-chat-container",children:[J.jsx("header",{className:"ai-chat-header",children:J.jsx("h2",{children:"AI Chat Assistant"})}),J.jsxs("main",{className:"ai-chat-messages",children:[r&&J.jsx("p",{className:"ai-chat-start-message",children:"Loading messages..."}),J.jsx("ul",{className:"ai-chat-list",children:t.length===0?J.jsx("p",{className:"ai-chat-placeholder",children:"Start a conversation with the AI!"}):t.map(h=>J.jsxs("li",{className:`ai-chat-message ${h.role==="user"?"user-message":"ai-message"}`,children:[J.jsx("p",{className:"ai-chat-content",children:h.content}),J.jsx("span",{className:"ai-chat-timestamp",children:Om(new Date(h.timestamp),"dd MMM yy HH:mm")})]},h.messageID))})]}),J.jsxs("form",{className:"ai-chat-input-container",onSubmit:u,children:[J.jsx("input",{type:"text",className:"ai-chat-input",placeholder:"Ask something...",value:s,onChange:h=>o(h.target.value)}),J.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})]})}const W9={messages:[],loading:!1,dmPreviews:[]},hd=ya("messages/fetchDMPreviews",async(n,{getState:e,rejectWithValue:t})=>{try{const r=e().user.user;if(!r)return t("User not logged in");const s=r.userId;console.log("currentuser: ",r);const o=bn(Sn,"chats"),u=ns(o,si("isGroupChat","==",!1),si("members","array-contains",s)),h=await ui(u);console.log("fetched chats the user is part of: ",h);const d=h.docs.map(R=>R.id);if(d.length===0)return[];const p=bn(Sn,"messages"),_=ns(p,si("chatID","in",d),Sm("timestamp","desc")),v=await ui(_);console.log("fetched messages the user is part of: ",v);const w={},b={};return await Promise.all(v.docs.map(async R=>{const S=R.data(),D=S.chatID;if(!w[D]){if(!b[S.senderID]){const k=Em(Sn,"users",S.senderID),L=await Dv(k);b[S.senderID]=L.exists()?{name:L.data().userName,photoURL:L.data().userProfilePicture||"default-profile.png"}:{name:"Unknown User",photoURL:"default-profile.png"}}w[D]={messageID:R.id,chatID:S.chatID,content:S.content,mediaContent:S.mediaContent||"",senderID:S.senderID,senderName:b[S.senderID].name,photoURL:b[S.senderID].photoURL,timestamp:S.timestamp.toDate().toISOString()}}})),Object.values(w)}catch(r){return console.log("Error fetching DM previews: ",r),t("Failed to load DM previews")}}),Pc=ya("messages/fetchMessages",async(n,{rejectWithValue:e})=>{try{const t=bn(Sn,"messages"),r=ns(t,si("chatID","==",n),Sm("timestamp","asc")),s=await ui(r);return await Promise.all(s.docs.map(async u=>{const h=u.data(),d=Em(Sn,"users",h.senderID),p=await Dv(d),_=p.exists()?p.data().userName:"Unknown User";return{messageID:u.id,chatID:h.chatID,content:h.content,mediaContent:h.mediaContent,senderID:h.senderID,senderName:_,timestamp:h.timestamp.toDate().toISOString(),photoURL:h.photoURL||""}}))}catch(t){return console.log("Error fetching messages: ",t),e("Failed to load messages")}}),CC=ya("messages/createMessage",async(n,{rejectWithValue:e})=>{try{const t=bn(Sn,"messages"),r=await Oc(t,{...n,timestamp:xc()});return{...n,messageID:r.id,timestamp:new Date().toISOString()}}catch(t){return console.error("Error sending message:",t),e("Failed to send message")}}),IC=Lv({name:"messages",initialState:W9,reducers:{addMessage:(n,e)=>{n.messages.push(e.payload)},setMessages:(n,e)=>{const t=e.payload;if(t.length===0)return;const r=t[0].chatID;n.messages=[...n.messages.filter(s=>s.chatID!==r),...t.filter(s=>!n.messages.some(o=>o.messageID===s.messageID))]}},extraReducers:n=>{n.addCase(Pc.pending,e=>{e.loading=!0}).addCase(Pc.fulfilled,(e,t)=>{e.loading=!1,e.messages=t.payload}).addCase(Pc.rejected,e=>{e.loading=!1}).addCase(hd.pending,e=>{e.loading=!0}).addCase(hd.fulfilled,(e,t)=>{e.loading=!1,e.dmPreviews=t.payload}).addCase(hd.rejected,e=>{e.loading=!1})}}),{addMessage:Z9,setMessages:J9}=IC.actions,DC=n=>n.messages.messages,ez=n=>n.messages.dmPreviews,OC=n=>n.messages.loading;function gS(){const n=is(),e=Tn(ez),t=ih();$.useEffect(()=>{n(hd())},[n]);const r=s=>{t(`/main/direct-messages/${s}`)};return J.jsx("div",{className:"dm-container",children:e.length===0?J.jsx("p",{children:"No direct messages yet."}):e.map(s=>J.jsxs("div",{className:"dm-message-container",onClick:()=>r(s.chatID),children:[J.jsx("div",{className:"user-img",children:J.jsx("img",{src:s.photoURL,alt:s.senderName})}),J.jsxs("div",{className:"user-info-container",children:[J.jsx("h4",{className:"user-name",children:s.senderName}),s.mediaContent?J.jsx("img",{src:s.mediaContent,alt:"Media Content",className:"chat-media-image"}):J.jsx("p",{className:"user-message",children:s.content})]}),J.jsx("div",{className:"timestamp",children:J.jsx("p",{children:Om(new Date(s.timestamp),"dd MMM yy HH:mm")})})]},s.messageID))})}let tz=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function nz(){const n=is(),e=Tn(OC),t=Tn(DC),r=Tn(nu),[s,o]=$.useState(""),u="MwFHtVv5wFjid2RVEMLp",h=tz(),d=t.filter(_=>_.chatID===u);$.useEffect(()=>{d.length===0&&(console.log("🔄 Fetching past group messages..."),n(Pc(u)))},[n,d.length]);const p=async _=>{if(_.preventDefault(),!s.trim()||!r)return;const v=s.startsWith("http")&&/\.(jpg|jpeg|png|gif)$/i.test(s),w={messageID:h,chatID:u,content:s,senderID:r.userId,senderName:r.userName,photoURL:r.userProfilePicture||"default-profile.png",mediaContent:v?s:"",timestamp:new Date().toISOString()};n(Z9(w));try{await n(CC(w)).unwrap()}catch(b){console.error("Failed to send message:",b)}o("")};return J.jsxs("div",{className:"channel-chat-container",children:[J.jsxs("main",{className:"channel-chat-main",children:[e&&J.jsx("p",{children:"Loading messages..."}),J.jsx("ul",{className:"channel-chat-conversation",children:d.map(_=>J.jsxs("li",{className:"channel-chat-message-container",children:[J.jsxs("div",{className:"channel-chat-message-container-header",children:[J.jsx("h3",{className:"channel-chat-message-username",children:_.senderName}),J.jsx("p",{children:Om(new Date(_.timestamp),"dd MMM yy HH:mm")})]}),!_.mediaContent&&J.jsx("p",{className:"channel-chat-message",children:_.content}),!_.content&&_.mediaContent.startsWith("http")&&J.jsx("img",{src:_.mediaContent,alt:"Media Content",className:"chat-media-image"})]},_.messageID))})]}),J.jsx("form",{className:"channel-chat-input-container",onSubmit:p,children:J.jsxs("div",{className:"input-wrapper",children:[J.jsx("input",{className:"channel-chat-input",type:"text",placeholder:"Type your message here...",value:s,onChange:_=>o(_.target.value)}),J.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})})]})}var xC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_S=ao.createContext&&ao.createContext(xC),rz=["attr","size","title"];function iz(n,e){if(n==null)return{};var t=sz(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function sz(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Qd(){return Qd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qd.apply(this,arguments)}function yS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Kd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yS(Object(t),!0).forEach(function(r){az(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function az(n,e,t){return e=oz(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oz(n){var e=lz(n,"string");return typeof e=="symbol"?e:e+""}function lz(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MC(n){return n&&n.map((e,t)=>ao.createElement(e.tag,Kd({key:t},e.attr),MC(e.child)))}function uz(n){return e=>ao.createElement(cz,Qd({attr:Kd({},n.attr)},e),MC(n.child))}function cz(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=iz(n,rz),h=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),ao.createElement("svg",Qd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Kd(Kd({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&ao.createElement("title",null,o),n.children)};return _S!==void 0?ao.createElement(_S.Consumer,null,t=>e(t)):e(xC)}function hz(n){return uz({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]},{tag:"path",attr:{d:"m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"},child:[]}]})(n)}function fz(){const n=is(),e=Tn(EC),t=Tn(nu),r=ih();$.useEffect(()=>{e.length===0&&n(Nc())},[n,e.length]);const s=async o=>{if(!t)return;const u=bn(Sn,"chats"),h=ns(u,si("isGroupChat","==",!1),si("members","array-contains",t==null?void 0:t.userId)),d=await ui(h);let p=null;if(d.forEach(_=>{_.data().members.includes(o)&&(p=_.id)}),p)console.log("✅ Found existing chat, navigating to chat:",p),r(`/main/direct-messages/${p}`);else{console.log("🚀 No existing chat, creating a new chat...");const _=await Oc(bn(Sn,"chats"),{isGroupChat:!1,members:[t==null?void 0:t.userId,o],createdAt:xc()});console.log("✅ New chat created:",_.id),r(`/main/direct-messages/${_.id}`)}};return J.jsx("ul",{className:"user-list-container",children:e.length===0?J.jsx("p",{children:"No users entered the app yet"}):e.map(o=>J.jsxs("li",{className:"user-card",children:[J.jsx("div",{className:"user-card-img",children:J.jsx("img",{src:o.userProfilePicture,alt:"user-profile-picture"})}),J.jsx("h3",{className:"user-card-name",children:o.userName}),J.jsx("button",{onClick:()=>s(o.userId),children:J.jsx(hz,{})})]},o.userId))})}function dz(){const{userId:n}=fO(),e=is(),t=Tn(DC),r=Tn(OC),s=Tn(nu),o=Tn(EC),[u,h]=$.useState(""),[d,p]=$.useState(null),[_,v]=$.useState(!1);$.useEffect(()=>{o.length||e(Nc())},[e,o.length]),$.useEffect(()=>{n&&(_||(e(Pc(n)),v(!0)))},[e,n,_]),$.useEffect(()=>{var D;if(!n||!s)return;const R=t.filter(k=>k.chatID===n);if(R.length>0){const k=(D=R.find(L=>L.senderID!==s.userId))==null?void 0:D.senderID;if(k){const L=o.find(V=>V.userId.trim()===k.trim());if(L){p({name:L.userName,photoURL:L.userProfilePicture||"default-profile.png"});return}}}const S=o.find(k=>k.userId===n);S&&p({name:S.userName,photoURL:S.userProfilePicture||"default-profile.png"})},[n,s,t,o]),console.log("otherUser is: ",d);const w=async()=>{if(!u.trim()||!n||!s)return;const R=u.startsWith("http")&&/\.(jpg|jpeg|png|gif)$/i.test(u),S={chatID:n,content:u,senderID:s.userId,senderName:s.userName,photoURL:s.userProfilePicture||"default-profile.png",mediaContent:R?u:"",timestamp:new Date().toISOString()};try{await e(CC(S)).unwrap()}catch(D){console.error("Failed to send message:",D)}h("")},b=t.filter(R=>R.chatID===n);return J.jsxs("div",{className:"dm-chat-container",children:[J.jsx("header",{className:"dm-chat-header",children:J.jsxs("div",{className:"header-user-info",children:[J.jsx("img",{src:(d==null?void 0:d.photoURL)||"default-profile.png",alt:(d==null?void 0:d.name)||"User",className:"user-info-img"}),J.jsxs("h2",{children:["Chat with ",(d==null?void 0:d.name)||"User"]})]})}),J.jsxs("main",{className:"dm-chat-main",children:[r&&J.jsx("p",{children:"Loading messages..."}),J.jsx("ul",{className:"dm-chat-conversation",children:t.length===0?J.jsx("p",{children:"No messages yet. Start the conversation!"}):b.map(R=>J.jsxs("li",{className:`dm-chat-message-container ${R.senderID===(s==null?void 0:s.userId)?"self":""}`,children:[J.jsxs("div",{className:"dm-chat-message-container-header",children:[J.jsx("h3",{className:"dm-chat-message-username",children:R.senderID===(s==null?void 0:s.userId)?"You":R.senderName}),J.jsx("p",{className:"dm-chat-timestamp",children:Om(new Date(R.timestamp),"dd MMM yy HH:mm")})]}),!R.mediaContent&&J.jsx("p",{className:"dm-chat-message",children:R.content}),R.mediaContent&&R.mediaContent.startsWith("http")&&J.jsx("img",{src:R.mediaContent,alt:"Media Content",className:"chat-media-image"})]},R.messageID))})]}),J.jsx("form",{className:"dm-chat-input-container",onSubmit:R=>R.preventDefault(),children:J.jsxs("div",{className:"input-wrapper",children:[J.jsx("input",{type:"text",className:"dm-chat-input",placeholder:"Type your message...",value:u,onChange:R=>h(R.target.value)}),J.jsx("button",{className:"send-button",onClick:w,children:"Send"})]})})]})}function mz({children:n}){const e=is(),t=Tn(nu);return $.useEffect(()=>{if(!t)return;console.log("🟡 Listening for real-time messages...");const r=bn(Sn,"messages"),s=ns(r,si("chatID","!=",""),Sm("timestamp","asc")),o=cU(s,u=>{console.log("🔄 New messages detected",u.docs.length);const h=u.docs.map(d=>{var p;return{messageID:d.id,chatID:d.data().chatID,content:d.data().content,mediaContent:d.data().mediaContent||"",senderID:d.data().senderID,senderName:d.data().senderName,photoURL:d.data().photoURL||"",timestamp:((p=d.data().timestamp)==null?void 0:p.toDate().toISOString())||new Date().toISOString()}});console.log("📡 New messages from Firestore:",h),e(J9(h)),console.log("🟢 Messages is updated:",h)});return()=>{console.log("🔴 Unsubscribing from message listener"),o()}},[e,t]),J.jsx(J.Fragment,{children:n})}function pz(){return J.jsx(ZO,{children:J.jsx("div",{className:"App",children:J.jsx(q4,{children:J.jsx(mz,{children:J.jsxs(IO,{children:[J.jsx(Kr,{path:"/",element:J.jsx(TM,{})}),J.jsx(Kr,{path:"login",element:J.jsx(P4,{})}),J.jsxs(Kr,{path:"main",element:J.jsx(F4,{}),children:[J.jsx(Kr,{index:!0,element:J.jsx(gS,{})}),J.jsx(Kr,{path:"direct-messages",element:J.jsx(gS,{})}),J.jsx(Kr,{path:"group-messages",element:J.jsx(nz,{})}),J.jsx(Kr,{path:"ai-chat",element:J.jsx(X9,{})}),J.jsx(Kr,{path:"users",element:J.jsx(fz,{})}),J.jsx(Kr,{path:"direct-messages/:userId",element:J.jsx(dz,{})})]})]})})})})})}const gz=f4({reducer:{user:yC.reducer,messages:IC.reducer,aiChat:wC.reducer}});pD.createRoot(document.getElementById("root")).render(J.jsx(OD,{store:gz,children:J.jsx(pz,{})}));

var ZI=Object.defineProperty;var JI=(n,e,t)=>e in n?ZI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var bg=(n,e,t)=>JI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function eD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sg={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function tD(){if(NT)return ic;NT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:l}}return ic.Fragment=e,ic.jsx=t,ic.jsxs=t,ic}var MT;function nD(){return MT||(MT=1,Sg.exports=tD()),Sg.exports}var ee=nD(),Ag={exports:{}},sc={},Rg={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function rD(){return PT||(PT=1,function(n){function e(ae,he){var de=ae.length;ae.push(he);e:for(;0<de;){var ke=de-1>>>1,z=ae[ke];if(0<s(z,he))ae[ke]=he,ae[de]=z,de=ke;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var he=ae[0],de=ae.pop();if(de!==he){ae[0]=de;e:for(var ke=0,z=ae.length,se=z>>>1;ke<se;){var me=2*(ke+1)-1,ue=ae[me],le=me+1,Ee=ae[le];if(0>s(ue,de))le<z&&0>s(Ee,ue)?(ae[ke]=Ee,ae[le]=de,ke=le):(ae[ke]=ue,ae[me]=de,ke=me);else if(le<z&&0>s(Ee,de))ae[ke]=Ee,ae[le]=de,ke=le;else break e}}return he}function s(ae,he){var de=ae.sortIndex-he.sortIndex;return de!==0?de:ae.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],_=1,v=null,w=3,b=!1,R=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function V(ae){for(var he=t(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=ae)r(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(p)}}function H(ae){if(S=!1,V(ae),!R)if(t(d)!==null)R=!0,xe();else{var he=t(p);he!==null&&Ie(H,he.startTime-ae)}}var q=!1,X=-1,x=5,C=-1;function A(){return!(n.unstable_now()-C<x)}function N(){if(q){var ae=n.unstable_now();C=ae;var he=!0;try{e:{R=!1,S&&(S=!1,k(X),X=-1),b=!0;var de=w;try{t:{for(V(ae),v=t(d);v!==null&&!(v.expirationTime>ae&&A());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,w=v.priorityLevel;var z=ke(v.expirationTime<=ae);if(ae=n.unstable_now(),typeof z=="function"){v.callback=z,V(ae),he=!0;break t}v===t(d)&&r(d),V(ae)}else r(d);v=t(d)}if(v!==null)he=!0;else{var se=t(p);se!==null&&Ie(H,se.startTime-ae),he=!1}}break e}finally{v=null,w=de,b=!1}he=void 0}}finally{he?U():q=!1}}}var U;if(typeof L=="function")U=function(){L(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,M=B.port2;B.port1.onmessage=N,U=function(){M.postMessage(null)}}else U=function(){D(N,0)};function xe(){q||(q=!0,U())}function Ie(ae,he){X=D(function(){ae(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){R||b||(R=!0,xe())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var de=w;w=he;try{return ae()}finally{w=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,he){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=w;w=ae;try{return he()}finally{w=de}},n.unstable_scheduleCallback=function(ae,he,de){var ke=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,ae){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=de+z,ae={id:_++,callback:he,priorityLevel:ae,startTime:de,expirationTime:z,sortIndex:-1},de>ke?(ae.sortIndex=de,e(p,ae),t(d)===null&&ae===t(p)&&(S?(k(X),X=-1):S=!0,Ie(H,de-ke))):(ae.sortIndex=z,e(d,ae),R||b||(R=!0,xe())),ae},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(ae){var he=w;return function(){var de=w;w=he;try{return ae.apply(this,arguments)}finally{w=de}}}}(Cg)),Cg}var kT;function iD(){return kT||(kT=1,Rg.exports=rD()),Rg.exports}var Ig={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function sD(){if(VT)return Ce;VT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,S={};function D(z,se,me){this.props=z,this.context=se,this.refs=S,this.updater=me||b}D.prototype.isReactComponent={},D.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=D.prototype;function L(z,se,me){this.props=z,this.context=se,this.refs=S,this.updater=me||b}var V=L.prototype=new k;V.constructor=L,R(V,D.prototype),V.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function x(z,se,me,ue,le,Ee){return me=Ee.ref,{$$typeof:n,type:z,key:se,ref:me!==void 0?me:null,props:Ee}}function C(z,se){return x(z.type,se,void 0,void 0,void 0,z.props)}function A(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function N(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return se[me]})}var U=/\/+/g;function B(z,se){return typeof z=="object"&&z!==null&&z.key!=null?N(""+z.key):se.toString(36)}function M(){}function xe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(M,M):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ie(z,se,me,ue,le){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(Ee){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case n:case e:Re=!0;break;case _:return Re=z._init,Ie(Re(z._payload),se,me,ue,le)}}if(Re)return le=le(z),Re=ue===""?"."+B(z,0):ue,H(le)?(me="",Re!=null&&(me=Re.replace(U,"$&/")+"/"),Ie(le,se,me,"",function(ft){return ft})):le!=null&&(A(le)&&(le=C(le,me+(le.key==null||z&&z.key===le.key?"":(""+le.key).replace(U,"$&/")+"/")+Re)),se.push(le)),1;Re=0;var wt=ue===""?".":ue+":";if(H(z))for(var Fe=0;Fe<z.length;Fe++)ue=z[Fe],Ee=wt+B(ue,Fe),Re+=Ie(ue,se,me,Ee,le);else if(Fe=w(z),typeof Fe=="function")for(z=Fe.call(z),Fe=0;!(ue=z.next()).done;)ue=ue.value,Ee=wt+B(ue,Fe++),Re+=Ie(ue,se,me,Ee,le);else if(Ee==="object"){if(typeof z.then=="function")return Ie(xe(z),se,me,ue,le);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(z,se,me){if(z==null)return z;var ue=[],le=0;return Ie(z,ue,"","",function(Ee){return se.call(me,Ee,le++)}),ue}function he(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var de=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ke(){}return Ce.Children={map:ae,forEach:function(z,se,me){ae(z,function(){se.apply(this,arguments)},me)},count:function(z){var se=0;return ae(z,function(){se++}),se},toArray:function(z){return ae(z,function(se){return se})||[]},only:function(z){if(!A(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ce.Component=D,Ce.Fragment=t,Ce.Profiler=s,Ce.PureComponent=L,Ce.StrictMode=r,Ce.Suspense=d,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(z){return function(){return z.apply(null,arguments)}},Ce.cloneElement=function(z,se,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=R({},z.props),le=z.key,Ee=void 0;if(se!=null)for(Re in se.ref!==void 0&&(Ee=void 0),se.key!==void 0&&(le=""+se.key),se)!X.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(ue[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)ue.children=me;else if(1<Re){for(var wt=Array(Re),Fe=0;Fe<Re;Fe++)wt[Fe]=arguments[Fe+2];ue.children=wt}return x(z.type,le,void 0,void 0,Ee,ue)},Ce.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ce.createElement=function(z,se,me){var ue,le={},Ee=null;if(se!=null)for(ue in se.key!==void 0&&(Ee=""+se.key),se)X.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(le[ue]=se[ue]);var Re=arguments.length-2;if(Re===1)le.children=me;else if(1<Re){for(var wt=Array(Re),Fe=0;Fe<Re;Fe++)wt[Fe]=arguments[Fe+2];le.children=wt}if(z&&z.defaultProps)for(ue in Re=z.defaultProps,Re)le[ue]===void 0&&(le[ue]=Re[ue]);return x(z,Ee,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(z){return{$$typeof:h,render:z}},Ce.isValidElement=A,Ce.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:he}},Ce.memo=function(z,se){return{$$typeof:p,type:z,compare:se===void 0?null:se}},Ce.startTransition=function(z){var se=q.T,me={};q.T=me;try{var ue=z(),le=q.S;le!==null&&le(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ke,de)}catch(Ee){de(Ee)}finally{q.T=se}},Ce.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ce.use=function(z){return q.H.use(z)},Ce.useActionState=function(z,se,me){return q.H.useActionState(z,se,me)},Ce.useCallback=function(z,se){return q.H.useCallback(z,se)},Ce.useContext=function(z){return q.H.useContext(z)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(z,se){return q.H.useDeferredValue(z,se)},Ce.useEffect=function(z,se){return q.H.useEffect(z,se)},Ce.useId=function(){return q.H.useId()},Ce.useImperativeHandle=function(z,se,me){return q.H.useImperativeHandle(z,se,me)},Ce.useInsertionEffect=function(z,se){return q.H.useInsertionEffect(z,se)},Ce.useLayoutEffect=function(z,se){return q.H.useLayoutEffect(z,se)},Ce.useMemo=function(z,se){return q.H.useMemo(z,se)},Ce.useOptimistic=function(z,se){return q.H.useOptimistic(z,se)},Ce.useReducer=function(z,se,me){return q.H.useReducer(z,se,me)},Ce.useRef=function(z){return q.H.useRef(z)},Ce.useState=function(z){return q.H.useState(z)},Ce.useSyncExternalStore=function(z,se,me){return q.H.useSyncExternalStore(z,se,me)},Ce.useTransition=function(){return q.H.useTransition()},Ce.version="19.0.0",Ce}var LT;function Gd(){return LT||(LT=1,Ig.exports=sD()),Ig.exports}var Dg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function aD(){if(UT)return sn;UT=1;var n=Gd();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,p,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:d,containerInfo:p,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(d,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,_)},sn.flushSync=function(d){var p=u.T,_=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=_,r.d.f()}},sn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},sn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:b}):_==="script"&&r.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},sn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin);r.d.L(d,_,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(d,p){if(typeof d=="string")if(p){var _=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},sn.requestFormReset=function(d){r.d.r(d)},sn.unstable_batchedUpdates=function(d,p){return d(p)},sn.useFormState=function(d,p,_){return u.H.useFormState(d,p,_)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.0.0",sn}var zT;function oD(){if(zT)return Dg.exports;zT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dg.exports=aD(),Dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function lD(){if(BT)return sc;BT=1;var n=iD(),e=Gd(),t=oD();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case h:return"Portal";case _:return"Profiler";case p:return"StrictMode";case S:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Provider";case w:return(i._context.displayName||"Context")+".Consumer";case R:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return a=i.displayName||null,a!==null?a:C(i.type)||"Memo";case L:a=i._payload,i=i._init;try{return C(i(a))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,U,B;function M(i){if(U===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||"",B=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+i+B}var xe=!1;function Ie(i,a){if(!i||xe)return"";xe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var K=Z}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Z){K=Z}i.call(ie.prototype)}}else{try{throw Error()}catch(Z){K=Z}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],I=g[1];if(T&&I){var P=T.split(`
`),F=I.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===F.length)for(c=P.length-1,m=F.length-1;1<=c&&0<=m&&P[c]!==F[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==F[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==F[m]){var J=`
`+P[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=m);break}}}finally{xe=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?M(o):""}function ae(i){switch(i.tag){case 26:case 27:case 5:return M(i.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return i=Ie(i.type,!1),i;case 11:return i=Ie(i.type.render,!1),i;case 1:return i=Ie(i.type,!0),i;default:return""}}function he(i){try{var a="";do a+=ae(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function de(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function ke(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function z(i){if(de(i)!==i)throw Error(r(188))}function se(i){var a=i.alternate;if(!a){if(a=de(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,c=a;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return z(m),i;if(g===c)return z(m),a;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,I=m.child;I;){if(I===o){T=!0,o=m,c=g;break}if(I===c){T=!0,c=m,o=g;break}I=I.sibling}if(!T){for(I=g.child;I;){if(I===o){T=!0,o=g,c=m;break}if(I===c){T=!0,c=g,o=m;break}I=I.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function me(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=me(i),a!==null)return a;i=i.sibling}return null}var ue=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Re=[],wt=-1;function Fe(i){return{current:i}}function ft(i){0>wt||(i.current=Re[wt],Re[wt]=null,wt--)}function $e(i,a){wt++,Re[wt]=i.current,i.current=a}var mn=Fe(null),hi=Fe(null),Yn=Fe(null),es=Fe(null);function ts(i,a){switch($e(Yn,a),$e(hi,i),$e(mn,null),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?oT(a):0;break;default:if(i=i===8?a.parentNode:a,a=i.tagName,i=i.namespaceURI)i=oT(i),a=lT(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ft(mn),$e(mn,a)}function fi(){ft(mn),ft(hi),ft(Yn)}function Jl(i){i.memoizedState!==null&&$e(es,i);var a=mn.current,o=lT(a,i.type);a!==o&&($e(hi,i),$e(mn,o))}function Ao(i){hi.current===i&&(ft(mn),ft(hi)),es.current===i&&(ft(es),Ju._currentValue=Ee)}var Ro=Object.prototype.hasOwnProperty,ma=n.unstable_scheduleCallback,Co=n.unstable_cancelCallback,Am=n.unstable_shouldYield,eu=n.unstable_requestPaint,wn=n.unstable_now,mh=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,Ut=n.unstable_UserBlockingPriority,di=n.unstable_NormalPriority,ph=n.unstable_LowPriority,tu=n.unstable_IdlePriority,Rm=n.log,pa=n.unstable_setDisableYieldValue,ns=null,nn=null;function nu(i){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ns,i,void 0,(i.current.flags&128)===128)}catch{}}function Or(i){if(typeof Rm=="function"&&pa(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ns,i)}catch{}}var pn=Math.clz32?Math.clz32:_h,ru=Math.log,gh=Math.LN2;function _h(i){return i>>>=0,i===0?32:31-(ru(i)/gh|0)|0}var xr=128,rs=4194304;function mr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qn(i,a){var o=i.pendingLanes;if(o===0)return 0;var c=0,m=i.suspendedLanes,g=i.pingedLanes,T=i.warmLanes;i=i.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~m,o!==0?c=mr(o):(g&=I,g!==0?c=mr(g):i||(T=I&~T,T!==0&&(c=mr(T))))):(I=o&~m,I!==0?c=mr(I):g!==0?c=mr(g):i||(T=o&~T,T!==0&&(c=mr(T)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,T=a&-a,m>=T||m===32&&(T&4194176)!==0)?a:c}function is(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Io(i,a){switch(i){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var i=xr;return xr<<=1,!(xr&4194176)&&(xr=128),i}function ss(){var i=rs;return rs<<=1,!(rs&62914560)&&(rs=4194304),i}function Do(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function yt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yh(i,a,o,c,m,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var I=i.entanglements,P=i.expirationTimes,F=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-pn(o),ie=1<<J;I[J]=0,P[J]=-1;var K=F[J];if(K!==null)for(F[J]=null,J=0;J<K.length;J++){var Z=K[J];Z!==null&&(Z.lane&=-536870913)}o&=~ie}c!==0&&as(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~a))}function as(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-pn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194218}function os(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var c=31-pn(o),m=1<<c;m&a|i[c]&a&&(i[c]|=a),o&=~m}}function vh(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function Eh(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:RT(i.type))}function ls(i,a){var o=le.p;try{return le.p=i,a()}finally{le.p=o}}var Nr=Math.random().toString(36).slice(2),zt="__reactFiber$"+Nr,xt="__reactProps$"+Nr,mi="__reactContainer$"+Nr,ga="__reactEvents$"+Nr,Oo="__reactListeners$"+Nr,Mr="__reactHandles$"+Nr,su="__reactResources$"+Nr,us="__reactMarker$"+Nr;function _a(i){delete i[zt],delete i[xt],delete i[ga],delete i[Oo],delete i[Mr]}function pr(i){var a=i[zt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[mi]||o[zt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=hT(i);i!==null;){if(o=i[zt])return o;i=hT(i)}return a}i=o,o=i.parentNode}return null}function pi(i){if(i=i[zt]||i[mi]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function cs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function hs(i){var a=i[su];return a||(a=i[su]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(i){i[us]=!0}var au=new Set,xo={};function xn(i,a){bn(i,a),bn(i+"Capture",a)}function bn(i,a){for(xo[i]=a,i=0;i<a.length;i++)au.add(a[i])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},lu={};function Th(i){return Ro.call(lu,i)?!0:Ro.call(ou,i)?!1:Cm.test(i)?lu[i]=!0:(ou[i]=!0,!1)}function fs(i,a,o){if(Th(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function ds(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Kn(i,a,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+c)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function wh(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Im(i){var a=wh(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ya(i){i._valueTracker||(i._valueTracker=Im(i))}function uu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return i&&(c=wh(i)?i.checked?"true":"false":i.value),i=c,i!==o?(a.setValue(i),!0):!1}function No(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gi=/[\n"\\]/g;function dt(i){return i.replace(gi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ms(i,a,o,c,m,g,T,I){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+gn(a)):i.value!==""+gn(a)&&(i.value=""+gn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?Mo(i,T,gn(a)):o!=null?Mo(i,T,gn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+gn(I):i.removeAttribute("name")}function va(i,a,o,c,m,g,T,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+gn(o):"",a=a!=null?""+gn(a):o,I||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=I?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function Mo(i,a,o){a==="number"&&No(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function He(i,a,o,c){if(i=i.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=a.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+gn(o),a=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Ea(i,a,o){if(a!=null&&(a=""+gn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+gn(o):""}function ps(i,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(r(92));if(ue(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=gn(a),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function $n(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var Dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(i,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,o):typeof o!="number"||o===0||Dm.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function bh(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&o[m]!==c&&cu(i,m,c)}else for(var g in a)a.hasOwnProperty(g)&&cu(i,g,a[g])}function hu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(i){return xm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Xn=null;function Po(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _i=null,yi=null;function vi(i){var a=pi(i);if(a&&(i=a.stateNode)){var o=i[xt]||null;e:switch(i=a.stateNode,a.type){case"input":if(ms(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==i&&c.form===i.form){var m=c[xt]||null;if(!m)throw Error(r(90));ms(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===i.form&&uu(c)}break e;case"textarea":Ea(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&He(i,!!o.multiple,a,!1)}}}var fu=!1;function Sh(i,a,o){if(fu)return i(a,o);fu=!0;try{var c=i(a);return c}finally{if(fu=!1,(_i!==null||yi!==null)&&(gf(),_i&&(a=_i,i=yi,yi=_i=null,vi(a),i)))for(a=0;a<i.length;a++)vi(i[a])}}function Ta(i,a){var o=i.stateNode;if(o===null)return null;var c=o[xt]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Wn=!1;if(Nn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Wn=!1}var kr=null,gs=null,Ei=null;function du(){if(Ei)return Ei;var i,a=gs,o=a.length,c,m="value"in kr?kr.value:kr.textContent,g=m.length;for(i=0;i<o&&a[i]===m[i];i++);var T=o-i;for(c=1;c<=T&&a[o-c]===m[g-c];c++);return Ei=m.slice(i,1<c?1-c:void 0)}function Vr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Lr(){return!0}function mu(){return!1}function Bt(i){function a(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(o=i[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:mu,this.isPropagationStopped=mu,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),a}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=Bt(Qe),ba=N({},Qe,{view:0,detail:0}),Ah=Bt(ba),Vo,Lo,Ur,Sa=N({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ur&&(Ur&&i.type==="mousemove"?(Vo=i.screenX-Ur.screenX,Lo=i.screenY-Ur.screenY):Lo=Vo=0,Ur=i),Vo)},movementY:function(i){return"movementY"in i?i.movementY:Lo}}),Zn=Bt(Sa),Rh=N({},Sa,{dataTransfer:0}),Nm=Bt(Rh),Aa=N({},ba,{relatedTarget:0}),Uo=Bt(Aa),pu=N({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=Bt(pu),Ch=N({},Qe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bo=Bt(Ch),Mm=N({},Qe,{data:0}),gu=Bt(Mm),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Dh[i])?!!a[i]:!1}function Ca(){return _u}var Oh=N({},ba,{key:function(i){if(i.key){var a=Ra[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Vr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ih[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(i){return i.type==="keypress"?Vr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jo=Bt(Oh),xh=N({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=Bt(xh),Ti=N({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),Nh=Bt(Ti),Mh=N({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ph=Bt(Mh),kh=N({},Sa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),qo=Bt(kh),_n=N({},Qe,{newState:0,oldState:0}),Vh=Bt(_n),Lh=[9,13,27,32],zr=Nn&&"CompositionEvent"in window,f=null;Nn&&"documentMode"in document&&(f=document.documentMode);var y=Nn&&"TextEvent"in window&&!f,E=Nn&&(!zr||f&&8<f&&11>=f),O=" ",Y=!1;function W(i,a){switch(i){case"keyup":return Lh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function Nt(i,a){switch(i){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(Y=!0,O);case"textInput":return i=a.data,i===O&&Y?null:i;default:return null}}function Be(i,a){if(ze)return i==="compositionend"||!zr&&W(i,a)?(i=du(),Ei=gs=kr=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!jt[i.type]:a==="textarea"}function wi(i,a,o,c){_i?yi?yi.push(c):yi=[c]:_i=c,a=Tf(a,"onChange"),0<a.length&&(o=new ko("onChange","change",null,o,c),i.push({event:o,listeners:a}))}var Qt=null,Br=null;function vu(i){nT(i,0)}function Uh(i){var a=cs(i);if(uu(a))return i}function xv(i,a){if(i==="change")return a}var Nv=!1;if(Nn){var Pm;if(Nn){var km="oninput"in document;if(!km){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),km=typeof Mv.oninput=="function"}Pm=km}else Pm=!1;Nv=Pm&&(!document.documentMode||9<document.documentMode)}function Pv(){Qt&&(Qt.detachEvent("onpropertychange",kv),Br=Qt=null)}function kv(i){if(i.propertyName==="value"&&Uh(Br)){var a=[];wi(a,Br,i,Po(i)),Sh(vu,a)}}function IC(i,a,o){i==="focusin"?(Pv(),Qt=a,Br=o,Qt.attachEvent("onpropertychange",kv)):i==="focusout"&&Pv()}function DC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uh(Br)}function OC(i,a){if(i==="click")return Uh(a)}function xC(i,a){if(i==="input"||i==="change")return Uh(a)}function NC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Mn=typeof Object.is=="function"?Object.is:NC;function Eu(i,a){if(Mn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ro.call(a,m)||!Mn(i[m],a[m]))return!1}return!0}function Vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lv(i,a){var o=Vv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=a&&c>=a)return{node:o,offset:a-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vv(o)}}function Uv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Uv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function zv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=No(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=No(i.document)}return a}function Vm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function MC(i,a){var o=zv(a);a=i.focusedElem;var c=i.selectionRange;if(o!==a&&a&&a.ownerDocument&&Uv(a.ownerDocument.documentElement,a)){if(c!==null&&Vm(a)){if(i=c.start,o=c.end,o===void 0&&(o=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(o,a.value.length);else if(o=(i=a.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var m=a.textContent.length,g=Math.min(c.start,m);c=c.end===void 0?g:Math.min(c.end,m),!o.extend&&g>c&&(m=c,c=g,g=m),m=Lv(a,g);var T=Lv(a,c);m&&T&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),o.removeAllRanges(),g>c?(o.addRange(i),o.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),o.addRange(i)))}}for(i=[],o=a;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)o=i[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var PC=Nn&&"documentMode"in document&&11>=document.documentMode,Fo=null,Lm=null,Tu=null,Um=!1;function Bv(i,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Um||Fo==null||Fo!==No(c)||(c=Fo,"selectionStart"in c&&Vm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Tu&&Eu(Tu,c)||(Tu=c,c=Tf(Lm,"onSelect"),0<c.length&&(a=new ko("onSelect","select",null,a,o),i.push({event:a,listeners:c}),a.target=Fo)))}function Ia(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Ho={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},zm={},jv={};Nn&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Da(i){if(zm[i])return zm[i];if(!Ho[i])return i;var a=Ho[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in jv)return zm[i]=a[o];return i}var qv=Da("animationend"),Fv=Da("animationiteration"),Hv=Da("animationstart"),kC=Da("transitionrun"),VC=Da("transitionstart"),LC=Da("transitioncancel"),Gv=Da("transitionend"),Yv=new Map,Qv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gr(i,a){Yv.set(i,a),xn(a,[i])}var Jn=[],Go=0,Bm=0;function zh(){for(var i=Go,a=Bm=Go=0;a<i;){var o=Jn[a];Jn[a++]=null;var c=Jn[a];Jn[a++]=null;var m=Jn[a];Jn[a++]=null;var g=Jn[a];if(Jn[a++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&Kv(o,m,g)}}function Bh(i,a,o,c){Jn[Go++]=i,Jn[Go++]=a,Jn[Go++]=o,Jn[Go++]=c,Bm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function jm(i,a,o,c){return Bh(i,a,o,c),jh(i)}function _s(i,a){return Bh(i,null,null,a),jh(i)}function Kv(i,a,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;m&&a!==null&&i.tag===3&&(g=i.stateNode,m=31-pn(o),g=g.hiddenUpdates,i=g[m],i===null?g[m]=[a]:i.push(a),a.lane=o|536870912)}function jh(i){if(50<Yu)throw Yu=0,Qp=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Yo={},$v=new WeakMap;function er(i,a){if(typeof i=="object"&&i!==null){var o=$v.get(i);return o!==void 0?o:(a={value:i,source:a,stack:he(a)},$v.set(i,a),a)}return{value:i,source:a,stack:he(a)}}var Qo=[],Ko=0,qh=null,Fh=0,tr=[],nr=0,Oa=null,bi=1,Si="";function xa(i,a){Qo[Ko++]=Fh,Qo[Ko++]=qh,qh=i,Fh=a}function Xv(i,a,o){tr[nr++]=bi,tr[nr++]=Si,tr[nr++]=Oa,Oa=i;var c=bi;i=Si;var m=32-pn(c)-1;c&=~(1<<m),o+=1;var g=32-pn(a)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,bi=1<<32-pn(a)+m|o<<m|c,Si=g+i}else bi=1<<g|o<<m|c,Si=i}function qm(i){i.return!==null&&(xa(i,1),Xv(i,1,0))}function Fm(i){for(;i===qh;)qh=Qo[--Ko],Qo[Ko]=null,Fh=Qo[--Ko],Qo[Ko]=null;for(;i===Oa;)Oa=tr[--nr],tr[nr]=null,Si=tr[--nr],tr[nr]=null,bi=tr[--nr],tr[nr]=null}var yn=null,Kt=null,Ge=!1,_r=null,jr=!1,Hm=Error(r(519));function Na(i){var a=Error(r(418,""));throw Su(er(a,i)),Hm}function Wv(i){var a=i.stateNode,o=i.type,c=i.memoizedProps;switch(a[zt]=i,a[xt]=c,o){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(o=0;o<Ku.length;o++)Ve(Ku[o],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),va(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ya(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),ps(a,c.value,c.defaultValue,c.children),ya(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||aT(a.textContent,o)?(c.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),c.onScroll!=null&&Ve("scroll",a),c.onScrollEnd!=null&&Ve("scrollend",a),c.onClick!=null&&(a.onclick=wf),a=!0):a=!1,a||Na(i)}function Zv(i){for(yn=i.return;yn;)switch(yn.tag){case 3:case 27:jr=!0;return;case 5:case 13:jr=!1;return;default:yn=yn.return}}function wu(i){if(i!==yn)return!1;if(!Ge)return Zv(i),Ge=!0,!1;var a=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||cg(i.type,i.memoizedProps)),o=!o),o&&(a=!0),a&&Kt&&Na(i),Zv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){Kt=vr(i.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}Kt=null}}else Kt=yn?vr(i.stateNode.nextSibling):null;return!0}function bu(){Kt=yn=null,Ge=!1}function Su(i){_r===null?_r=[i]:_r.push(i)}var Au=Error(r(460)),Jv=Error(r(474)),Gm={then:function(){}};function e0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hh(){}function t0(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(Hh,Hh),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Au?Error(r(483)):i;default:if(typeof a.status=="string")a.then(Hh,Hh);else{if(i=tt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Au?Error(r(483)):i}throw Ru=a,Au}}var Ru=null;function n0(){if(Ru===null)throw Error(r(459));var i=Ru;return Ru=null,i}var $o=null,Cu=0;function Gh(i){var a=Cu;return Cu+=1,$o===null&&($o=[]),t0($o,i,a)}function Iu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Yh(i,a){throw a.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function r0(i){var a=i._init;return a(i._payload)}function i0(i){function a(G,j){if(i){var Q=G.deletions;Q===null?(G.deletions=[j],G.flags|=16):Q.push(j)}}function o(G,j){if(!i)return null;for(;j!==null;)a(G,j),j=j.sibling;return null}function c(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function m(G,j){return G=Ds(G,j),G.index=0,G.sibling=null,G}function g(G,j,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<j?(G.flags|=33554434,j):Q):(G.flags|=33554434,j)):(G.flags|=1048576,j)}function T(G){return i&&G.alternate===null&&(G.flags|=33554434),G}function I(G,j,Q,te){return j===null||j.tag!==6?(j=zp(Q,G.mode,te),j.return=G,j):(j=m(j,Q),j.return=G,j)}function P(G,j,Q,te){var pe=Q.type;return pe===d?J(G,j,Q.props.children,te,Q.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&r0(pe)===j.type)?(j=m(j,Q.props),Iu(j,Q),j.return=G,j):(j=hf(Q.type,Q.key,Q.props,null,G.mode,te),Iu(j,Q),j.return=G,j)}function F(G,j,Q,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=Bp(Q,G.mode,te),j.return=G,j):(j=m(j,Q.children||[]),j.return=G,j)}function J(G,j,Q,te,pe){return j===null||j.tag!==7?(j=qa(Q,G.mode,te,pe),j.return=G,j):(j=m(j,Q),j.return=G,j)}function ie(G,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=zp(""+j,G.mode,Q),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case u:return Q=hf(j.type,j.key,j.props,null,G.mode,Q),Iu(Q,j),Q.return=G,Q;case h:return j=Bp(j,G.mode,Q),j.return=G,j;case L:var te=j._init;return j=te(j._payload),ie(G,j,Q)}if(ue(j)||X(j))return j=qa(j,G.mode,Q,null),j.return=G,j;if(typeof j.then=="function")return ie(G,Gh(j),Q);if(j.$$typeof===b)return ie(G,lf(G,j),Q);Yh(G,j)}return null}function K(G,j,Q,te){var pe=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pe!==null?null:I(G,j,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return Q.key===pe?P(G,j,Q,te):null;case h:return Q.key===pe?F(G,j,Q,te):null;case L:return pe=Q._init,Q=pe(Q._payload),K(G,j,Q,te)}if(ue(Q)||X(Q))return pe!==null?null:J(G,j,Q,te,null);if(typeof Q.then=="function")return K(G,j,Gh(Q),te);if(Q.$$typeof===b)return K(G,j,lf(G,Q),te);Yh(G,Q)}return null}function Z(G,j,Q,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(Q)||null,I(j,G,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case u:return G=G.get(te.key===null?Q:te.key)||null,P(j,G,te,pe);case h:return G=G.get(te.key===null?Q:te.key)||null,F(j,G,te,pe);case L:var Oe=te._init;return te=Oe(te._payload),Z(G,j,Q,te,pe)}if(ue(te)||X(te))return G=G.get(Q)||null,J(j,G,te,pe,null);if(typeof te.then=="function")return Z(G,j,Q,Gh(te),pe);if(te.$$typeof===b)return Z(G,j,Q,lf(j,te),pe);Yh(j,te)}return null}function ge(G,j,Q,te){for(var pe=null,Oe=null,_e=j,ve=j=0,Ht=null;_e!==null&&ve<Q.length;ve++){_e.index>ve?(Ht=_e,_e=null):Ht=_e.sibling;var Ye=K(G,_e,Q[ve],te);if(Ye===null){_e===null&&(_e=Ht);break}i&&_e&&Ye.alternate===null&&a(G,_e),j=g(Ye,j,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye,_e=Ht}if(ve===Q.length)return o(G,_e),Ge&&xa(G,ve),pe;if(_e===null){for(;ve<Q.length;ve++)_e=ie(G,Q[ve],te),_e!==null&&(j=g(_e,j,ve),Oe===null?pe=_e:Oe.sibling=_e,Oe=_e);return Ge&&xa(G,ve),pe}for(_e=c(_e);ve<Q.length;ve++)Ht=Z(_e,G,ve,Q[ve],te),Ht!==null&&(i&&Ht.alternate!==null&&_e.delete(Ht.key===null?ve:Ht.key),j=g(Ht,j,ve),Oe===null?pe=Ht:Oe.sibling=Ht,Oe=Ht);return i&&_e.forEach(function(Vs){return a(G,Vs)}),Ge&&xa(G,ve),pe}function Se(G,j,Q,te){if(Q==null)throw Error(r(151));for(var pe=null,Oe=null,_e=j,ve=j=0,Ht=null,Ye=Q.next();_e!==null&&!Ye.done;ve++,Ye=Q.next()){_e.index>ve?(Ht=_e,_e=null):Ht=_e.sibling;var Vs=K(G,_e,Ye.value,te);if(Vs===null){_e===null&&(_e=Ht);break}i&&_e&&Vs.alternate===null&&a(G,_e),j=g(Vs,j,ve),Oe===null?pe=Vs:Oe.sibling=Vs,Oe=Vs,_e=Ht}if(Ye.done)return o(G,_e),Ge&&xa(G,ve),pe;if(_e===null){for(;!Ye.done;ve++,Ye=Q.next())Ye=ie(G,Ye.value,te),Ye!==null&&(j=g(Ye,j,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return Ge&&xa(G,ve),pe}for(_e=c(_e);!Ye.done;ve++,Ye=Q.next())Ye=Z(_e,G,ve,Ye.value,te),Ye!==null&&(i&&Ye.alternate!==null&&_e.delete(Ye.key===null?ve:Ye.key),j=g(Ye,j,ve),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return i&&_e.forEach(function(WI){return a(G,WI)}),Ge&&xa(G,ve),pe}function gt(G,j,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===d&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:e:{for(var pe=Q.key;j!==null;){if(j.key===pe){if(pe=Q.type,pe===d){if(j.tag===7){o(G,j.sibling),te=m(j,Q.props.children),te.return=G,G=te;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===L&&r0(pe)===j.type){o(G,j.sibling),te=m(j,Q.props),Iu(te,Q),te.return=G,G=te;break e}o(G,j);break}else a(G,j);j=j.sibling}Q.type===d?(te=qa(Q.props.children,G.mode,te,Q.key),te.return=G,G=te):(te=hf(Q.type,Q.key,Q.props,null,G.mode,te),Iu(te,Q),te.return=G,G=te)}return T(G);case h:e:{for(pe=Q.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){o(G,j.sibling),te=m(j,Q.children||[]),te.return=G,G=te;break e}else{o(G,j);break}else a(G,j);j=j.sibling}te=Bp(Q,G.mode,te),te.return=G,G=te}return T(G);case L:return pe=Q._init,Q=pe(Q._payload),gt(G,j,Q,te)}if(ue(Q))return ge(G,j,Q,te);if(X(Q)){if(pe=X(Q),typeof pe!="function")throw Error(r(150));return Q=pe.call(Q),Se(G,j,Q,te)}if(typeof Q.then=="function")return gt(G,j,Gh(Q),te);if(Q.$$typeof===b)return gt(G,j,lf(G,Q),te);Yh(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(o(G,j.sibling),te=m(j,Q),te.return=G,G=te):(o(G,j),te=zp(Q,G.mode,te),te.return=G,G=te),T(G)):o(G,j)}return function(G,j,Q,te){try{Cu=0;var pe=gt(G,j,Q,te);return $o=null,pe}catch(_e){if(_e===Au)throw _e;var Oe=ar(29,_e,null,G.mode);return Oe.lanes=te,Oe.return=G,Oe}finally{}}}var Ma=i0(!0),s0=i0(!1),Xo=Fe(null),Qh=Fe(0);function a0(i,a){i=ki,$e(Qh,i),$e(Xo,a),ki=i|a.baseLanes}function Ym(){$e(Qh,ki),$e(Xo,Xo.current)}function Qm(){ki=Qh.current,ft(Xo),ft(Qh)}var rr=Fe(null),qr=null;function ys(i){var a=i.alternate;$e(Pt,Pt.current&1),$e(rr,i),qr===null&&(a===null||Xo.current!==null||a.memoizedState!==null)&&(qr=i)}function o0(i){if(i.tag===22){if($e(Pt,Pt.current),$e(rr,i),qr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(qr=i)}}else vs()}function vs(){$e(Pt,Pt.current),$e(rr,rr.current)}function Ai(i){ft(rr),qr===i&&(qr=null),ft(Pt)}var Pt=Fe(0);function Kh(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var UC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},zC=n.unstable_scheduleCallback,BC=n.unstable_NormalPriority,kt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new UC,data:new Map,refCount:0}}function Du(i){i.refCount--,i.refCount===0&&zC(BC,function(){i.controller.abort()})}var Ou=null,$m=0,Wo=0,Zo=null;function jC(i,a){if(Ou===null){var o=Ou=[];$m=0,Wo=tg(),Zo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $m++,a.then(l0,l0),a}function l0(){if(--$m===0&&Ou!==null){Zo!==null&&(Zo.status="fulfilled");var i=Ou;Ou=null,Wo=0,Zo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function qC(i,a){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<o.length;m++)(0,o[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var u0=A.S;A.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&jC(i,a),u0!==null&&u0(i,a)};var Pa=Fe(null);function Xm(){var i=Pa.current;return i!==null?i:tt.pooledCache}function $h(i,a){a===null?$e(Pa,Pa.current):$e(Pa,a.pool)}function c0(){var i=Xm();return i===null?null:{parent:kt._currentValue,pool:i}}var Es=0,De=null,We=null,bt=null,Xh=!1,Jo=!1,ka=!1,Wh=0,xu=0,el=null,FC=0;function vt(){throw Error(r(321))}function Wm(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Mn(i[o],a[o]))return!1;return!0}function Zm(i,a,o,c,m,g){return Es=g,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=i===null||i.memoizedState===null?Va:Ts,ka=!1,g=o(c,m),ka=!1,Jo&&(g=f0(a,o,c,m)),h0(i),g}function h0(i){A.H=Fr;var a=We!==null&&We.next!==null;if(Es=0,bt=We=De=null,Xh=!1,xu=0,el=null,a)throw Error(r(300));i===null||qt||(i=i.dependencies,i!==null&&of(i)&&(qt=!0))}function f0(i,a,o,c){De=i;var m=0;do{if(Jo&&(el=null),xu=0,Jo=!1,25<=m)throw Error(r(301));if(m+=1,bt=We=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=La,g=a(o,c)}while(Jo);return g}function HC(){var i=A.H,a=i.useState()[0];return a=typeof a.then=="function"?Nu(a):a,i=i.useState()[0],(We!==null?We.memoizedState:null)!==i&&(De.flags|=1024),a}function Jm(){var i=Wh!==0;return Wh=0,i}function ep(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function tp(i){if(Xh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Xh=!1}Es=0,bt=We=De=null,Jo=!1,xu=Wh=0,el=null}function Sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=i:bt=bt.next=i,bt}function St(){if(We===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=We.next;var a=bt===null?De.memoizedState:bt.next;if(a!==null)bt=a,We=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));We=i,i={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?De.memoizedState=bt=i:bt=bt.next=i}return bt}var Zh;Zh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Nu(i){var a=xu;return xu+=1,el===null&&(el=[]),i=t0(el,i,a),a=De,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?Va:Ts),i}function Jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nu(i);if(i.$$typeof===b)return rn(i)}throw Error(r(438,String(i)))}function np(i){var a=null,o=De.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Zh(),De.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),c=0;c<i;c++)o[c]=H;return a.index++,o}function Ri(i,a){return typeof a=="function"?a(i):a}function ef(i){var a=St();return rp(a,We,i)}function rp(i,a,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}a.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{a=m.next;var I=T=null,P=null,F=a,J=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(je&ie)===ie:(Es&ie)===ie){var K=F.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Wo&&(J=!0);else if((Es&K)===K){F=F.next,K===Wo&&(J=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(I=P=ie,T=g):P=P.next=ie,De.lanes|=K,Os|=K;ie=F.action,ka&&o(g,ie),g=F.hasEagerState?F.eagerState:o(g,ie)}else K={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(I=P=K,T=g):P=P.next=K,De.lanes|=ie,Os|=ie;F=F.next}while(F!==null&&F!==a);if(P===null?T=g:P.next=I,!Mn(g,i.memoizedState)&&(qt=!0,J&&(o=Zo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=P,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ip(i){var a=St(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=a.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);Mn(g,a.memoizedState)||(qt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,c]}function d0(i,a,o){var c=De,m=St(),g=Ge;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=a();var T=!Mn((We||m).memoizedState,o);if(T&&(m.memoizedState=o,qt=!0),m=m.queue,op(g0.bind(null,c,m,i),[i]),m.getSnapshot!==a||T||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,tl(9,p0.bind(null,c,m,o,a),{destroy:void 0},null),tt===null)throw Error(r(349));g||Es&60||m0(c,a,o)}return o}function m0(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=De.updateQueue,a===null?(a=Zh(),De.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function p0(i,a,o,c){a.value=o,a.getSnapshot=c,_0(a)&&y0(i)}function g0(i,a,o){return o(function(){_0(a)&&y0(i)})}function _0(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Mn(i,o)}catch{return!0}}function y0(i){var a=_s(i,2);a!==null&&vn(a,i,2)}function sp(i){var a=Sn();if(typeof i=="function"){var o=i;if(i=o(),ka){Or(!0);try{o()}finally{Or(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},a}function v0(i,a,o,c){return i.baseState=o,rp(i,We,typeof c=="function"?c:Ri)}function GC(i,a,o,c,m){if(rf(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};A.T!==null?o(!0):g.isTransition=!1,c(g),o=a.pending,o===null?(g.next=a.pending=g,E0(a,g)):(g.next=o.next,a.pending=o.next=g)}}function E0(i,a){var o=a.action,c=a.payload,m=i.state;if(a.isTransition){var g=A.T,T={};A.T=T;try{var I=o(m,c),P=A.S;P!==null&&P(T,I),T0(i,a,I)}catch(F){ap(i,a,F)}finally{A.T=g}}else try{g=o(m,c),T0(i,a,g)}catch(F){ap(i,a,F)}}function T0(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){w0(i,a,c)},function(c){return ap(i,a,c)}):w0(i,a,o)}function w0(i,a,o){a.status="fulfilled",a.value=o,b0(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,E0(i,o)))}function ap(i,a,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,b0(a),a=a.next;while(a!==c)}i.action=null}function b0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function S0(i,a){return a}function A0(i,a){if(Ge){var o=tt.formState;if(o!==null){e:{var c=De;if(Ge){if(Kt){t:{for(var m=Kt,g=jr;m.nodeType!==8;){if(!g){m=null;break t}if(m=vr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Kt=vr(m.nextSibling),c=m.data==="F!";break e}}Na(c)}c=!1}c&&(a=o[0])}}return o=Sn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:a},o.queue=c,o=F0.bind(null,De,c),c.dispatch=o,c=sp(!1),g=fp.bind(null,De,!1,c.queue),c=Sn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,o=GC.bind(null,De,m,g,o),m.dispatch=o,c.memoizedState=i,[a,o,!1]}function R0(i){var a=St();return C0(a,We,i)}function C0(i,a,o){a=rp(i,a,S0)[0],i=ef(Ri)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Nu(a):a;var c=St(),m=c.queue,g=m.dispatch;return o!==c.memoizedState&&(De.flags|=2048,tl(9,YC.bind(null,m,o),{destroy:void 0},null)),[a,g,i]}function YC(i,a){i.action=a}function I0(i){var a=St(),o=We;if(o!==null)return C0(a,o,i);St(),a=a.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=i,[a,c,!1]}function tl(i,a,o,c){return i={tag:i,create:a,inst:o,deps:c,next:null},a=De.updateQueue,a===null&&(a=Zh(),De.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,a.lastEffect=i),i}function D0(){return St().memoizedState}function tf(i,a,o,c){var m=Sn();De.flags|=i,m.memoizedState=tl(1|a,o,{destroy:void 0},c===void 0?null:c)}function nf(i,a,o,c){var m=St();c=c===void 0?null:c;var g=m.memoizedState.inst;We!==null&&c!==null&&Wm(c,We.memoizedState.deps)?m.memoizedState=tl(a,o,g,c):(De.flags|=i,m.memoizedState=tl(1|a,o,g,c))}function O0(i,a){tf(8390656,8,i,a)}function op(i,a){nf(2048,8,i,a)}function x0(i,a){return nf(4,2,i,a)}function N0(i,a){return nf(4,4,i,a)}function M0(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function P0(i,a,o){o=o!=null?o.concat([i]):null,nf(4,4,M0.bind(null,a,i),o)}function lp(){}function k0(i,a){var o=St();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Wm(a,c[1])?c[0]:(o.memoizedState=[i,a],i)}function V0(i,a){var o=St();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Wm(a,c[1]))return c[0];if(c=i(),ka){Or(!0);try{i()}finally{Or(!1)}}return o.memoizedState=[c,a],c}function up(i,a,o){return o===void 0||Es&1073741824?i.memoizedState=a:(i.memoizedState=o,i=UE(),De.lanes|=i,Os|=i,o)}function L0(i,a,o,c){return Mn(o,a)?o:Xo.current!==null?(i=up(i,o,c),Mn(i,a)||(qt=!0),i):Es&42?(i=UE(),De.lanes|=i,Os|=i,a):(qt=!0,i.memoizedState=o)}function U0(i,a,o,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var T=A.T,I={};A.T=I,fp(i,!1,a,o);try{var P=m(),F=A.S;if(F!==null&&F(I,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=qC(P,c);Mu(i,a,J,Ln(i))}else Mu(i,a,c,Ln(i))}catch(ie){Mu(i,a,{then:function(){},status:"rejected",reason:ie},Ln())}finally{le.p=g,A.T=T}}function QC(){}function cp(i,a,o,c){if(i.tag!==5)throw Error(r(476));var m=z0(i).queue;U0(i,m,a,Ee,o===null?QC:function(){return B0(i),o(c)})}function z0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Ee},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function B0(i){var a=z0(i).next.queue;Mu(i,a,{},Ln())}function hp(){return rn(Ju)}function j0(){return St().memoizedState}function q0(){return St().memoizedState}function KC(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Ln();i=Ss(o);var c=As(a,i,o);c!==null&&(vn(c,a,o),Vu(c,a,o)),a={cache:Km()},i.payload=a;return}a=a.return}}function $C(i,a,o){var c=Ln();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},rf(i)?H0(a,o):(o=jm(i,a,o,c),o!==null&&(vn(o,i,c),G0(o,a,c)))}function F0(i,a,o){var c=Ln();Mu(i,a,o,c)}function Mu(i,a,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(rf(i))H0(a,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var T=a.lastRenderedState,I=g(T,o);if(m.hasEagerState=!0,m.eagerState=I,Mn(I,T))return Bh(i,a,m,0),tt===null&&zh(),!1}catch{}finally{}if(o=jm(i,a,m,c),o!==null)return vn(o,i,c),G0(o,a,c),!0}return!1}function fp(i,a,o,c){if(c={lane:2,revertLane:tg(),action:c,hasEagerState:!1,eagerState:null,next:null},rf(i)){if(a)throw Error(r(479))}else a=jm(i,o,c,2),a!==null&&vn(a,i,2)}function rf(i){var a=i.alternate;return i===De||a!==null&&a===De}function H0(i,a){Jo=Xh=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function G0(i,a,o){if(o&4194176){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,os(i,o)}}var Fr={readContext:rn,use:Jh,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};Fr.useCacheRefresh=vt,Fr.useMemoCache=vt,Fr.useHostTransitionStatus=vt,Fr.useFormState=vt,Fr.useActionState=vt,Fr.useOptimistic=vt;var Va={readContext:rn,use:Jh,useCallback:function(i,a){return Sn().memoizedState=[i,a===void 0?null:a],i},useContext:rn,useEffect:O0,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,tf(4194308,4,M0.bind(null,a,i),o)},useLayoutEffect:function(i,a){return tf(4194308,4,i,a)},useInsertionEffect:function(i,a){tf(4,2,i,a)},useMemo:function(i,a){var o=Sn();a=a===void 0?null:a;var c=i();if(ka){Or(!0);try{i()}finally{Or(!1)}}return o.memoizedState=[c,a],c},useReducer:function(i,a,o){var c=Sn();if(o!==void 0){var m=o(a);if(ka){Or(!0);try{o(a)}finally{Or(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=$C.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var a=Sn();return i={current:i},a.memoizedState=i},useState:function(i){i=sp(i);var a=i.queue,o=F0.bind(null,De,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:lp,useDeferredValue:function(i,a){var o=Sn();return up(o,i,a)},useTransition:function(){var i=sp(!1);return i=U0.bind(null,De,i.queue,!0,!1),Sn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var c=De,m=Sn();if(Ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),tt===null)throw Error(r(349));je&60||m0(c,a,o)}m.memoizedState=o;var g={value:o,getSnapshot:a};return m.queue=g,O0(g0.bind(null,c,g,i),[i]),c.flags|=2048,tl(9,p0.bind(null,c,g,o,a),{destroy:void 0},null),o},useId:function(){var i=Sn(),a=tt.identifierPrefix;if(Ge){var o=Si,c=bi;o=(c&~(1<<32-pn(c)-1)).toString(32)+o,a=":"+a+"R"+o,o=Wh++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=FC++,a=":"+a+"r"+o.toString(32)+":";return i.memoizedState=a},useCacheRefresh:function(){return Sn().memoizedState=KC.bind(null,De)}};Va.useMemoCache=np,Va.useHostTransitionStatus=hp,Va.useFormState=A0,Va.useActionState=A0,Va.useOptimistic=function(i){var a=Sn();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=fp.bind(null,De,!0,o),o.dispatch=a,[i,a]};var Ts={readContext:rn,use:Jh,useCallback:k0,useContext:rn,useEffect:op,useImperativeHandle:P0,useInsertionEffect:x0,useLayoutEffect:N0,useMemo:V0,useReducer:ef,useRef:D0,useState:function(){return ef(Ri)},useDebugValue:lp,useDeferredValue:function(i,a){var o=St();return L0(o,We.memoizedState,i,a)},useTransition:function(){var i=ef(Ri)[0],a=St().memoizedState;return[typeof i=="boolean"?i:Nu(i),a]},useSyncExternalStore:d0,useId:j0};Ts.useCacheRefresh=q0,Ts.useMemoCache=np,Ts.useHostTransitionStatus=hp,Ts.useFormState=R0,Ts.useActionState=R0,Ts.useOptimistic=function(i,a){var o=St();return v0(o,We,i,a)};var La={readContext:rn,use:Jh,useCallback:k0,useContext:rn,useEffect:op,useImperativeHandle:P0,useInsertionEffect:x0,useLayoutEffect:N0,useMemo:V0,useReducer:ip,useRef:D0,useState:function(){return ip(Ri)},useDebugValue:lp,useDeferredValue:function(i,a){var o=St();return We===null?up(o,i,a):L0(o,We.memoizedState,i,a)},useTransition:function(){var i=ip(Ri)[0],a=St().memoizedState;return[typeof i=="boolean"?i:Nu(i),a]},useSyncExternalStore:d0,useId:j0};La.useCacheRefresh=q0,La.useMemoCache=np,La.useHostTransitionStatus=hp,La.useFormState=I0,La.useActionState=I0,La.useOptimistic=function(i,a){var o=St();return We!==null?v0(o,We,i,a):(o.baseState=i,[i,o.queue.dispatch])};function dp(i,a,o,c){a=i.memoizedState,o=o(c,a),o=o==null?a:N({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var mp={isMounted:function(i){return(i=i._reactInternals)?de(i)===i:!1},enqueueSetState:function(i,a,o){i=i._reactInternals;var c=Ln(),m=Ss(c);m.payload=a,o!=null&&(m.callback=o),a=As(i,m,c),a!==null&&(vn(a,i,c),Vu(a,i,c))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var c=Ln(),m=Ss(c);m.tag=1,m.payload=a,o!=null&&(m.callback=o),a=As(i,m,c),a!==null&&(vn(a,i,c),Vu(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Ln(),c=Ss(o);c.tag=2,a!=null&&(c.callback=a),a=As(i,c,o),a!==null&&(vn(a,i,o),Vu(a,i,o))}};function Y0(i,a,o,c,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):a.prototype&&a.prototype.isPureReactComponent?!Eu(o,c)||!Eu(m,g):!0}function Q0(i,a,o,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==i&&mp.enqueueReplaceState(a,a.state,null)}function Ua(i,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(i=i.defaultProps){o===a&&(o=N({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var sf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function K0(i){sf(i)}function $0(i){console.error(i)}function X0(i){sf(i)}function af(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function W0(i,a,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function pp(i,a,o){return o=Ss(o),o.tag=3,o.payload={element:null},o.callback=function(){af(i,a)},o}function Z0(i){return i=Ss(i),i.tag=3,i}function J0(i,a,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){W0(a,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){W0(a,o,c),typeof m!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function XC(i,a,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&ku(a,o,m,!0),o=rr.current,o!==null){switch(o.tag){case 13:return qr===null?Xp():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Gm?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),Zp(i,c,m)),!1;case 22:return o.flags|=65536,c===Gm?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),Zp(i,c,m)),!1}throw Error(r(435,o.tag))}return Zp(i,c,m),Xp(),!1}if(Ge)return a=rr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==Hm&&(i=Error(r(422),{cause:c}),Su(er(i,o)))):(c!==Hm&&(a=Error(r(423),{cause:c}),Su(er(a,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=er(c,o),m=pp(i.stateNode,c,m),Op(i,m),pt!==4&&(pt=2)),!1;var g=Error(r(520),{cause:c});if(g=er(g,o),Hu===null?Hu=[g]:Hu.push(g),pt!==4&&(pt=2),a===null)return!0;c=er(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=pp(o.stateNode,c,i),Op(o,i),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xs===null||!xs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Z0(m),J0(m,i,o,c),Op(o,m),!1}o=o.return}while(o!==null);return!1}var eE=Error(r(461)),qt=!1;function $t(i,a,o,c){a.child=i===null?s0(a,null,o,c):Ma(a,i.child,o,c)}function tE(i,a,o,c,m){o=o.render;var g=a.ref;if("ref"in c){var T={};for(var I in c)I!=="ref"&&(T[I]=c[I])}else T=c;return Ba(a),c=Zm(i,a,o,T,g,m),I=Jm(),i!==null&&!qt?(ep(i,a,m),Ci(i,a,m)):(Ge&&I&&qm(a),a.flags|=1,$t(i,a,c,m),a.child)}function nE(i,a,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Up(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,rE(i,a,g,c,m)):(i=hf(o.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!Sp(i,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Eu,o(T,c)&&i.ref===a.ref)return Ci(i,a,m)}return a.flags|=1,i=Ds(g,c),i.ref=a.ref,i.return=a,a.child=i}function rE(i,a,o,c,m){if(i!==null){var g=i.memoizedProps;if(Eu(g,c)&&i.ref===a.ref)if(qt=!1,a.pendingProps=c=g,Sp(i,m))i.flags&131072&&(qt=!0);else return a.lanes=i.lanes,Ci(i,a,m)}return gp(i,a,o,c,m)}function iE(i,a,o){var c=a.pendingProps,m=c.children,g=(a.stateNode._pendingVisibility&2)!==0,T=i!==null?i.memoizedState:null;if(Pu(i,a),c.mode==="hidden"||g){if(a.flags&128){if(c=T!==null?T.baseLanes|o:o,i!==null){for(m=a.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return sE(i,a,c,o)}if(o&536870912)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&$h(a,T!==null?T.cachePool:null),T!==null?a0(a,T):Ym(),o0(a);else return a.lanes=a.childLanes=536870912,sE(i,a,T!==null?T.baseLanes|o:o,o)}else T!==null?($h(a,T.cachePool),a0(a,T),vs(),a.memoizedState=null):(i!==null&&$h(a,null),Ym(),vs());return $t(i,a,m,o),a.child}function sE(i,a,o,c){var m=Xm();return m=m===null?null:{parent:kt._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},i!==null&&$h(a,null),Ym(),o0(a),i!==null&&ku(i,a,c,!0),null}function Pu(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=2097664)}}function gp(i,a,o,c,m){return Ba(a),o=Zm(i,a,o,c,void 0,m),c=Jm(),i!==null&&!qt?(ep(i,a,m),Ci(i,a,m)):(Ge&&c&&qm(a),a.flags|=1,$t(i,a,o,m),a.child)}function aE(i,a,o,c,m,g){return Ba(a),a.updateQueue=null,o=f0(a,c,o,m),h0(i),c=Jm(),i!==null&&!qt?(ep(i,a,g),Ci(i,a,g)):(Ge&&c&&qm(a),a.flags|=1,$t(i,a,o,g),a.child)}function oE(i,a,o,c,m){if(Ba(a),a.stateNode===null){var g=Yo,T=o.contextType;typeof T=="object"&&T!==null&&(g=rn(T)),g=new o(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mp,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Ip(a),T=o.contextType,g.context=typeof T=="object"&&T!==null?rn(T):Yo,g.state=a.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(dp(a,o,T,c),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&mp.enqueueReplaceState(g,g.state,null),Uu(a,c,g,m),Lu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var I=a.memoizedProps,P=Ua(o,I);g.props=P;var F=g.context,J=o.contextType;T=Yo,typeof J=="object"&&J!==null&&(T=rn(J));var ie=o.getDerivedStateFromProps;J=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||F!==T)&&Q0(a,g,c,T),bs=!1;var K=a.memoizedState;g.state=K,Uu(a,c,g,m),Lu(),F=a.memoizedState,I||K!==F||bs?(typeof ie=="function"&&(dp(a,o,ie,c),F=a.memoizedState),(P=bs||Y0(a,o,P,c,K,F,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=F),g.props=c,g.state=F,g.context=T,c=P):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Dp(i,a),T=a.memoizedProps,J=Ua(o,T),g.props=J,ie=a.pendingProps,K=g.context,F=o.contextType,P=Yo,typeof F=="object"&&F!==null&&(P=rn(F)),I=o.getDerivedStateFromProps,(F=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ie||K!==P)&&Q0(a,g,c,P),bs=!1,K=a.memoizedState,g.state=K,Uu(a,c,g,m),Lu();var Z=a.memoizedState;T!==ie||K!==Z||bs||i!==null&&i.dependencies!==null&&of(i.dependencies)?(typeof I=="function"&&(dp(a,o,I,c),Z=a.memoizedState),(J=bs||Y0(a,o,J,c,K,Z,P)||i!==null&&i.dependencies!==null&&of(i.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,P)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Z),g.props=c,g.state=Z,g.context=P,c=J):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,Pu(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=Ma(a,i.child,null,m),a.child=Ma(a,null,o,m)):$t(i,a,o,m),a.memoizedState=g.state,i=a.child):i=Ci(i,a,m),i}function lE(i,a,o,c){return bu(),a.flags|=256,$t(i,a,o,c),a.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function yp(i){return{baseLanes:i,cachePool:c0()}}function vp(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=or),i}function uE(i,a,o){var c=a.pendingProps,m=!1,g=(a.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ge){if(m?ys(a):vs(),Ge){var I=Kt,P;if(P=I){e:{for(P=I,I=jr;P.nodeType!==8;){if(!I){I=null;break e}if(P=vr(P.nextSibling),P===null){I=null;break e}}I=P}I!==null?(a.memoizedState={dehydrated:I,treeContext:Oa!==null?{id:bi,overflow:Si}:null,retryLane:536870912},P=ar(18,null,null,0),P.stateNode=I,P.return=a,a.child=P,yn=a,Kt=null,P=!0):P=!1}P||Na(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?a.lanes=16:a.lanes=536870912,null;Ai(a)}return I=c.children,c=c.fallback,m?(vs(),m=a.mode,I=Tp({mode:"hidden",children:I},m),c=qa(c,m,o,null),I.return=a,c.return=a,I.sibling=c,a.child=I,m=a.child,m.memoizedState=yp(o),m.childLanes=vp(i,T,o),a.memoizedState=_p,c):(ys(a),Ep(a,I))}if(P=i.memoizedState,P!==null&&(I=P.dehydrated,I!==null)){if(g)a.flags&256?(ys(a),a.flags&=-257,a=wp(i,a,o)):a.memoizedState!==null?(vs(),a.child=i.child,a.flags|=128,a=null):(vs(),m=c.fallback,I=a.mode,c=Tp({mode:"visible",children:c.children},I),m=qa(m,I,o,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Ma(a,i.child,null,o),c=a.child,c.memoizedState=yp(o),c.childLanes=vp(i,T,o),a.memoizedState=_p,a=m);else if(ys(a),I.data==="$!"){if(T=I.nextSibling&&I.nextSibling.dataset,T)var F=T.dgst;T=F,c=Error(r(419)),c.stack="",c.digest=T,Su({value:c,source:null,stack:null}),a=wp(i,a,o)}else if(qt||ku(i,a,o,!1),T=(o&i.childLanes)!==0,qt||T){if(T=tt,T!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(T.suspendedLanes|o)?0:c,c!==0&&c!==P.retryLane)throw P.retryLane=c,_s(i,c),vn(T,i,c),eE}I.data==="$?"||Xp(),a=wp(i,a,o)}else I.data==="$?"?(a.flags|=128,a.child=i.child,a=hI.bind(null,i),I._reactRetry=a,a=null):(i=P.treeContext,Kt=vr(I.nextSibling),yn=a,Ge=!0,_r=null,jr=!1,i!==null&&(tr[nr++]=bi,tr[nr++]=Si,tr[nr++]=Oa,bi=i.id,Si=i.overflow,Oa=a),a=Ep(a,c.children),a.flags|=4096);return a}return m?(vs(),m=c.fallback,I=a.mode,P=i.child,F=P.sibling,c=Ds(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&31457280,F!==null?m=Ds(F,m):(m=qa(m,I,o,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,I=i.child.memoizedState,I===null?I=yp(o):(P=I.cachePool,P!==null?(F=kt._currentValue,P=P.parent!==F?{parent:F,pool:F}:P):P=c0(),I={baseLanes:I.baseLanes|o,cachePool:P}),m.memoizedState=I,m.childLanes=vp(i,T,o),a.memoizedState=_p,c):(ys(a),o=i.child,i=o.sibling,o=Ds(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=o,a.memoizedState=null,o)}function Ep(i,a){return a=Tp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Tp(i,a){return kE(i,a,0,null)}function wp(i,a,o){return Ma(a,i.child,null,o),i=Ep(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function cE(i,a,o){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Rp(i.return,a,o)}function bp(i,a,o,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function hE(i,a,o){var c=a.pendingProps,m=c.revealOrder,g=c.tail;if($t(i,a,c.children,o),c=Pt.current,c&2)c=c&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cE(i,o,a);else if(i.tag===19)cE(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch($e(Pt,c),m){case"forwards":for(o=a.child,m=null;o!==null;)i=o.alternate,i!==null&&Kh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),bp(a,!1,m,o,g);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Kh(i)===null){a.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}bp(a,!0,o,null,g);break;case"together":bp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ci(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),Os|=a.lanes,!(o&a.childLanes))if(i!==null){if(ku(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=Ds(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Ds(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function Sp(i,a){return i.lanes&a?!0:(i=i.dependencies,!!(i!==null&&of(i)))}function WC(i,a,o){switch(a.tag){case 3:ts(a,a.stateNode.containerInfo),ws(a,kt,i.memoizedState.cache),bu();break;case 27:case 5:Jl(a);break;case 4:ts(a,a.stateNode.containerInfo);break;case 10:ws(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ys(a),a.flags|=128,null):o&a.child.childLanes?uE(i,a,o):(ys(a),i=Ci(i,a,o),i!==null?i.sibling:null);ys(a);break;case 19:var m=(i.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(ku(i,a,o,!1),c=(o&a.childLanes)!==0),m){if(c)return hE(i,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(Pt,Pt.current),c)break;return null;case 22:case 23:return a.lanes=0,iE(i,a,o);case 24:ws(a,kt,i.memoizedState.cache)}return Ci(i,a,o)}function fE(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)qt=!0;else{if(!Sp(i,o)&&!(a.flags&128))return qt=!1,WC(i,a,o);qt=!!(i.flags&131072)}else qt=!1,Ge&&a.flags&1048576&&Xv(a,Fh,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")Up(c)?(i=Ua(c,i),a.tag=1,a=oE(null,a,c,i,o)):(a.tag=0,a=gp(null,a,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===R){a.tag=11,a=tE(null,a,c,i,o);break e}else if(m===k){a.tag=14,a=nE(null,a,c,i,o);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return gp(i,a,a.type,a.pendingProps,o);case 1:return c=a.type,m=Ua(c,a.pendingProps),oE(i,a,c,m,o);case 3:e:{if(ts(a,a.stateNode.containerInfo),i===null)throw Error(r(387));var g=a.pendingProps;m=a.memoizedState,c=m.element,Dp(i,a),Uu(a,g,null,o);var T=a.memoizedState;if(g=T.cache,ws(a,kt,g),g!==m.cache&&Cp(a,[kt],o,!0),Lu(),g=T.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=lE(i,a,g,o);break e}else if(g!==c){c=er(Error(r(424)),a),Su(c),a=lE(i,a,g,o);break e}else for(Kt=vr(a.stateNode.containerInfo.firstChild),yn=a,Ge=!0,_r=null,jr=!0,o=s0(a,null,g,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(bu(),g===c){a=Ci(i,a,o);break e}$t(i,a,g,o)}a=a.child}return a;case 26:return Pu(i,a),i===null?(o=pT(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ge||(o=a.type,i=a.pendingProps,c=bf(Yn.current).createElement(o),c[zt]=a,c[xt]=i,Xt(c,o,i),st(c),a.stateNode=c):a.memoizedState=pT(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Jl(a),i===null&&Ge&&(c=a.stateNode=fT(a.type,a.pendingProps,Yn.current),yn=a,jr=!0,Kt=vr(c.firstChild)),c=a.pendingProps.children,i!==null||Ge?$t(i,a,c,o):a.child=Ma(a,null,c,o),Pu(i,a),a.child;case 5:return i===null&&Ge&&((m=c=Kt)&&(c=CI(c,a.type,a.pendingProps,jr),c!==null?(a.stateNode=c,yn=a,Kt=vr(c.firstChild),jr=!1,m=!0):m=!1),m||Na(a)),Jl(a),m=a.type,g=a.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,cg(m,g)?c=null:T!==null&&cg(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=Zm(i,a,HC,null,null,o),Ju._currentValue=m),Pu(i,a),$t(i,a,c,o),a.child;case 6:return i===null&&Ge&&((i=o=Kt)&&(o=II(o,a.pendingProps,jr),o!==null?(a.stateNode=o,yn=a,Kt=null,i=!0):i=!1),i||Na(a)),null;case 13:return uE(i,a,o);case 4:return ts(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Ma(a,null,c,o):$t(i,a,c,o),a.child;case 11:return tE(i,a,a.type,a.pendingProps,o);case 7:return $t(i,a,a.pendingProps,o),a.child;case 8:return $t(i,a,a.pendingProps.children,o),a.child;case 12:return $t(i,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,ws(a,a.type,c.value),$t(i,a,c.children,o),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Ba(a),m=rn(m),c=c(m),a.flags|=1,$t(i,a,c,o),a.child;case 14:return nE(i,a,a.type,a.pendingProps,o);case 15:return rE(i,a,a.type,a.pendingProps,o);case 19:return hE(i,a,o);case 22:return iE(i,a,o);case 24:return Ba(a),c=rn(kt),i===null?(m=Xm(),m===null&&(m=tt,g=Km(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),a.memoizedState={parent:c,cache:m},Ip(a),ws(a,kt,m)):(i.lanes&o&&(Dp(i,a),Uu(a,null,null,o),Lu()),m=i.memoizedState,g=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ws(a,kt,c)):(c=g.cache,ws(a,kt,c),c!==m.cache&&Cp(a,[kt],o,!0))),$t(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var Ap=Fe(null),za=null,Ii=null;function ws(i,a,o){$e(Ap,a._currentValue),a._currentValue=o}function Di(i){i._currentValue=Ap.current,ft(Ap)}function Rp(i,a,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===o)break;i=i.return}}function Cp(i,a,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=m;for(var P=0;P<a.length;P++)if(I.context===a[P]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Rp(g.return,o,i),c||(T=null);break e}g=I.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Rp(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function ku(i,a,o,c){i=null;for(var m=a,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var I=m.type;Mn(m.pendingProps.value,T.value)||(i!==null?i.push(I):i=[I])}}else if(m===es.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Ju):i=[Ju])}m=m.return}i!==null&&Cp(a,i,o,c),a.flags|=262144}function of(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ba(i){za=i,Ii=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return dE(za,i)}function lf(i,a){return za===null&&Ba(i),dE(i,a)}function dE(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ii===null){if(i===null)throw Error(r(308));Ii=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ii=Ii.next=a;return o}var bs=!1;function Ip(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function As(i,a,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,ot&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=jh(i),Kv(i,null,o),a}return Bh(i,c,a,o),jh(i)}function Vu(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194176)!==0)){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,os(i,o)}}function Op(i,a){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=a:g=g.next=a}else m=g=a;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var xp=!1;function Lu(){if(xp){var i=Zo;if(i!==null)throw i}}function Uu(i,a,o,c){xp=!1;var m=i.updateQueue;bs=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var P=I,F=P.next;P.next=null,T===null?g=F:T.next=F,T=P;var J=i.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==T&&(I===null?J.firstBaseUpdate=F:I.next=F,J.lastBaseUpdate=P))}if(g!==null){var ie=m.baseState;T=0,J=F=P=null,I=g;do{var K=I.lane&-536870913,Z=K!==I.lane;if(Z?(je&K)===K:(c&K)===K){K!==0&&K===Wo&&(xp=!0),J!==null&&(J=J.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ge=i,Se=I;K=a;var gt=o;switch(Se.tag){case 1:if(ge=Se.payload,typeof ge=="function"){ie=ge.call(gt,ie,K);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Se.payload,K=typeof ge=="function"?ge.call(gt,ie,K):ge,K==null)break e;ie=N({},ie,K);break e;case 2:bs=!0}}K=I.callback,K!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(F=J=Z,P=ie):J=J.next=Z,T|=K;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);J===null&&(P=ie),m.baseState=P,m.firstBaseUpdate=F,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),Os|=T,i.lanes=T,i.memoizedState=ie}}function mE(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function pE(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)mE(o[i],a)}function zu(i,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(I){Je(a,a.return,I)}}function Rs(i,a,o){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var T=c.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,m=a;var P=o;try{I()}catch(F){Je(m,P,F)}}}c=c.next}while(c!==g)}}catch(F){Je(a,a.return,F)}}function gE(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{pE(a,o)}catch(c){Je(i,i.return,c)}}}function _E(i,a,o){o.props=Ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,a,c)}}function ja(i,a){try{var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof o=="function"?i.refCleanup=o(m):o.current=m}}catch(g){Je(i,a,g)}}function Pn(i,a){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Je(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,a,m)}else o.current=null}function yE(i){var a=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function vE(i,a,o){try{var c=i.stateNode;wI(c,i.type,o,a),c[xt]=a}catch(m){Je(i,i.return,m)}}function EE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||EE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mp(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(i,a):o.insertBefore(i,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(i,o)):(a=o,a.appendChild(i)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=wf));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Mp(i,a,o),i=i.sibling;i!==null;)Mp(i,a,o),i=i.sibling}function uf(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(uf(i,a,o),i=i.sibling;i!==null;)uf(i,a,o),i=i.sibling}var Oi=!1,mt=!1,Pp=!1,TE=typeof WeakSet=="function"?WeakSet:Set,Ft=null,wE=!1;function ZC(i,a){if(i=i.containerInfo,lg=Df,i=zv(i),Vm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,I=-1,P=-1,F=0,J=0,ie=i,K=null;t:for(;;){for(var Z;ie!==o||m!==0&&ie.nodeType!==3||(I=T+m),ie!==g||c!==0&&ie.nodeType!==3||(P=T+c),ie.nodeType===3&&(T+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)K=ie,ie=Z;for(;;){if(ie===i)break t;if(K===o&&++F===m&&(I=T),K===g&&++J===c&&(P=T),(Z=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=Z}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ug={focusedElem:i,selectionRange:o},Df=!1,Ft=a;Ft!==null;)if(a=Ft,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ft=i;else for(;Ft!==null;){switch(a=Ft,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,o=a,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ge=Ua(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Se){Je(o,o.return,Se)}}break;case 3:if(i&1024){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)dg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Ft=i;break}Ft=a.return}return ge=wE,wE=!1,ge}function bE(i,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ni(i,o),c&4&&zu(5,o);break;case 1:if(Ni(i,o),c&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(I){Je(o,o.return,I)}else{var m=Ua(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Je(o,o.return,I)}}c&64&&gE(o),c&512&&ja(o,o.return);break;case 3:if(Ni(i,o),c&64&&(c=o.updateQueue,c!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{pE(c,i)}catch(I){Je(o,o.return,I)}}break;case 26:Ni(i,o),c&512&&ja(o,o.return);break;case 27:case 5:Ni(i,o),a===null&&c&4&&yE(o),c&512&&ja(o,o.return);break;case 12:Ni(i,o);break;case 13:Ni(i,o),c&4&&RE(i,o);break;case 22:if(m=o.memoizedState!==null||Oi,!m){a=a!==null&&a.memoizedState!==null||mt;var g=Oi,T=mt;Oi=m,(mt=a)&&!T?Cs(i,o,(o.subtreeFlags&8772)!==0):Ni(i,o),Oi=g,mt=T}c&512&&(o.memoizedProps.mode==="manual"?ja(o,o.return):Pn(o,o.return));break;default:Ni(i,o)}}function SE(i){var a=i.alternate;a!==null&&(i.alternate=null,SE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&_a(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var At=null,kn=!1;function xi(i,a,o){for(o=o.child;o!==null;)AE(i,a,o),o=o.sibling}function AE(i,a,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ns,o)}catch{}switch(o.tag){case 26:mt||Pn(o,a),xi(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mt||Pn(o,a);var c=At,m=kn;for(At=o.stateNode,xi(i,a,o),o=o.stateNode,a=o.attributes;a.length;)o.removeAttributeNode(a[0]);_a(o),At=c,kn=m;break;case 5:mt||Pn(o,a);case 6:m=At;var g=kn;if(At=null,xi(i,a,o),At=m,kn=g,At!==null)if(kn)try{i=At,c=o.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(T){Je(o,a,T)}else try{At.removeChild(o.stateNode)}catch(T){Je(o,a,T)}break;case 18:At!==null&&(kn?(a=At,o=o.stateNode,a.nodeType===8?fg(a.parentNode,o):a.nodeType===1&&fg(a,o),rc(a)):fg(At,o.stateNode));break;case 4:c=At,m=kn,At=o.stateNode.containerInfo,kn=!0,xi(i,a,o),At=c,kn=m;break;case 0:case 11:case 14:case 15:mt||Rs(2,o,a),mt||Rs(4,o,a),xi(i,a,o);break;case 1:mt||(Pn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&_E(o,a,c)),xi(i,a,o);break;case 21:xi(i,a,o);break;case 22:mt||Pn(o,a),mt=(c=mt)||o.memoizedState!==null,xi(i,a,o),mt=c;break;default:xi(i,a,o)}}function RE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rc(i)}catch(o){Je(a,a.return,o)}}function JC(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new TE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new TE),a;default:throw Error(r(435,i.tag))}}function kp(i,a){var o=JC(i);a.forEach(function(c){var m=fI.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function ir(i,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,T=a,I=T;e:for(;I!==null;){switch(I.tag){case 27:case 5:At=I.stateNode,kn=!1;break e;case 3:At=I.stateNode.containerInfo,kn=!0;break e;case 4:At=I.stateNode.containerInfo,kn=!0;break e}I=I.return}if(At===null)throw Error(r(160));AE(g,T,m),At=null,kn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)CE(a,i),a=a.sibling}var yr=null;function CE(i,a){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ir(a,i),sr(i),c&4&&(Rs(3,i,i.return),zu(3,i),Rs(5,i,i.return));break;case 1:ir(a,i),sr(i),c&512&&(mt||o===null||Pn(o,o.return)),c&64&&Oi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=yr;if(ir(a,i),sr(i),c&512&&(mt||o===null||Pn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[us]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Xt(g,c,o),g[zt]=i,st(g),c=g;break e;case"link":var T=yT("link","href",m).get(c+(o.href||""));if(T){for(var I=0;I<T.length;I++)if(g=T[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(I,1);break t}}g=m.createElement(c),Xt(g,c,o),m.head.appendChild(g);break;case"meta":if(T=yT("meta","content",m).get(c+(o.content||""))){for(I=0;I<T.length;I++)if(g=T[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(I,1);break t}}g=m.createElement(c),Xt(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[zt]=i,st(g),c=g}i.stateNode=c}else vT(m,i.type,i.stateNode);else i.stateNode=_T(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?vT(m,i.type,i.stateNode):_T(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&vE(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){m=i.stateNode,g=i.memoizedProps;try{for(var P=m.firstChild;P;){var F=P.nextSibling,J=P.nodeName;P[us]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&P.rel.toLowerCase()==="stylesheet"||m.removeChild(P),P=F}for(var ie=i.type,K=m.attributes;K.length;)m.removeAttributeNode(K[0]);Xt(m,ie,g),m[zt]=i,m[xt]=g}catch(ge){Je(i,i.return,ge)}}case 5:if(ir(a,i),sr(i),c&512&&(mt||o===null||Pn(o,o.return)),i.flags&32){m=i.stateNode;try{$n(m,"")}catch(ge){Je(i,i.return,ge)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,vE(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Pp=!0);break;case 6:if(ir(a,i),sr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ge){Je(i,i.return,ge)}}break;case 3:if(Rf=null,m=yr,yr=Sf(a.containerInfo),ir(a,i),yr=m,sr(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{rc(a.containerInfo)}catch(ge){Je(i,i.return,ge)}Pp&&(Pp=!1,IE(i));break;case 4:c=yr,yr=Sf(i.stateNode.containerInfo),ir(a,i),sr(i),yr=c;break;case 12:ir(a,i),sr(i);break;case 13:ir(a,i),sr(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hp=wn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kp(i,c)));break;case 22:if(c&512&&(mt||o===null||Pn(o,o.return)),P=i.memoizedState!==null,F=o!==null&&o.memoizedState!==null,J=Oi,ie=mt,Oi=J||P,mt=ie||F,ir(a,i),mt=ie,Oi=J,sr(i),a=i.stateNode,a._current=i,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=P?a._visibility&-2:a._visibility|1,P&&(a=Oi||mt,o===null||F||a||nl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,a=i;;){if(a.tag===5||a.tag===26||a.tag===27){if(o===null){F=o=a;try{if(m=F.stateNode,P)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=F.stateNode,I=F.memoizedProps.style;var Z=I!=null&&I.hasOwnProperty("display")?I.display:null;T.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ge){Je(F,F.return,ge)}}}else if(a.tag===6){if(o===null){F=a;try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(ge){Je(F,F.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,kp(i,o))));break;case 19:ir(a,i),sr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,kp(i,c)));break;case 21:break;default:ir(a,i),sr(i)}}function sr(i){var a=i.flags;if(a&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(EE(o)){var c=o;break e}o=o.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,g=Np(i);uf(i,g,m);break;case 5:var T=c.stateNode;c.flags&32&&($n(T,""),c.flags&=-33);var I=Np(i);uf(i,I,T);break;case 3:case 4:var P=c.stateNode.containerInfo,F=Np(i);Mp(i,F,P);break;default:throw Error(r(161))}}}catch(J){Je(i,i.return,J)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function IE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;IE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ni(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)bE(i,a.alternate,a),a=a.sibling}function nl(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Rs(4,a,a.return),nl(a);break;case 1:Pn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&_E(a,a.return,o),nl(a);break;case 26:case 27:case 5:Pn(a,a.return),nl(a);break;case 22:Pn(a,a.return),a.memoizedState===null&&nl(a);break;default:nl(a)}i=i.sibling}}function Cs(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,g=a,T=g.flags;switch(g.tag){case 0:case 11:case 15:Cs(m,g,o),zu(4,g);break;case 1:if(Cs(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(F){Je(c,c.return,F)}if(c=g,m=c.updateQueue,m!==null){var I=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)mE(P[m],I)}catch(F){Je(c,c.return,F)}}o&&T&64&&gE(g),ja(g,g.return);break;case 26:case 27:case 5:Cs(m,g,o),o&&c===null&&T&4&&yE(g),ja(g,g.return);break;case 12:Cs(m,g,o);break;case 13:Cs(m,g,o),o&&T&4&&RE(m,g);break;case 22:g.memoizedState===null&&Cs(m,g,o),ja(g,g.return);break;default:Cs(m,g,o)}a=a.sibling}}function Vp(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Du(o))}function Lp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Du(i))}function Is(i,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)DE(i,a,o,c),a=a.sibling}function DE(i,a,o,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Is(i,a,o,c),m&2048&&zu(9,a);break;case 3:Is(i,a,o,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Du(i)));break;case 12:if(m&2048){Is(i,a,o,c),i=a.stateNode;try{var g=a.memoizedProps,T=g.id,I=g.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Je(a,a.return,P)}}else Is(i,a,o,c);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?Is(i,a,o,c):Bu(i,a):g._visibility&4?Is(i,a,o,c):(g._visibility|=4,rl(i,a,o,c,(a.subtreeFlags&10256)!==0)),m&2048&&Vp(a.alternate,a);break;case 24:Is(i,a,o,c),m&2048&&Lp(a.alternate,a);break;default:Is(i,a,o,c)}}function rl(i,a,o,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,T=a,I=o,P=c,F=T.flags;switch(T.tag){case 0:case 11:case 15:rl(g,T,I,P,m),zu(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&4?rl(g,T,I,P,m):Bu(g,T):(J._visibility|=4,rl(g,T,I,P,m)),m&&F&2048&&Vp(T.alternate,T);break;case 24:rl(g,T,I,P,m),m&&F&2048&&Lp(T.alternate,T);break;default:rl(g,T,I,P,m)}a=a.sibling}}function Bu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,c=a,m=c.flags;switch(c.tag){case 22:Bu(o,c),m&2048&&Vp(c.alternate,c);break;case 24:Bu(o,c),m&2048&&Lp(c.alternate,c);break;default:Bu(o,c)}a=a.sibling}}var ju=8192;function il(i){if(i.subtreeFlags&ju)for(i=i.child;i!==null;)OE(i),i=i.sibling}function OE(i){switch(i.tag){case 26:il(i),i.flags&ju&&i.memoizedState!==null&&jI(yr,i.memoizedState,i.memoizedProps);break;case 5:il(i);break;case 3:case 4:var a=yr;yr=Sf(i.stateNode.containerInfo),il(i),yr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ju,ju=16777216,il(i),ju=a):il(i));break;default:il(i)}}function xE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function qu(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Ft=c,ME(c,i)}xE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)NE(i),i=i.sibling}function NE(i){switch(i.tag){case 0:case 11:case 15:qu(i),i.flags&2048&&Rs(9,i,i.return);break;case 3:qu(i);break;case 12:qu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&4&&(i.return===null||i.return.tag!==13)?(a._visibility&=-5,cf(i)):qu(i);break;default:qu(i)}}function cf(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Ft=c,ME(c,i)}xE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Rs(8,a,a.return),cf(a);break;case 22:o=a.stateNode,o._visibility&4&&(o._visibility&=-5,cf(a));break;default:cf(a)}i=i.sibling}}function ME(i,a){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Rs(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Du(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ft=c;else e:for(o=i;Ft!==null;){c=Ft;var m=c.sibling,g=c.return;if(SE(c),c===o){Ft=null;break e}if(m!==null){m.return=g,Ft=m;break e}Ft=g}}}function eI(i,a,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(i,a,o,c){return new eI(i,a,o,c)}function Up(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ds(i,a){var o=i.alternate;return o===null?(o=ar(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function PE(i,a){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function hf(i,a,o,c,m,g){var T=0;if(c=i,typeof i=="function")Up(i)&&(T=1);else if(typeof i=="string")T=zI(i,o,mn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return qa(o.children,m,g,a);case p:T=8,m|=24;break;case _:return i=ar(12,o,a,m|2),i.elementType=_,i.lanes=g,i;case S:return i=ar(13,o,a,m),i.elementType=S,i.lanes=g,i;case D:return i=ar(19,o,a,m),i.elementType=D,i.lanes=g,i;case V:return kE(o,m,g,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case b:T=10;break e;case w:T=9;break e;case R:T=11;break e;case k:T=14;break e;case L:T=16,c=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=ar(T,o,a,m),a.elementType=i,a.type=c,a.lanes=g,a}function qa(i,a,o,c){return i=ar(7,i,c,a),i.lanes=o,i}function kE(i,a,o,c){i=ar(22,i,c,a),i.elementType=V,i.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var T=_s(g,2);T!==null&&(m._pendingVisibility|=2,vn(T,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(r(456));if(m._pendingVisibility&2){var T=_s(g,2);T!==null&&(m._pendingVisibility&=-3,vn(T,g,2))}}};return i.stateNode=m,i}function zp(i,a,o){return i=ar(6,i,null,a),i.lanes=o,i}function Bp(i,a,o){return a=ar(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function Mi(i){i.flags|=4}function VE(i,a){if(a.type!=="stylesheet"||a.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!ET(a)){if(a=rr.current,a!==null&&((je&4194176)===je?qr!==null:(je&62914560)!==je&&!(je&536870912)||a!==qr))throw Ru=Gm,Jv;i.flags|=8192}}function ff(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ss():536870912,i.lanes|=a,al|=a)}function Fu(i,a){if(!Ge)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function at(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(a)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,a}function tI(i,a,o){var c=a.pendingProps;switch(Fm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(a),null;case 1:return at(a),null;case 3:return o=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Di(kt),fi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(wu(a)?Mi(a):i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,_r!==null&&(Kp(_r),_r=null))),at(a),null;case 26:return o=a.memoizedState,i===null?(Mi(a),o!==null?(at(a),VE(a,o)):(at(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Mi(a),at(a),VE(a,o)):(at(a),a.flags&=-16777217):(i.memoizedProps!==c&&Mi(a),at(a),a.flags&=-16777217),null;case 27:Ao(a),o=Yn.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Mi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return at(a),null}i=mn.current,wu(a)?Wv(a):(i=fT(m,c,o),a.stateNode=i,Mi(a))}return at(a),null;case 5:if(Ao(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Mi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return at(a),null}if(i=mn.current,wu(a))Wv(a);else{switch(m=bf(Yn.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[zt]=a,i[xt]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Xt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Mi(a)}}return at(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Mi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Yn.current,wu(a)){if(i=a.stateNode,o=a.memoizedProps,c=null,m=yn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[zt]=a,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||aT(i.nodeValue,o)),i||Na(a)}else i=bf(i).createTextNode(c),i[zt]=a,a.stateNode=i}return at(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=wu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[zt]=a}else bu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;at(a),m=!1}else _r!==null&&(Kp(_r),_r=null),m=!0;if(!m)return a.flags&256?(Ai(a),a):(Ai(a),null)}if(Ai(a),a.flags&128)return a.lanes=o,a;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),ff(a,a.updateQueue),at(a),null;case 4:return fi(),i===null&&sg(a.stateNode.containerInfo),at(a),null;case 10:return Di(a.type),at(a),null;case 19:if(ft(Pt),m=a.memoizedState,m===null)return at(a),null;if(c=(a.flags&128)!==0,g=m.rendering,g===null)if(c)Fu(m,!1);else{if(pt!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(g=Kh(i),g!==null){for(a.flags|=128,Fu(m,!1),i=g.updateQueue,a.updateQueue=i,ff(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)PE(o,i),o=o.sibling;return $e(Pt,Pt.current&1|2),a.child}i=i.sibling}m.tail!==null&&wn()>df&&(a.flags|=128,c=!0,Fu(m,!1),a.lanes=4194304)}else{if(!c)if(i=Kh(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,ff(a,i),Fu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Ge)return at(a),null}else 2*wn()-m.renderingStartTime>df&&o!==536870912&&(a.flags|=128,c=!0,Fu(m,!1),a.lanes=4194304);m.isBackwards?(g.sibling=a.child,a.child=g):(i=m.last,i!==null?i.sibling=g:a.child=g,m.last=g)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=wn(),a.sibling=null,i=Pt.current,$e(Pt,c?i&1|2:i&1),a):(at(a),null);case 22:case 23:return Ai(a),Qm(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?o&536870912&&!(a.flags&128)&&(at(a),a.subtreeFlags&6&&(a.flags|=8192)):at(a),o=a.updateQueue,o!==null&&ff(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),i!==null&&ft(Pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Di(kt),at(a),null;case 25:return null}throw Error(r(156,a.tag))}function nI(i,a){switch(Fm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Di(kt),fi(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ao(a),null;case 13:if(Ai(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));bu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ft(Pt),null;case 4:return fi(),null;case 10:return Di(a.type),null;case 22:case 23:return Ai(a),Qm(),i!==null&&ft(Pa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Di(kt),null;case 25:return null;default:return null}}function LE(i,a){switch(Fm(a),a.tag){case 3:Di(kt),fi();break;case 26:case 27:case 5:Ao(a);break;case 4:fi();break;case 13:Ai(a);break;case 19:ft(Pt);break;case 10:Di(a.type);break;case 22:case 23:Ai(a),Qm(),i!==null&&ft(Pa);break;case 24:Di(kt)}}var rI={getCacheForType:function(i){var a=rn(kt),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},iI=typeof WeakMap=="function"?WeakMap:Map,ot=0,tt=null,Ne=null,je=0,nt=0,Vn=null,Pi=!1,sl=!1,jp=!1,ki=0,pt=0,Os=0,Fa=0,qp=0,or=0,al=0,Hu=null,Hr=null,Fp=!1,Hp=0,df=1/0,mf=null,xs=null,pf=!1,Ha=null,Gu=0,Gp=0,Yp=null,Yu=0,Qp=null;function Ln(){if(ot&2&&je!==0)return je&-je;if(A.T!==null){var i=Wo;return i!==0?i:tg()}return Eh()}function UE(){or===0&&(or=!(je&536870912)||Ge?iu():536870912);var i=rr.current;return i!==null&&(i.flags|=32),or}function vn(i,a,o){(i===tt&&nt===2||i.cancelPendingCommit!==null)&&(ol(i,0),Vi(i,je,or,!1)),yt(i,o),(!(ot&2)||i!==tt)&&(i===tt&&(!(ot&2)&&(Fa|=o),pt===4&&Vi(i,je,or,!1)),Gr(i))}function zE(i,a,o){if(ot&6)throw Error(r(327));var c=!o&&(a&60)===0&&(a&i.expiredLanes)===0||is(i,a),m=c?oI(i,a):Wp(i,a,!0),g=c;do{if(m===0){sl&&!c&&Vi(i,a,0,!1);break}else if(m===6)Vi(i,a,0,!Pi);else{if(o=i.current.alternate,g&&!sI(o)){m=Wp(i,a,!1),g=!1;continue}if(m===2){if(g=a,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var I=i;m=Hu;var P=I.current.memoizedState.isDehydrated;if(P&&(ol(I,T).flags|=256),T=Wp(I,T,!1),T!==2){if(jp&&!P){I.errorRecoveryDisabledLanes|=g,Fa|=g,m=4;break e}g=Hr,Hr=m,g!==null&&Kp(g)}m=T}if(g=!1,m!==2)continue}}if(m===1){ol(i,0),Vi(i,a,0,!0);break}e:{switch(c=i,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Vi(c,a,or,!Pi);break e}break;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=o,c.finishedLanes=a,(a&62914560)===a&&(g=Hp+300-wn(),10<g)){if(Vi(c,a,or,!Pi),Qn(c,0)!==0)break e;c.timeoutHandle=uT(BE.bind(null,c,o,Hr,mf,Fp,a,or,Fa,al,Pi,2,-0,0),g);break e}BE(c,o,Hr,mf,Fp,a,or,Fa,al,Pi,0,-0,0)}}break}while(!0);Gr(i)}function Kp(i){Hr===null?Hr=i:Hr.push.apply(Hr,i)}function BE(i,a,o,c,m,g,T,I,P,F,J,ie,K){var Z=a.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(Zu={stylesheets:null,count:0,unsuspend:BI},OE(a),a=qI(),a!==null)){i.cancelPendingCommit=a(QE.bind(null,i,o,c,m,T,I,P,1,ie,K)),Vi(i,g,T,!F);return}QE(i,o,c,m,T,I,P,J,ie,K)}function sI(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Vi(i,a,o,c){a&=~qp,a&=~Fa,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var g=31-pn(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&as(i,o,a)}function gf(){return ot&6?!0:(Qu(0),!1)}function $p(){if(Ne!==null){if(nt===0)var i=Ne.return;else i=Ne,Ii=za=null,tp(i),$o=null,Cu=0,i=Ne;for(;i!==null;)LE(i.alternate,i),i=i.return;Ne=null}}function ol(i,a){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,SI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),$p(),tt=i,Ne=o=Ds(i.current,null),je=a,nt=0,Vn=null,Pi=!1,sl=is(i,a),jp=!1,al=or=qp=Fa=Os=pt=0,Hr=Hu=null,Fp=!1,a&8&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-pn(c),g=1<<m;a|=i[m],c&=~g}return ki=a,zh(),o}function jE(i,a){De=null,A.H=Fr,a===Au?(a=n0(),nt=3):a===Jv?(a=n0(),nt=4):nt=a===eE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vn=a,Ne===null&&(pt=1,af(i,er(a,i.current)))}function qE(){var i=A.H;return A.H=Fr,i===null?Fr:i}function FE(){var i=A.A;return A.A=rI,i}function Xp(){pt=4,Pi||(je&4194176)!==je&&rr.current!==null||(sl=!0),!(Os&134217727)&&!(Fa&134217727)||tt===null||Vi(tt,je,or,!1)}function Wp(i,a,o){var c=ot;ot|=2;var m=qE(),g=FE();(tt!==i||je!==a)&&(mf=null,ol(i,a)),a=!1;var T=pt;e:do try{if(nt!==0&&Ne!==null){var I=Ne,P=Vn;switch(nt){case 8:$p(),T=6;break e;case 3:case 2:case 6:rr.current===null&&(a=!0);var F=nt;if(nt=0,Vn=null,ll(i,I,P,F),o&&sl){T=0;break e}break;default:F=nt,nt=0,Vn=null,ll(i,I,P,F)}}aI(),T=pt;break}catch(J){jE(i,J)}while(!0);return a&&i.shellSuspendCounter++,Ii=za=null,ot=c,A.H=m,A.A=g,Ne===null&&(tt=null,je=0,zh()),T}function aI(){for(;Ne!==null;)HE(Ne)}function oI(i,a){var o=ot;ot|=2;var c=qE(),m=FE();tt!==i||je!==a?(mf=null,df=wn()+500,ol(i,a)):sl=is(i,a);e:do try{if(nt!==0&&Ne!==null){a=Ne;var g=Vn;t:switch(nt){case 1:nt=0,Vn=null,ll(i,a,g,1);break;case 2:if(e0(g)){nt=0,Vn=null,GE(a);break}a=function(){nt===2&&tt===i&&(nt=7),Gr(i)},g.then(a,a);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:e0(g)?(nt=0,Vn=null,GE(a)):(nt=0,Vn=null,ll(i,a,g,7));break;case 5:var T=null;switch(Ne.tag){case 26:T=Ne.memoizedState;case 5:case 27:var I=Ne;if(!T||ET(T)){nt=0,Vn=null;var P=I.sibling;if(P!==null)Ne=P;else{var F=I.return;F!==null?(Ne=F,_f(F)):Ne=null}break t}}nt=0,Vn=null,ll(i,a,g,5);break;case 6:nt=0,Vn=null,ll(i,a,g,6);break;case 8:$p(),pt=6;break e;default:throw Error(r(462))}}lI();break}catch(J){jE(i,J)}while(!0);return Ii=za=null,A.H=c,A.A=m,ot=o,Ne!==null?0:(tt=null,je=0,zh(),pt)}function lI(){for(;Ne!==null&&!Am();)HE(Ne)}function HE(i){var a=fE(i.alternate,i,ki);i.memoizedProps=i.pendingProps,a===null?_f(i):Ne=a}function GE(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=aE(o,a,a.pendingProps,a.type,void 0,je);break;case 11:a=aE(o,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:tp(a);default:LE(o,a),a=Ne=PE(a,ki),a=fE(o,a,ki)}i.memoizedProps=i.pendingProps,a===null?_f(i):Ne=a}function ll(i,a,o,c){Ii=za=null,tp(a),$o=null,Cu=0;var m=a.return;try{if(XC(i,m,a,o,je)){pt=1,af(i,er(o,i.current)),Ne=null;return}}catch(g){if(m!==null)throw Ne=m,g;pt=1,af(i,er(o,i.current)),Ne=null;return}a.flags&32768?(Ge||c===1?i=!0:sl||je&536870912?i=!1:(Pi=i=!0,(c===2||c===3||c===6)&&(c=rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),YE(a,i)):_f(a)}function _f(i){var a=i;do{if(a.flags&32768){YE(a,Pi);return}i=a.return;var o=tI(a.alternate,a,ki);if(o!==null){Ne=o;return}if(a=a.sibling,a!==null){Ne=a;return}Ne=a=i}while(a!==null);pt===0&&(pt=5)}function YE(i,a){do{var o=nI(i.alternate,i);if(o!==null){o.flags&=32767,Ne=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=o}while(i!==null);pt=6,Ne=null}function QE(i,a,o,c,m,g,T,I,P,F){var J=A.T,ie=le.p;try{le.p=2,A.T=null,uI(i,a,o,c,ie,m,g,T,I,P,F)}finally{A.T=J,le.p=ie}}function uI(i,a,o,c,m,g,T,I){do ul();while(Ha!==null);if(ot&6)throw Error(r(327));var P=i.finishedWork;if(c=i.finishedLanes,P===null)return null;if(i.finishedWork=null,i.finishedLanes=0,P===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var F=P.lanes|P.childLanes;if(F|=Bm,yh(i,c,F,g,T,I),i===tt&&(Ne=tt=null,je=0),!(P.subtreeFlags&10256)&&!(P.flags&10256)||pf||(pf=!0,Gp=F,Yp=o,dI(di,function(){return ul(),null})),o=(P.flags&15990)!==0,P.subtreeFlags&15990||o?(o=A.T,A.T=null,g=le.p,le.p=2,T=ot,ot|=4,ZC(i,P),CE(P,i),MC(ug,i.containerInfo),Df=!!lg,ug=lg=null,i.current=P,bE(i,P.alternate,P),eu(),ot=T,le.p=g,A.T=o):i.current=P,pf?(pf=!1,Ha=i,Gu=c):KE(i,F),F=i.pendingLanes,F===0&&(xs=null),nu(P.stateNode),Gr(i),a!==null)for(m=i.onRecoverableError,P=0;P<a.length;P++)F=a[P],m(F.value,{componentStack:F.stack});return Gu&3&&ul(),F=i.pendingLanes,c&4194218&&F&42?i===Qp?Yu++:(Yu=0,Qp=i):Yu=0,Qu(0),null}function KE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Du(a)))}function ul(){if(Ha!==null){var i=Ha,a=Gp;Gp=0;var o=vh(Gu),c=A.T,m=le.p;try{if(le.p=32>o?32:o,A.T=null,Ha===null)var g=!1;else{o=Yp,Yp=null;var T=Ha,I=Gu;if(Ha=null,Gu=0,ot&6)throw Error(r(331));var P=ot;if(ot|=4,NE(T.current),DE(T,T.current,I,o),ot=P,Qu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ns,T)}catch{}g=!0}return g}finally{le.p=m,A.T=c,KE(i,a)}}return!1}function $E(i,a,o){a=er(o,a),a=pp(i.stateNode,a,2),i=As(i,a,2),i!==null&&(yt(i,2),Gr(i))}function Je(i,a,o){if(i.tag===3)$E(i,i,o);else for(;a!==null;){if(a.tag===3){$E(a,i,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xs===null||!xs.has(c))){i=er(o,i),o=Z0(2),c=As(a,o,2),c!==null&&(J0(o,c,a,i),yt(c,2),Gr(c));break}}a=a.return}}function Zp(i,a,o){var c=i.pingCache;if(c===null){c=i.pingCache=new iI;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(o)||(jp=!0,m.add(o),i=cI.bind(null,i,a,o),a.then(i,i))}function cI(i,a,o){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,tt===i&&(je&o)===o&&(pt===4||pt===3&&(je&62914560)===je&&300>wn()-Hp?!(ot&2)&&ol(i,0):qp|=o,al===je&&(al=0)),Gr(i)}function XE(i,a){a===0&&(a=ss()),i=_s(i,a),i!==null&&(yt(i,a),Gr(i))}function hI(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),XE(i,o)}function fI(i,a){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),XE(i,o)}function dI(i,a){return ma(i,a)}var yf=null,cl=null,Jp=!1,vf=!1,eg=!1,Ga=0;function Gr(i){i!==cl&&i.next===null&&(cl===null?yf=cl=i:cl=cl.next=i),vf=!0,Jp||(Jp=!0,pI(mI))}function Qu(i,a){if(!eg&&vf){eg=!0;do for(var o=!1,c=yf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-pn(42|i)+1)-1,g&=m&~(T&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,JE(c,g))}else g=je,g=Qn(c,c===tt?g:0),!(g&3)||is(c,g)||(o=!0,JE(c,g));c=c.next}while(o);eg=!1}}function mI(){vf=Jp=!1;var i=0;Ga!==0&&(bI()&&(i=Ga),Ga=0);for(var a=wn(),o=null,c=yf;c!==null;){var m=c.next,g=WE(c,a);g===0?(c.next=null,o===null?yf=m:o.next=m,m===null&&(cl=o)):(o=c,(i!==0||g&3)&&(vf=!0)),c=m}Qu(i)}function WE(i,a){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-pn(g),I=1<<T,P=m[T];P===-1?(!(I&o)||I&c)&&(m[T]=Io(I,a)):P<=a&&(i.expiredLanes|=I),g&=~I}if(a=tt,o=je,o=Qn(i,i===a?o:0),c=i.callbackNode,o===0||i===a&&nt===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Co(c),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||is(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(c!==null&&Co(c),vh(o)){case 2:case 8:o=Ut;break;case 32:o=di;break;case 268435456:o=tu;break;default:o=di}return c=ZE.bind(null,i),o=ma(o,c),i.callbackPriority=a,i.callbackNode=o,a}return c!==null&&c!==null&&Co(c),i.callbackPriority=2,i.callbackNode=null,2}function ZE(i,a){var o=i.callbackNode;if(ul()&&i.callbackNode!==o)return null;var c=je;return c=Qn(i,i===tt?c:0),c===0?null:(zE(i,c,a),WE(i,wn()),i.callbackNode!=null&&i.callbackNode===o?ZE.bind(null,i):null)}function JE(i,a){if(ul())return null;zE(i,a,!0)}function pI(i){AI(function(){ot&6?ma(Ot,i):i()})}function tg(){return Ga===0&&(Ga=iu()),Ga}function eT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pr(""+i)}function tT(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function gI(i,a,o,c,m){if(a==="submit"&&o&&o.stateNode===m){var g=eT((m[xt]||null).action),T=c.submitter;T&&(a=(a=T[xt]||null)?eT(a.formAction):T.getAttribute("formAction"),a!==null&&(g=a,T=null));var I=new ko("action","action",null,c,m);i.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ga!==0){var P=T?tT(m,T):new FormData(m);cp(o,{pending:!0,data:P,method:m.method,action:g},null,P)}}else typeof g=="function"&&(I.preventDefault(),P=T?tT(m,T):new FormData(m),cp(o,{pending:!0,data:P,method:m.method,action:g},g,P))},currentTarget:m}]})}}for(var ng=0;ng<Qv.length;ng++){var rg=Qv[ng],_I=rg.toLowerCase(),yI=rg[0].toUpperCase()+rg.slice(1);gr(_I,"on"+yI)}gr(qv,"onAnimationEnd"),gr(Fv,"onAnimationIteration"),gr(Hv,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(kC,"onTransitionRun"),gr(VC,"onTransitionStart"),gr(LC,"onTransitionCancel"),gr(Gv,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function nT(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var T=c.length-1;0<=T;T--){var I=c[T],P=I.instance,F=I.currentTarget;if(I=I.listener,P!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=F;try{g(m)}catch(J){sf(J)}m.currentTarget=null,g=P}else for(T=0;T<c.length;T++){if(I=c[T],P=I.instance,F=I.currentTarget,I=I.listener,P!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=F;try{g(m)}catch(J){sf(J)}m.currentTarget=null,g=P}}}}function Ve(i,a){var o=a[ga];o===void 0&&(o=a[ga]=new Set);var c=i+"__bubble";o.has(c)||(rT(a,i,2,!1),o.add(c))}function ig(i,a,o){var c=0;a&&(c|=4),rT(o,i,c,a)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function sg(i){if(!i[Ef]){i[Ef]=!0,au.forEach(function(o){o!=="selectionchange"&&(vI.has(o)||ig(o,!1,i),ig(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ef]||(a[Ef]=!0,ig("selectionchange",!1,a))}}function rT(i,a,o,c){switch(RT(a)){case 2:var m=GI;break;case 8:m=YI;break;default:m=yg}o=m.bind(null,a,o,i),m=void 0,!Wn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,o,{capture:!0,passive:m}):i.addEventListener(a,o,!0):m!==void 0?i.addEventListener(a,o,{passive:m}):i.addEventListener(a,o,!1)}function ag(i,a,o,c,m){var g=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var I=c.stateNode.containerInfo;if(I===m||I.nodeType===8&&I.parentNode===m)break;if(T===4)for(T=c.return;T!==null;){var P=T.tag;if((P===3||P===4)&&(P=T.stateNode.containerInfo,P===m||P.nodeType===8&&P.parentNode===m))return;T=T.return}for(;I!==null;){if(T=pr(I),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){c=g=T;continue e}I=I.parentNode}}c=c.return}Sh(function(){var F=g,J=Po(o),ie=[];e:{var K=Yv.get(i);if(K!==void 0){var Z=ko,ge=i;switch(i){case"keypress":if(Vr(o)===0)break e;case"keydown":case"keyup":Z=jo;break;case"focusin":ge="focus",Z=Uo;break;case"focusout":ge="blur",Z=Uo;break;case"beforeblur":case"afterblur":Z=Uo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Nh;break;case qv:case Fv:case Hv:Z=zo;break;case Gv:Z=Ph;break;case"scroll":case"scrollend":Z=Ah;break;case"wheel":Z=qo;break;case"copy":case"cut":case"paste":Z=Bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=yu;break;case"toggle":case"beforetoggle":Z=Vh}var Se=(a&4)!==0,gt=!Se&&(i==="scroll"||i==="scrollend"),G=Se?K!==null?K+"Capture":null:K;Se=[];for(var j=F,Q;j!==null;){var te=j;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||G===null||(te=Ta(j,G),te!=null&&Se.push($u(j,te,Q))),gt)break;j=j.return}0<Se.length&&(K=new Z(K,ge,null,o,J),ie.push({event:K,listeners:Se}))}}if(!(a&7)){e:{if(K=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",K&&o!==Xn&&(ge=o.relatedTarget||o.fromElement)&&(pr(ge)||ge[mi]))break e;if((Z||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(ge=o.relatedTarget||o.toElement,Z=F,ge=ge?pr(ge):null,ge!==null&&(gt=de(ge),Se=ge.tag,ge!==gt||Se!==5&&Se!==27&&Se!==6)&&(ge=null)):(Z=null,ge=F),Z!==ge)){if(Se=Zn,te="onMouseLeave",G="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Se=yu,te="onPointerLeave",G="onPointerEnter",j="pointer"),gt=Z==null?K:cs(Z),Q=ge==null?K:cs(ge),K=new Se(te,j+"leave",Z,o,J),K.target=gt,K.relatedTarget=Q,te=null,pr(J)===F&&(Se=new Se(G,j+"enter",ge,o,J),Se.target=Q,Se.relatedTarget=gt,te=Se),gt=te,Z&&ge)t:{for(Se=Z,G=ge,j=0,Q=Se;Q;Q=hl(Q))j++;for(Q=0,te=G;te;te=hl(te))Q++;for(;0<j-Q;)Se=hl(Se),j--;for(;0<Q-j;)G=hl(G),Q--;for(;j--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=hl(Se),G=hl(G)}Se=null}else Se=null;Z!==null&&iT(ie,K,Z,Se,!1),ge!==null&&gt!==null&&iT(ie,gt,ge,Se,!0)}}e:{if(K=F?cs(F):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var pe=xv;else if(Mt(K))if(Nv)pe=xC;else{pe=DC;var Oe=IC}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&hu(F.elementType)&&(pe=xv):pe=OC;if(pe&&(pe=pe(i,F))){wi(ie,pe,o,J);break e}Oe&&Oe(i,K,F),i==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&Mo(K,"number",K.value)}switch(Oe=F?cs(F):window,i){case"focusin":(Mt(Oe)||Oe.contentEditable==="true")&&(Fo=Oe,Lm=F,Tu=null);break;case"focusout":Tu=Lm=Fo=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,Bv(ie,o,J);break;case"selectionchange":if(PC)break;case"keydown":case"keyup":Bv(ie,o,J)}var _e;if(zr)e:{switch(i){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ze?W(i,o)&&(ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(E&&o.locale!=="ko"&&(ze||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ze&&(_e=du()):(kr=J,gs="value"in kr?kr.value:kr.textContent,ze=!0)),Oe=Tf(F,ve),0<Oe.length&&(ve=new gu(ve,i,null,o,J),ie.push({event:ve,listeners:Oe}),_e?ve.data=_e:(_e=oe(o),_e!==null&&(ve.data=_e)))),(_e=y?Nt(i,o):Be(i,o))&&(ve=Tf(F,"onBeforeInput"),0<ve.length&&(Oe=new gu("onBeforeInput","beforeinput",null,o,J),ie.push({event:Oe,listeners:ve}),Oe.data=_e)),gI(ie,i,F,o,J)}nT(ie,a)})}function $u(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Tf(i,a){for(var o=a+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ta(i,o),m!=null&&c.unshift($u(i,m,g)),m=Ta(i,a),m!=null&&c.push($u(i,m,g))),i=i.return}return c}function hl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function iT(i,a,o,c,m){for(var g=a._reactName,T=[];o!==null&&o!==c;){var I=o,P=I.alternate,F=I.stateNode;if(I=I.tag,P!==null&&P===c)break;I!==5&&I!==26&&I!==27||F===null||(P=F,m?(F=Ta(o,g),F!=null&&T.unshift($u(o,F,P))):m||(F=Ta(o,g),F!=null&&T.push($u(o,F,P)))),o=o.return}T.length!==0&&i.push({event:a,listeners:T})}var EI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function sT(i){return(typeof i=="string"?i:""+i).replace(EI,`
`).replace(TI,"")}function aT(i,a){return a=sT(a),sT(i)===a}function wf(){}function Ze(i,a,o,c,m,g){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||$n(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&$n(i,""+c);break;case"className":ds(i,"class",c);break;case"tabIndex":ds(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(i,o,c);break;case"style":bh(i,c,g);break;case"data":if(a!=="object"){ds(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Pr(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&Ze(i,a,"name",m.name,m,null),Ze(i,a,"formEncType",m.formEncType,m,null),Ze(i,a,"formMethod",m.formMethod,m,null),Ze(i,a,"formTarget",m.formTarget,m,null)):(Ze(i,a,"encType",m.encType,m,null),Ze(i,a,"method",m.method,m,null),Ze(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Pr(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=wf);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Pr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),fs(i,"popover",c);break;case"xlinkActuate":Kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":fs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Om.get(o)||o,fs(i,o,c))}}function og(i,a,o,c,m,g){switch(o){case"style":bh(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?$n(i,c):(typeof c=="number"||typeof c=="bigint")&&$n(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),a=o.slice(2,m?o.length-7:void 0),g=i[xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(a,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):fs(i,o,c)}}}function Xt(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,g,T,o,null)}}m&&Ze(i,a,"srcSet",o.srcSet,o,null),c&&Ze(i,a,"src",o.src,o,null);return;case"input":Ve("invalid",i);var I=g=T=m=null,P=null,F=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":m=J;break;case"type":T=J;break;case"checked":P=J;break;case"defaultChecked":F=J;break;case"value":g=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:Ze(i,a,c,J,o,null)}}va(i,g,I,P,F,T,m,!1),ya(i);return;case"select":Ve("invalid",i),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(I=o[m],I!=null))switch(m){case"value":g=I;break;case"defaultValue":T=I;break;case"multiple":c=I;default:Ze(i,a,m,I,o,null)}a=g,o=T,i.multiple=!!c,a!=null?He(i,!!c,a,!1):o!=null&&He(i,!!c,o,!0);return;case"textarea":Ve("invalid",i),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(I=o[T],I!=null))switch(T){case"value":c=I;break;case"defaultValue":m=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ze(i,a,T,I,o,null)}ps(i,c,m,g),ya(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(c=o[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(i,a,P,c,o,null)}return;case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<Ku.length;c++)Ve(Ku[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,F,c,o,null)}return;default:if(hu(a)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&og(i,a,J,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&Ze(i,a,I,c,o,null))}function wI(i,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,I=null,P=null,F=null,J=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=ie;default:c.hasOwnProperty(Z)||Ze(i,a,Z,null,c,ie)}}for(var K in c){var Z=c[K];if(ie=o[K],c.hasOwnProperty(K)&&(Z!=null||ie!=null))switch(K){case"type":g=Z;break;case"name":m=Z;break;case"checked":F=Z;break;case"defaultChecked":J=Z;break;case"value":T=Z;break;case"defaultValue":I=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:Z!==ie&&Ze(i,a,K,Z,c,ie)}}ms(i,T,I,P,F,J,g,m);return;case"select":Z=T=I=K=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":Z=P;default:c.hasOwnProperty(g)||Ze(i,a,g,null,c,P)}for(m in c)if(g=c[m],P=o[m],c.hasOwnProperty(m)&&(g!=null||P!=null))switch(m){case"value":K=g;break;case"defaultValue":I=g;break;case"multiple":T=g;default:g!==P&&Ze(i,a,m,g,c,P)}a=I,o=T,c=Z,K!=null?He(i,!!o,K,!1):!!c!=!!o&&(a!=null?He(i,!!o,a,!0):He(i,!!o,o?[]:"",!1));return;case"textarea":Z=K=null;for(I in o)if(m=o[I],o.hasOwnProperty(I)&&m!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ze(i,a,I,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":K=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&Ze(i,a,T,m,c,g)}Ea(i,K,Z);return;case"option":for(var ge in o)if(K=o[ge],o.hasOwnProperty(ge)&&K!=null&&!c.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:Ze(i,a,ge,null,c,K)}for(P in c)if(K=c[P],Z=o[P],c.hasOwnProperty(P)&&K!==Z&&(K!=null||Z!=null))switch(P){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(i,a,P,K,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!c.hasOwnProperty(Se)&&Ze(i,a,Se,null,c,K);for(F in c)if(K=c[F],Z=o[F],c.hasOwnProperty(F)&&K!==Z&&(K!=null||Z!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:Ze(i,a,F,K,c,Z)}return;default:if(hu(a)){for(var gt in o)K=o[gt],o.hasOwnProperty(gt)&&K!==void 0&&!c.hasOwnProperty(gt)&&og(i,a,gt,void 0,c,K);for(J in c)K=c[J],Z=o[J],!c.hasOwnProperty(J)||K===Z||K===void 0&&Z===void 0||og(i,a,J,K,c,Z);return}}for(var G in o)K=o[G],o.hasOwnProperty(G)&&K!=null&&!c.hasOwnProperty(G)&&Ze(i,a,G,null,c,K);for(ie in c)K=c[ie],Z=o[ie],!c.hasOwnProperty(ie)||K===Z||K==null&&Z==null||Ze(i,a,ie,K,c,Z)}var lg=null,ug=null;function bf(i){return i.nodeType===9?i:i.ownerDocument}function oT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lT(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function cg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hg=null;function bI(){var i=window.event;return i&&i.type==="popstate"?i===hg?!1:(hg=i,!0):(hg=null,!1)}var uT=typeof setTimeout=="function"?setTimeout:void 0,SI=typeof clearTimeout=="function"?clearTimeout:void 0,cT=typeof Promise=="function"?Promise:void 0,AI=typeof queueMicrotask=="function"?queueMicrotask:typeof cT<"u"?function(i){return cT.resolve(null).then(i).catch(RI)}:uT;function RI(i){setTimeout(function(){throw i})}function fg(i,a){var o=a,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(c===0){i.removeChild(m),rc(a);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=m}while(o);rc(a)}function dg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dg(o),_a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function CI(i,a,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[us])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=vr(i.nextSibling),i===null)break}return null}function II(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vr(i.nextSibling),i===null))return null;return i}function vr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}function hT(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function fT(i,a,o){switch(a=bf(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var lr=new Map,dT=new Set;function Sf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Li=le.d;le.d={f:DI,r:OI,D:xI,C:NI,L:MI,m:PI,X:VI,S:kI,M:LI};function DI(){var i=Li.f(),a=gf();return i||a}function OI(i){var a=pi(i);a!==null&&a.tag===5&&a.type==="form"?B0(a):Li.r(i)}var fl=typeof document>"u"?null:document;function mT(i,a,o){var c=fl;if(c&&typeof a=="string"&&a){var m=dt(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),dT.has(m)||(dT.add(m),i={rel:i,crossOrigin:o,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Xt(a,"link",i),st(a),c.head.appendChild(a)))}}function xI(i){Li.D(i),mT("dns-prefetch",i,null)}function NI(i,a){Li.C(i,a),mT("preconnect",i,a)}function MI(i,a,o){Li.L(i,a,o);var c=fl;if(c&&i&&a){var m='link[rel="preload"][as="'+dt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+dt(o.imageSizes)+'"]')):m+='[href="'+dt(i)+'"]';var g=m;switch(a){case"style":g=dl(i);break;case"script":g=ml(i)}lr.has(g)||(i=N({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),lr.set(g,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(Xu(g))||a==="script"&&c.querySelector(Wu(g))||(a=c.createElement("link"),Xt(a,"link",i),st(a),c.head.appendChild(a)))}}function PI(i,a){Li.m(i,a);var o=fl;if(o&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+dt(c)+'"][href="'+dt(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ml(i)}if(!lr.has(g)&&(i=N({rel:"modulepreload",href:i},a),lr.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wu(g)))return}c=o.createElement("link"),Xt(c,"link",i),st(c),o.head.appendChild(c)}}}function kI(i,a,o){Li.S(i,a,o);var c=fl;if(c&&i){var m=hs(c).hoistableStyles,g=dl(i);a=a||"default";var T=m.get(g);if(!T){var I={loading:0,preload:null};if(T=c.querySelector(Xu(g)))I.loading=5;else{i=N({rel:"stylesheet",href:i,"data-precedence":a},o),(o=lr.get(g))&&mg(i,o);var P=T=c.createElement("link");st(P),Xt(P,"link",i),P._p=new Promise(function(F,J){P.onload=F,P.onerror=J}),P.addEventListener("load",function(){I.loading|=1}),P.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Af(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:I},m.set(g,T)}}}function VI(i,a){Li.X(i,a);var o=fl;if(o&&i){var c=hs(o).hoistableScripts,m=ml(i),g=c.get(m);g||(g=o.querySelector(Wu(m)),g||(i=N({src:i,async:!0},a),(a=lr.get(m))&&pg(i,a),g=o.createElement("script"),st(g),Xt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function LI(i,a){Li.M(i,a);var o=fl;if(o&&i){var c=hs(o).hoistableScripts,m=ml(i),g=c.get(m);g||(g=o.querySelector(Wu(m)),g||(i=N({src:i,async:!0,type:"module"},a),(a=lr.get(m))&&pg(i,a),g=o.createElement("script"),st(g),Xt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function pT(i,a,o,c){var m=(m=Yn.current)?Sf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=dl(o.href),o=hs(m).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=dl(o.href);var g=hs(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(Xu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),lr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},lr.set(i,o),g||UI(m,i,o,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ml(o),o=hs(m).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function dl(i){return'href="'+dt(i)+'"'}function Xu(i){return'link[rel="stylesheet"]['+i+"]"}function gT(i){return N({},i,{"data-precedence":i.precedence,precedence:null})}function UI(i,a,o,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Xt(a,"link",o),st(a),i.head.appendChild(a))}function ml(i){return'[src="'+dt(i)+'"]'}function Wu(i){return"script[async]"+i}function _T(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+dt(o.href)+'"]');if(c)return a.instance=c,st(c),c;var m=N({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),st(c),Xt(c,"style",m),Af(c,o.precedence,i),a.instance=c;case"stylesheet":m=dl(o.href);var g=i.querySelector(Xu(m));if(g)return a.state.loading|=4,a.instance=g,st(g),g;c=gT(o),(m=lr.get(m))&&mg(c,m),g=(i.ownerDocument||i).createElement("link"),st(g);var T=g;return T._p=new Promise(function(I,P){T.onload=I,T.onerror=P}),Xt(g,"link",c),a.state.loading|=4,Af(g,o.precedence,i),a.instance=g;case"script":return g=ml(o.src),(m=i.querySelector(Wu(g)))?(a.instance=m,st(m),m):(c=o,(m=lr.get(g))&&(c=N({},o),pg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),st(m),Xt(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,Af(c,o.precedence,i));return a.instance}function Af(i,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var I=c[T];if(I.dataset.precedence===a)g=I;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function mg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function pg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Rf=null;function yT(i,a,o){if(Rf===null){var c=new Map,m=Rf=new Map;m.set(o,c)}else m=Rf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[us]||g[zt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(a)||"";T=i+T;var I=c.get(T);I?I.push(g):c.set(T,[g])}}return c}function vT(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function zI(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ET(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Zu=null;function BI(){}function jI(i,a,o){if(Zu===null)throw Error(r(475));var c=Zu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=dl(o.href),g=i.querySelector(Xu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Cf.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,st(g);return}g=i.ownerDocument||i,o=gT(o),(m=lr.get(m))&&mg(o,m),g=g.createElement("link"),st(g);var T=g;T._p=new Promise(function(I,P){T.onload=I,T.onerror=P}),Xt(g,"link",o),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=Cf.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function qI(){if(Zu===null)throw Error(r(475));var i=Zu;return i.stylesheets&&i.count===0&&gg(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&gg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Cf(){if(this.count--,this.count===0){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var If=null;function gg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,If=new Map,a.forEach(FI,i),If=null,Cf.call(i))}function FI(i,a){if(!(a.state.loading&4)){var o=If.get(i);if(o)var c=o.get(null);else{o=new Map,If.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=a.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=Cf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Ju={$$typeof:b,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function HI(i,a,o,c,m,g,T,I){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Do(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.hiddenUpdates=Do(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function TT(i,a,o,c,m,g,T,I,P,F,J,ie){return i=new HI(i,a,o,T,I,P,F,ie),a=1,g===!0&&(a|=24),g=ar(3,null,null,a),i.current=g,g.stateNode=i,a=Km(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:a},Ip(g),i}function wT(i){return i?(i=Yo,i):Yo}function bT(i,a,o,c,m,g){m=wT(m),c.context===null?c.context=m:c.pendingContext=m,c=Ss(a),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=As(i,c,a),o!==null&&(vn(o,i,a),Vu(o,i,a))}function ST(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function _g(i,a){ST(i,a),(i=i.alternate)&&ST(i,a)}function AT(i){if(i.tag===13){var a=_s(i,67108864);a!==null&&vn(a,i,67108864),_g(i,67108864)}}var Df=!0;function GI(i,a,o,c){var m=A.T;A.T=null;var g=le.p;try{le.p=2,yg(i,a,o,c)}finally{le.p=g,A.T=m}}function YI(i,a,o,c){var m=A.T;A.T=null;var g=le.p;try{le.p=8,yg(i,a,o,c)}finally{le.p=g,A.T=m}}function yg(i,a,o,c){if(Df){var m=vg(c);if(m===null)ag(i,a,c,Of,o),CT(i,c);else if(KI(m,i,a,o,c))c.stopPropagation();else if(CT(i,c),a&4&&-1<QI.indexOf(i)){for(;m!==null;){var g=pi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=mr(g.pendingLanes);if(T!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var P=1<<31-pn(T);I.entanglements[1]|=P,T&=~P}Gr(g),!(ot&6)&&(df=wn()+500,Qu(0))}}break;case 13:I=_s(g,2),I!==null&&vn(I,g,2),gf(),_g(g,2)}if(g=vg(c),g===null&&ag(i,a,c,Of,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else ag(i,a,c,null,o)}}function vg(i){return i=Po(i),Eg(i)}var Of=null;function Eg(i){if(Of=null,i=pr(i),i!==null){var a=de(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=ke(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Of=i,null}function RT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mh()){case Ot:return 2;case Ut:return 8;case di:case ph:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Tg=!1,Ns=null,Ms=null,Ps=null,ec=new Map,tc=new Map,ks=[],QI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CT(i,a){switch(i){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":ec.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(a.pointerId)}}function nc(i,a,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},a!==null&&(a=pi(a),a!==null&&AT(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function KI(i,a,o,c,m){switch(a){case"focusin":return Ns=nc(Ns,i,a,o,c,m),!0;case"dragenter":return Ms=nc(Ms,i,a,o,c,m),!0;case"mouseover":return Ps=nc(Ps,i,a,o,c,m),!0;case"pointerover":var g=m.pointerId;return ec.set(g,nc(ec.get(g)||null,i,a,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,tc.set(g,nc(tc.get(g)||null,i,a,o,c,m)),!0}return!1}function IT(i){var a=pr(i.target);if(a!==null){var o=de(a);if(o!==null){if(a=o.tag,a===13){if(a=ke(o),a!==null){i.blockedOn=a,ls(i.priority,function(){if(o.tag===13){var c=Ln(),m=_s(o,c);m!==null&&vn(m,o,c),_g(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=vg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Xn=c,o.target.dispatchEvent(c),Xn=null}else return a=pi(o),a!==null&&AT(a),i.blockedOn=o,!1;a.shift()}return!0}function DT(i,a,o){xf(i)&&o.delete(a)}function $I(){Tg=!1,Ns!==null&&xf(Ns)&&(Ns=null),Ms!==null&&xf(Ms)&&(Ms=null),Ps!==null&&xf(Ps)&&(Ps=null),ec.forEach(DT),tc.forEach(DT)}function Nf(i,a){i.blockedOn===a&&(i.blockedOn=null,Tg||(Tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$I)))}var Mf=null;function OT(i){Mf!==i&&(Mf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mf===i&&(Mf=null);for(var a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(Eg(c||o)===null)continue;break}var g=pi(o);g!==null&&(i.splice(a,3),a-=3,cp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function rc(i){function a(P){return Nf(P,i)}Ns!==null&&Nf(Ns,i),Ms!==null&&Nf(Ms,i),Ps!==null&&Nf(Ps,i),ec.forEach(a),tc.forEach(a);for(var o=0;o<ks.length;o++){var c=ks[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ks.length&&(o=ks[0],o.blockedOn===null);)IT(o),o.blockedOn===null&&ks.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[xt]||null;if(typeof g=="function")T||OT(o);else if(T){var I=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[xt]||null)I=T.formAction;else if(Eg(m)!==null)continue}else I=T.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),OT(o)}}}function wg(i){this._internalRoot=i}Pf.prototype.render=wg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,c=Ln();bT(o,c,i,a,null,null)},Pf.prototype.unmount=wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;i.tag===0&&ul(),bT(i.current,2,null,i,null,null),gf(),a[mi]=null}};function Pf(i){this._internalRoot=i}Pf.prototype.unstable_scheduleHydration=function(i){if(i){var a=Eh();i={blockedOn:null,target:i,priority:a};for(var o=0;o<ks.length&&a!==0&&a<ks[o].priority;o++);ks.splice(o,0,i),o===0&&IT(i)}};var xT=e.version;if(xT!=="19.0.0")throw Error(r(527,xT,"19.0.0"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=se(a),i=i!==null?me(i):null,i=i===null?null:i.stateNode,i};var XI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:pr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{ns=kf.inject(XI),nn=kf}catch{}}return sc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,c="",m=K0,g=$0,T=X0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=TT(i,1,!1,null,null,o,c,m,g,T,I,null),i[mi]=a.current,sg(i.nodeType===8?i.parentNode:i),new wg(a)},sc.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var c=!1,m="",g=K0,T=$0,I=X0,P=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),a=TT(i,1,!0,a,o??null,c,m,g,T,I,P,F),a.context=wT(null),o=a.current,c=Ln(),m=Ss(c),m.callback=null,As(o,m,c),a.current.lanes=c,yt(a,c),Gr(a),i[mi]=a.current,sg(i),new Pf(a)},sc.version="19.0.0",sc}var jT;function uD(){if(jT)return Ag.exports;jT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ag.exports=lD(),Ag.exports}var cD=uD(),$=Gd();const to=eD($);var Og={exports:{}},xg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function hD(){if(qT)return xg;qT=1;var n=Gd();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return xg.useSyncExternalStoreWithSelector=function(d,p,_,v,w){var b=s(null);if(b.current===null){var R={hasValue:!1,value:null};b.current=R}else R=b.current;b=u(function(){function D(q){if(!k){if(k=!0,L=q,q=v(q),w!==void 0&&R.hasValue){var X=R.value;if(w(X,q))return V=X}return V=q}if(X=V,t(L,q))return X;var x=v(q);return w!==void 0&&w(X,x)?(L=q,X):(L=q,V=x)}var k=!1,L,V,H=_===void 0?null:_;return[function(){return D(p())},H===null?void 0:function(){return D(H())}]},[p,_,v,w]);var S=r(d,b[0],b[1]);return l(function(){R.hasValue=!0,R.value=S},[S]),h(S),S},xg}var FT;function fD(){return FT||(FT=1,Og.exports=hD()),Og.exports}var dD=fD();function mD(n){n()}function pD(){let n=null,e=null;return{clear(){n=null,e=null},notify(){mD(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var HT={notify(){},get:()=>[]};function gD(n,e){let t,r=HT,s=0,l=!1;function u(S){_();const D=r.subscribe(S);let k=!1;return()=>{k||(k=!0,D(),v())}}function h(){r.notify()}function d(){R.onStateChange&&R.onStateChange()}function p(){return l}function _(){s++,t||(t=n.subscribe(d),r=pD())}function v(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=HT)}function w(){l||(l=!0,_())}function b(){l&&(l=!1,v())}const R={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:p,trySubscribe:w,tryUnsubscribe:b,getListeners:()=>r};return R}var _D=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yD=_D(),vD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ED=vD(),TD=()=>yD||ED?$.useLayoutEffect:$.useEffect,wD=TD(),Ng=Symbol.for("react-redux-context"),Mg=typeof globalThis<"u"?globalThis:{};function bD(){if(!$.createContext)return{};const n=Mg[Ng]??(Mg[Ng]=new Map);let e=n.get($.createContext);return e||(e=$.createContext(null),n.set($.createContext,e)),e}var Zs=bD();function SD(n){const{children:e,context:t,serverState:r,store:s}=n,l=$.useMemo(()=>{const d=gD(s);return{store:s,subscription:d,getServerState:r?()=>r:void 0}},[s,r]),u=$.useMemo(()=>s.getState(),[s]);wD(()=>{const{subscription:d}=l;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[l,u]);const h=t||Zs;return $.createElement(h.Provider,{value:l},e)}var AD=SD;function ty(n=Zs){return function(){return $.useContext(n)}}var hS=ty();function fS(n=Zs){const e=n===Zs?hS:ty(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var RD=fS();function CD(n=Zs){const e=n===Zs?RD:fS(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var ha=CD(),ID=(n,e)=>n===e;function DD(n=Zs){const e=n===Zs?hS:ty(n),t=(r,s={})=>{const{equalityFn:l=ID}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:d,getServerState:p}=u;$.useRef(!0);const _=$.useCallback({[r.name](w){return r(w)}}[r.name],[r]),v=dD.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,p||h.getState,_,l);return $.useDebugValue(v),v};return Object.assign(t,{withTypes:()=>t}),t}var fr=DD(),ac={},GT;function OD(){if(GT)return ac;GT=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.parse=u,ac.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,b){const R=new l,S=w.length;if(S<2)return R;const D=(b==null?void 0:b.decode)||_;let k=0;do{const L=w.indexOf("=",k);if(L===-1)break;const V=w.indexOf(";",k),H=V===-1?S:V;if(L>H){k=w.lastIndexOf(";",L-1)+1;continue}const q=h(w,k,L),X=d(w,L,q),x=w.slice(q,X);if(R[x]===void 0){let C=h(w,L+1,H),A=d(w,H,C);const N=D(w.slice(C,A));R[x]=N}k=H+1}while(k<S);return R}function h(w,b,R){do{const S=w.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<R);return R}function d(w,b,R){for(;b>R;){const S=w.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return R}function p(w,b,R){const S=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=S(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let k=w+"="+D;if(!R)return k;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);k+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);k+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);k+="; Path="+R.path}if(R.expires){if(!v(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);k+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(k+="; HttpOnly"),R.secure&&(k+="; Secure"),R.partitioned&&(k+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return k}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return s.call(w)==="[object Date]"}return ac}OD();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YT="popstate";function xD(n={}){function e(s,l){let{pathname:u="/",search:h="",hash:d=""}=_o(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),o_("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:Dc(l))}function r(s,l){Rr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return MD(e,t,r,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ND(){return Math.random().toString(36).substring(2,10)}function QT(n,e){return{usr:n.state,key:n.key,idx:e}}function o_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:t,key:e&&e.key||r||ND()}}function Dc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _o(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function MD(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,u=s.history,h="POP",d=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=_(),k=D==null?null:D-p;p=D,d&&d({action:h,location:S.location,delta:k})}function w(D,k){h="PUSH";let L=o_(S.location,D,k);t&&t(L,D),p=_()+1;let V=QT(L,p),H=S.createHref(L);try{u.pushState(V,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(H)}l&&d&&d({action:h,location:S.location,delta:1})}function b(D,k){h="REPLACE";let L=o_(S.location,D,k);t&&t(L,D),p=_();let V=QT(L,p),H=S.createHref(L);u.replaceState(V,"",H),l&&d&&d({action:h,location:S.location,delta:0})}function R(D){let k=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof D=="string"?D:Dc(D);return L=L.replace(/ $/,"%20"),ct(k,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,k)}let S={get action(){return h},get location(){return n(s,u)},listen(D){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(YT,v),d=D,()=>{s.removeEventListener(YT,v),d=null}},createHref(D){return e(s,D)},createURL:R,encodeLocation(D){let k=R(D);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:b,go(D){return u.go(D)}};return S}function dS(n,e,t="/"){return PD(n,e,t,!1)}function PD(n,e,t,r){let s=typeof e=="string"?_o(e):e,l=Js(s.pathname||"/",t);if(l==null)return null;let u=mS(n);kD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=YD(l);h=HD(u[d],p,r)}return h}function mS(n,e=[],t=[],r=""){let s=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Hi([r,d.relativePath]),_=t.concat(d);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),mS(l.children,e,_,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:qD(p,l.index),routesMeta:_})};return n.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,u);else for(let d of pS(l.path))s(l,u,d)}),e}function pS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let u=pS(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),s&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function kD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var VD=/^:[\w-]+$/,LD=3,UD=2,zD=1,BD=10,jD=-2,KT=n=>n==="*";function qD(n,e){let t=n.split("/"),r=t.length;return t.some(KT)&&(r+=jD),e&&(r+=UD),t.filter(s=>!KT(s)).reduce((s,l)=>s+(VD.test(l)?LD:l===""?zD:BD),r)}function FD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function HD(n,e,t=!1){let{routesMeta:r}=n,s={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=ld({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),w=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=ld({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Hi([l,v.pathname]),pathnameBase:XD(Hi([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Hi([l,v.pathnameBase]))}return u}function ld(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=GD(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:v},w)=>{if(_==="*"){let R=h[w]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const b=h[w];return v&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function GD(n,e=!1,t=!0){Rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Js(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function QD(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?_o(n):n;return{pathname:t?t.startsWith("/")?t:KD(t,e):e,search:WD(r),hash:ZD(s)}}function KD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Pg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $D(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gS(n){let e=$D(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function _S(n,e,t,r=!1){let s;typeof n=="string"?s=_o(n):(s={...n},ct(!s.pathname||!s.pathname.includes("?"),Pg("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Pg("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Pg("#","search","hash",s)));let l=n===""||s.pathname==="",u=l?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}h=v>=0?e[v]:"/"}let d=QD(s,h),p=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}var Hi=n=>n.join("/").replace(/\/\/+/g,"/"),XD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yS=["POST","PUT","PATCH","DELETE"];new Set(yS);var eO=["GET",...yS];new Set(eO);var Yl=$.createContext(null);Yl.displayName="DataRouter";var Yd=$.createContext(null);Yd.displayName="DataRouterState";var vS=$.createContext({isTransitioning:!1});vS.displayName="ViewTransition";var tO=$.createContext(new Map);tO.displayName="Fetchers";var nO=$.createContext(null);nO.displayName="Await";var li=$.createContext(null);li.displayName="Navigation";var Zc=$.createContext(null);Zc.displayName="Location";var Ir=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var ny=$.createContext(null);ny.displayName="RouteError";function rO(n,{relative:e}={}){ct(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(li),{hash:s,pathname:l,search:u}=th(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Hi([t,l])),r.createHref({pathname:h,search:u,hash:s})}function Jc(){return $.useContext(Zc)!=null}function yo(){return ct(Jc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Zc).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(n){$.useContext(li).static||$.useLayoutEffect(n)}function eh(){let{isDataRoute:n}=$.useContext(Ir);return n?vO():iO()}function iO(){ct(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Yl),{basename:e,navigator:t}=$.useContext(li),{matches:r}=$.useContext(Ir),{pathname:s}=yo(),l=JSON.stringify(gS(r)),u=$.useRef(!1);return TS(()=>{u.current=!0}),$.useCallback((d,p={})=>{if(Rr(u.current,ES),!u.current)return;if(typeof d=="number"){t.go(d);return}let _=_S(d,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Hi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,s,n])}var sO=$.createContext(null);function aO(n){let e=$.useContext(Ir).outlet;return e&&$.createElement(sO.Provider,{value:n},e)}function oO(){let{matches:n}=$.useContext(Ir),e=n[n.length-1];return e?e.params:{}}function th(n,{relative:e}={}){let{matches:t}=$.useContext(Ir),{pathname:r}=yo(),s=JSON.stringify(gS(t));return $.useMemo(()=>_S(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function lO(n,e){return wS(n,e)}function wS(n,e,t,r){var L;ct(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=$.useContext(li),{matches:u}=$.useContext(Ir),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",_=h?h.pathnameBase:"/",v=h&&h.route;{let V=v&&v.path||"";bS(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let w=yo(),b;if(e){let V=typeof e=="string"?_o(e):e;ct(_==="/"||((L=V.pathname)==null?void 0:L.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${V.pathname}" was given in the \`location\` prop.`),b=V}else b=w;let R=b.pathname||"/",S=R;if(_!=="/"){let V=_.replace(/^\//,"").split("/");S="/"+R.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=!l&&t&&t.matches&&t.matches.length>0?t.matches:dS(n,{pathname:S});Rr(v||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Rr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=dO(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:Hi([_,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?_:Hi([_,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&k?$.createElement(Zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function uO(){let n=yO(),e=JD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,u)}var cO=$.createElement(uO,null),hO=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(Ir.Provider,{value:this.props.routeContext},$.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fO({routeContext:n,match:e,children:t}){let r=$.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Ir.Provider,{value:n},t)}function dO(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let d=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:_,errors:v}=t,w=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,_)=>{let v,w=!1,b=null,R=null;t&&(v=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||cO,u&&(h<0&&_===0?(bS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):h===_&&(w=!0,R=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,_+1)),D=()=>{let k;return v?k=b:w?k=R:p.route.Component?k=$.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,$.createElement(fO,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?$.createElement(hO,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):D()},null)}function ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mO(n){let e=$.useContext(Yl);return ct(e,ry(n)),e}function pO(n){let e=$.useContext(Yd);return ct(e,ry(n)),e}function gO(n){let e=$.useContext(Ir);return ct(e,ry(n)),e}function iy(n){let e=gO(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _O(){return iy("useRouteId")}function yO(){var r;let n=$.useContext(ny),e=pO("useRouteError"),t=iy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function vO(){let{router:n}=mO("useNavigate"),e=iy("useNavigate"),t=$.useRef(!1);return TS(()=>{t.current=!0}),$.useCallback(async(s,l={})=>{Rr(t.current,ES),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var $T={};function bS(n,e,t){!e&&!$T[n]&&($T[n]=!0,Rr(!1,t))}$.memo(EO);function EO({routes:n,future:e,state:t}){return wS(n,void 0,t,e)}function TO(n){return aO(n.context)}function Yr(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:l=!1}){ct(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof t=="string"&&(t=_o(t));let{pathname:d="/",search:p="",hash:_="",state:v=null,key:w="default"}=t,b=$.useMemo(()=>{let R=Js(d,u);return R==null?null:{location:{pathname:R,search:p,hash:_,state:v,key:w},navigationType:r}},[u,d,p,_,v,w,r]);return Rr(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:$.createElement(li.Provider,{value:h},$.createElement(Zc.Provider,{children:e,value:b}))}function bO({children:n,location:e}){return lO(l_(n),e)}function l_(n,e=[]){let t=[];return $.Children.forEach(n,(r,s)=>{if(!$.isValidElement(r))return;let l=[...e,s];if(r.type===$.Fragment){t.push.apply(t,l_(r.props.children,l));return}ct(r.type===Yr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=l_(r.props.children,l)),t.push(u)}),t}var Yf="get",Qf="application/x-www-form-urlencoded";function Qd(n){return n!=null&&typeof n.tagName=="string"}function SO(n){return Qd(n)&&n.tagName.toLowerCase()==="button"}function AO(n){return Qd(n)&&n.tagName.toLowerCase()==="form"}function RO(n){return Qd(n)&&n.tagName.toLowerCase()==="input"}function CO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IO(n,e){return n.button===0&&(!e||e==="_self")&&!CO(n)}var Vf=null;function DO(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var OO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(n){return n!=null&&!OO.has(n)?(Rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qf}"`),null):n}function xO(n,e){let t,r,s,l,u;if(AO(n)){let h=n.getAttribute("action");r=h?Js(h,e):null,t=n.getAttribute("method")||Yf,s=kg(n.getAttribute("enctype"))||Qf,l=new FormData(n)}else if(SO(n)||RO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Js(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Yf,s=kg(n.getAttribute("formenctype"))||kg(h.getAttribute("enctype"))||Qf,l=new FormData(h,n),!DO()){let{name:p,type:_,value:v}=n;if(_==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(Qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yf,r=null,s=Qf,u=n}return l&&s==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:l,body:u}}function sy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function NO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function PO(n,e,t){let r=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await NO(l,t);return u.links?u.links():[]}return[]}));return UO(r.flat(1).filter(MO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function XT(n,e,t,r,s,l){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>{var _;return t[p].pathname!==d.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{var v;let _=r.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function kO(n,e){return VO(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function VO(n){return[...new Set(n)]}function LO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function UO(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let l=JSON.stringify(LO(s));return t.has(l)||(t.add(l),r.push({key:l,link:s})),r},[])}function zO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function BO(){let n=$.useContext(Yl);return sy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function jO(){let n=$.useContext(Yd);return sy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ay=$.createContext(void 0);ay.displayName="FrameworkContext";function SS(){let n=$.useContext(ay);return sy(n,"You must render this element inside a <HydratedRouter> element"),n}function qO(n,e){let t=$.useContext(ay),[r,s]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=e,w=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=k=>{k.forEach(L=>{u(L.isIntersecting)})},D=new IntersectionObserver(S,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[n]),$.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:oc(h,b),onBlur:oc(d,R),onMouseEnter:oc(p,b),onMouseLeave:oc(_,R),onTouchStart:oc(v,b)}]:[!1,w,{}]}function oc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FO({page:n,...e}){let{router:t}=BO(),r=$.useMemo(()=>dS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(GO,{page:n,matches:r,...e}):null}function HO(n){let{manifest:e,routeModules:t}=SS(),[r,s]=$.useState([]);return $.useEffect(()=>{let l=!1;return PO(n,e,t).then(u=>{l||s(u)}),()=>{l=!0}},[n,e,t]),r}function GO({page:n,matches:e,...t}){let r=yo(),{manifest:s,routeModules:l}=SS(),{loaderData:u,matches:h}=jO(),d=$.useMemo(()=>XT(n,e,h,s,r,"data"),[n,e,h,s,r]),p=$.useMemo(()=>XT(n,e,h,s,r,"assets"),[n,e,h,s,r]),_=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,R=!1;if(e.forEach(D=>{var L;let k=s.routes[D.route.id];!k||!k.hasLoader||(!d.some(V=>V.route.id===D.route.id)&&D.route.id in u&&((L=l[D.route.id])!=null&&L.shouldRevalidate)||k.hasClientLoader?R=!0:b.add(D.route.id))}),b.size===0)return[];let S=zO(n);return R&&b.size>0&&S.searchParams.set("_routes",e.filter(D=>b.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[u,r,s,d,e,n,l]),v=$.useMemo(()=>kO(p,s),[p,s]),w=HO(p);return $.createElement($.Fragment,null,_.map(b=>$.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>$.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:R})=>$.createElement("link",{key:b,...R})))}function YO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AS&&(window.__reactRouterVersion="7.1.5")}catch{}function QO({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=xD({window:t,v5Compat:!0}));let s=r.current,[l,u]=$.useState({action:s.action,location:s.location}),h=$.useCallback(d=>{$.startTransition(()=>u(d))},[u]);return $.useLayoutEffect(()=>s.listen(h),[s,h]),$.createElement(wO,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CS=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:_,viewTransition:v,...w},b){let{basename:R}=$.useContext(li),S=typeof p=="string"&&RS.test(p),D,k=!1;if(typeof p=="string"&&S&&(D=p,AS))try{let A=new URL(window.location.href),N=p.startsWith("//")?new URL(A.protocol+p):new URL(p),U=Js(N.pathname,R);N.origin===A.origin&&U!=null?p=U+N.search+N.hash:k=!0}catch{Rr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=rO(p,{relative:s}),[V,H,q]=qO(r,w),X=XO(p,{replace:u,state:h,target:d,preventScrollReset:_,relative:s,viewTransition:v});function x(A){e&&e(A),A.defaultPrevented||X(A)}let C=$.createElement("a",{...w,...q,href:D||L,onClick:k||l?e:x,ref:YO(b,H),target:d,"data-discover":!S&&t==="render"?"true":void 0});return V&&!S?$.createElement($.Fragment,null,C,$.createElement(FO,{page:L})):C});CS.displayName="Link";var Tl=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:l,to:u,viewTransition:h,children:d,...p},_){let v=th(u,{relative:p.relative}),w=yo(),b=$.useContext(Yd),{navigator:R,basename:S}=$.useContext(li),D=b!=null&&tx(v)&&h===!0,k=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,L=w.pathname,V=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(L=L.toLowerCase(),V=V?V.toLowerCase():null,k=k.toLowerCase()),V&&S&&(V=Js(V,S)||V);const H=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=L===k||!s&&L.startsWith(k)&&L.charAt(H)==="/",X=V!=null&&(V===k||!s&&V.startsWith(k)&&V.charAt(k.length)==="/"),x={isActive:q,isPending:X,isTransitioning:D},C=q?e:void 0,A;typeof r=="function"?A=r(x):A=[r,q?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(x):l;return $.createElement(CS,{...p,"aria-current":C,className:A,ref:_,style:N,to:u,viewTransition:h},typeof d=="function"?d(x):d)});Tl.displayName="NavLink";var KO=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:l,method:u=Yf,action:h,onSubmit:d,relative:p,preventScrollReset:_,viewTransition:v,...w},b)=>{let R=JO(),S=ex(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&RS.test(h),L=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let H=V.nativeEvent.submitter,q=(H==null?void 0:H.getAttribute("formmethod"))||u;R(H||V.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:l,relative:p,preventScrollReset:_,viewTransition:v})};return $.createElement("form",{ref:b,method:D,action:S,onSubmit:r?d:L,...w,"data-discover":!k&&n==="render"?"true":void 0})});KO.displayName="Form";function $O(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IS(n){let e=$.useContext(Yl);return ct(e,$O(n)),e}function XO(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:l,viewTransition:u}={}){let h=eh(),d=yo(),p=th(n,{relative:l});return $.useCallback(_=>{if(IO(_,e)){_.preventDefault();let v=t!==void 0?t:Dc(d)===Dc(p);h(n,{replace:v,state:r,preventScrollReset:s,relative:l,viewTransition:u})}},[d,h,p,t,r,e,n,s,l,u])}var WO=0,ZO=()=>`__${String(++WO)}__`;function JO(){let{router:n}=IS("useSubmit"),{basename:e}=$.useContext(li),t=_O();return $.useCallback(async(r,s={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=xO(r,e);if(s.navigate===!1){let _=s.fetcherKey||ZO();await n.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function ex(n,{relative:e}={}){let{basename:t}=$.useContext(li),r=$.useContext(Ir);ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...th(n||".",{relative:e})},u=yo();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Hi([t,l.pathname])),Dc(l)}function tx(n,e={}){let t=$.useContext(vS);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IS("useViewTransitionState"),s=th(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Js(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Js(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ld(s.pathname,u)!=null||ld(s.pathname,l)!=null}new TextEncoder;function Ui(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DS(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var jn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},xl={duration:.5,overwrite:!1,delay:0},oy,en,it,Wr=1e8,cn=1/Wr,u_=Math.PI*2,nx=u_/4,rx=0,OS=Math.sqrt,ix=Math.cos,sx=Math.sin,Yt=function(e){return typeof e=="string"},_t=function(e){return typeof e=="function"},Qi=function(e){return typeof e=="number"},ly=function(e){return typeof e>"u"},ii=function(e){return typeof e=="object"},Rn=function(e){return e!==!1},uy=function(){return typeof window<"u"},Lf=function(e){return _t(e)||Yt(e)},xS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},hn=Array.isArray,c_=/(?:-?\.?\d|\.)+/gi,NS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,wl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Vg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,MS=/[+-]=-?[.\d]+/,PS=/[^,'"\[\]\s]+/gi,ax=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,lt,Qr,h_,cy,qn={},ud={},kS,VS=function(e){return(ud=Nl(e,qn))&&On},hy=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Oc=function(e,t){return!t&&console.warn(e)},LS=function(e,t){return e&&(qn[e]=t)&&ud&&(ud[e]=t)||qn},xc=function(){return 0},ox={suppressEvents:!0,isStart:!0,kill:!1},Kf={suppressEvents:!0,kill:!1},lx={suppressEvents:!0},fy={},Ys=[],f_={},US,Un={},Lg={},WT=30,$f=[],dy="",my=function(e){var t=e[0],r,s;if(ii(t)||_t(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(s=$f.length;s--&&!$f[s].targetTest(t););r=$f[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new lA(e[s],r)))||e.splice(s,1);return e},no=function(e){return e._gsap||my(dr(e))[0]._gsap},zS=function(e,t,r){return(r=e[t])&&_t(r)?e[t]():ly(r)&&e.getAttribute&&e.getAttribute(t)||r},Cn=function(e,t){return(e=e.split(",")).forEach(t)||e},Et=function(e){return Math.round(e*1e5)/1e5||0},It=function(e){return Math.round(e*1e7)/1e7||0},Sl=function(e,t){var r=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},ux=function(e,t){for(var r=t.length,s=0;e.indexOf(t[s])<0&&++s<r;);return s<r},cd=function(){var e=Ys.length,t=Ys.slice(0),r,s;for(f_={},Ys.length=0,r=0;r<e;r++)s=t[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},BS=function(e,t,r,s){Ys.length&&!en&&cd(),e.render(t,r,en&&t<0&&(e._initted||e._startAt)),Ys.length&&!en&&cd()},jS=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(PS).length<2?t:Yt(e)?e.trim():e},qS=function(e){return e},Fn=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},cx=function(e){return function(t,r){for(var s in r)s in t||s==="duration"&&e||s==="ease"||(t[s]=r[s])}},Nl=function(e,t){for(var r in t)e[r]=t[r];return e},ZT=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ii(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},hd=function(e,t){var r={},s;for(s in e)s in t||(r[s]=e[s]);return r},yc=function(e){var t=e.parent||lt,r=e.keyframes?cx(hn(e.keyframes)):Fn;if(Rn(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},hx=function(e,t){for(var r=e.length,s=r===t.length;s&&r--&&e[r]===t[r];);return r<0},FS=function(e,t,r,s,l){var u=e[s],h;if(l)for(h=t[l];u&&u[l]>h;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[s]=t,t._prev=u,t.parent=t._dp=e,t},Kd=function(e,t,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var l=t._prev,u=t._next;l?l._next=u:e[r]===t&&(e[r]=u),u?u._prev=l:e[s]===t&&(e[s]=l),t._next=t._prev=t.parent=null},ea=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ro=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},fx=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},d_=function(e,t,r,s){return e._startAt&&(en?e._startAt.revert(Kf):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},dx=function n(e){return!e||e._ts&&n(e.parent)},JT=function(e){return e._repeat?Ml(e._tTime,e=e.duration()+e._rDelay)*e:0},Ml=function(e,t){var r=Math.floor(e=It(e/t));return e&&r===e?r-1:r},fd=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},$d=function(e){return e._end=It(e._start+(e._tDur/Math.abs(e._ts||e._rts||cn)||0))},Xd=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=It(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),$d(e),r._dirty||ro(r,e)),e},HS=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=fd(e.rawTime(),t),(!t._dur||nh(0,t.totalDuration(),r)-t._tTime>cn)&&t.render(r,!0)),ro(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},$r=function(e,t,r,s){return t.parent&&ea(t),t._start=It((Qi(r)?r:r||e!==lt?ur(e,r,t):e._time)+t._delay),t._end=It(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),FS(e,t,"_first","_last",e._sort?"_start":0),m_(t)||(e._recent=t),s||HS(e,t),e._ts<0&&Xd(e,e._tTime),e},GS=function(e,t){return(qn.ScrollTrigger||hy("scrollTrigger",t))&&qn.ScrollTrigger.create(t,e)},YS=function(e,t,r,s,l){if(gy(e,t,l),!e._initted)return 1;if(!r&&e._pt&&!en&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&US!==zn.frame)return Ys.push(e),e._lazy=[l,s],1},mx=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},m_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},px=function(e,t,r,s){var l=e.ratio,u=t<0||!t&&(!e._start&&mx(e)&&!(!e._initted&&m_(e))||(e._ts<0||e._dp._ts<0)&&!m_(e))?0:1,h=e._rDelay,d=0,p,_,v;if(h&&e._repeat&&(d=nh(0,e._tDur,t),_=Ml(d,h),e._yoyo&&_&1&&(u=1-u),_!==Ml(e._tTime,h)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||en||s||e._zTime===cn||!t&&e._zTime){if(!e._initted&&YS(e,t,s,r,d))return;for(v=e._zTime,e._zTime=t||(r?cn:0),r||(r=t&&!v),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,p=e._pt;p;)p.r(u,p.d),p=p._next;t<0&&d_(e,t,r,!0),e._onUpdate&&!r&&Bn(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&Bn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&ea(e,1),!r&&!en&&(Bn(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},gx=function(e,t,r){var s;if(r>t)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},Pl=function(e,t,r,s){var l=e._repeat,u=It(t)||0,h=e._tTime/e._tDur;return h&&!s&&(e._time*=u/e._dur),e._dur=u,e._tDur=l?l<0?1e10:It(u*(l+1)+e._rDelay*l):u,h>0&&!s&&Xd(e,e._tTime=e._tDur*h),e.parent&&$d(e),r||ro(e.parent,e),e},ew=function(e){return e instanceof En?ro(e):Pl(e,e._dur)},_x={_start:0,endTime:xc,totalDuration:xc},ur=function n(e,t,r){var s=e.labels,l=e._recent||_x,u=e.duration()>=Wr?l.endTime(!1):e._dur,h,d,p;return Yt(t)&&(isNaN(t)||t in s)?(d=t.charAt(0),p=t.substr(-1)==="%",h=t.indexOf("="),d==="<"||d===">"?(h>=0&&(t=t.replace(/=/,"")),(d==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(h<0?l:r).totalDuration()/100:1)):h<0?(t in s||(s[t]=u),s[t]):(d=parseFloat(t.charAt(h-1)+t.substr(h+1)),p&&r&&(d=d/100*(hn(r)?r[0]:r).totalDuration()),h>1?n(e,t.substr(0,h-1),r)+d:u+d)):t==null?u:+t},vc=function(e,t,r){var s=Qi(t[1]),l=(s?2:1)+(e<2?0:1),u=t[l],h,d;if(s&&(u.duration=t[1]),u.parent=r,e){for(h=u,d=r;d&&!("immediateRender"in h);)h=d.vars.defaults||{},d=Rn(d.vars.inherit)&&d.parent;u.immediateRender=Rn(h.immediateRender),e<2?u.runBackwards=1:u.startAt=t[l-1]}return new Ct(t[0],u,t[l+1])},fa=function(e,t){return e||e===0?t(e):t},nh=function(e,t,r){return r<e?e:r>t?t:r},un=function(e,t){return!Yt(e)||!(t=ax.exec(e))?"":t[1]},yx=function(e,t,r){return fa(r,function(s){return nh(e,t,s)})},p_=[].slice,QS=function(e,t){return e&&ii(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ii(e[0]))&&!e.nodeType&&e!==Qr},vx=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(s){var l;return Yt(s)&&!t||QS(s,1)?(l=r).push.apply(l,dr(s)):r.push(s)})||r},dr=function(e,t,r){return it&&!t&&it.selector?it.selector(e):Yt(e)&&!r&&(h_||!kl())?p_.call((t||cy).querySelectorAll(e),0):hn(e)?vx(e,r):QS(e)?p_.call(e,0):e?[e]:[]},g_=function(e){return e=dr(e)[0]||Oc("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return dr(t,r.querySelectorAll?r:r===e?Oc("Invalid scope")||cy.createElement("div"):e)}},KS=function(e){return e.sort(function(){return .5-Math.random()})},$S=function(e){if(_t(e))return e;var t=ii(e)?e:{each:e},r=io(t.ease),s=t.from||0,l=parseFloat(t.base)||0,u={},h=s>0&&s<1,d=isNaN(s)||h,p=t.axis,_=s,v=s;return Yt(s)?_=v={center:.5,edges:.5,end:1}[s]||0:!h&&d&&(_=s[0],v=s[1]),function(w,b,R){var S=(R||t).length,D=u[S],k,L,V,H,q,X,x,C,A;if(!D){if(A=t.grid==="auto"?0:(t.grid||[1,Wr])[1],!A){for(x=-1e8;x<(x=R[A++].getBoundingClientRect().left)&&A<S;);A<S&&A--}for(D=u[S]=[],k=d?Math.min(A,S)*_-.5:s%A,L=A===Wr?0:d?S*v/A-.5:s/A|0,x=0,C=Wr,X=0;X<S;X++)V=X%A-k,H=L-(X/A|0),D[X]=q=p?Math.abs(p==="y"?H:V):OS(V*V+H*H),q>x&&(x=q),q<C&&(C=q);s==="random"&&KS(D),D.max=x-C,D.min=C,D.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(A>S?S-1:p?p==="y"?S/A:A:Math.max(A,S/A))||0)*(s==="edges"?-1:1),D.b=S<0?l-S:l,D.u=un(t.amount||t.each)||0,r=r&&S<0?sA(r):r}return S=(D[w]-D.min)/D.max||0,It(D.b+(r?r(S):S)*D.v)+D.u}},__=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=It(Math.round(parseFloat(r)/e)*e*t);return(s-s%1)/t+(Qi(r)?0:un(r))}},XS=function(e,t){var r=hn(e),s,l;return!r&&ii(e)&&(s=r=e.radius||Wr,e.values?(e=dr(e.values),(l=!Qi(e[0]))&&(s*=s)):e=__(e.increment)),fa(t,r?_t(e)?function(u){return l=e(u),Math.abs(l-u)<=s?l:u}:function(u){for(var h=parseFloat(l?u.x:u),d=parseFloat(l?u.y:0),p=Wr,_=0,v=e.length,w,b;v--;)l?(w=e[v].x-h,b=e[v].y-d,w=w*w+b*b):w=Math.abs(e[v]-h),w<p&&(p=w,_=v);return _=!s||p<=s?e[_]:u,l||_===u||Qi(u)?_:_+un(u)}:__(e))},WS=function(e,t,r,s){return fa(hn(e)?!t:r===!0?!!(r=0):!s,function(){return hn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*s)/s})},Ex=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduce(function(l,u){return u(l)},s)}},Tx=function(e,t){return function(r){return e(parseFloat(r))+(t||un(r))}},wx=function(e,t,r){return JS(e,t,0,1,r)},ZS=function(e,t,r){return fa(r,function(s){return e[~~t(s)]})},bx=function n(e,t,r){var s=t-e;return hn(e)?ZS(e,n(0,e.length),t):fa(r,function(l){return(s+(l-e)%s)%s+e})},Sx=function n(e,t,r){var s=t-e,l=s*2;return hn(e)?ZS(e,n(0,e.length-1),t):fa(r,function(u){return u=(l+(u-e)%l)%l||0,e+(u>s?l-u:u)})},Nc=function(e){for(var t=0,r="",s,l,u,h;~(s=e.indexOf("random(",t));)u=e.indexOf(")",s),h=e.charAt(s+7)==="[",l=e.substr(s+7,u-s-7).match(h?PS:c_),r+=e.substr(t,s-t)+WS(h?l:+l[0],h?0:+l[1],+l[2]||1e-5),t=u+1;return r+e.substr(t,e.length-t)},JS=function(e,t,r,s,l){var u=t-e,h=s-r;return fa(l,function(d){return r+((d-e)/u*h||0)})},Ax=function n(e,t,r,s){var l=isNaN(e+t)?0:function(b){return(1-b)*e+b*t};if(!l){var u=Yt(e),h={},d,p,_,v,w;if(r===!0&&(s=1)&&(r=null),u)e={p:e},t={p:t};else if(hn(e)&&!hn(t)){for(_=[],v=e.length,w=v-2,p=1;p<v;p++)_.push(n(e[p-1],e[p]));v--,l=function(R){R*=v;var S=Math.min(w,~~R);return _[S](R-S)},r=t}else s||(e=Nl(hn(e)?[]:{},e));if(!_){for(d in t)py.call(h,e,d,"get",t[d]);l=function(R){return vy(R,h)||(u?e.p:e)}}}return fa(r,l)},tw=function(e,t,r){var s=e.labels,l=Wr,u,h,d;for(u in s)h=s[u]-t,h<0==!!r&&h&&l>(h=Math.abs(h))&&(d=u,l=h);return d},Bn=function(e,t,r){var s=e.vars,l=s[t],u=it,h=e._ctx,d,p,_;if(l)return d=s[t+"Params"],p=s.callbackScope||e,r&&Ys.length&&cd(),h&&(it=h),_=d?l.apply(p,d):l.call(p),it=u,_},hc=function(e){return ea(e),e.scrollTrigger&&e.scrollTrigger.kill(!!en),e.progress()<1&&Bn(e,"onInterrupt"),e},bl,eA=[],tA=function(e){if(e)if(e=!e.name&&e.default||e,uy()||e.headless){var t=e.name,r=_t(e),s=t&&!r&&e.init?function(){this._props=[]}:e,l={init:xc,render:vy,add:py,kill:jx,modifier:Bx,rawVars:0},u={targetTest:0,get:0,getSetter:yy,aliases:{},register:0};if(kl(),e!==s){if(Un[t])return;Fn(s,Fn(hd(e,l),u)),Nl(s.prototype,Nl(l,hd(e,u))),Un[s.prop=t]=s,e.targetTest&&($f.push(s),fy[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}LS(t,s),e.register&&e.register(On,s,In)}else eA.push(e)},et=255,fc={aqua:[0,et,et],lime:[0,et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,et],navy:[0,0,128],white:[et,et,et],olive:[128,128,0],yellow:[et,et,0],orange:[et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[et,0,0],pink:[et,192,203],cyan:[0,et,et],transparent:[et,et,et,0]},Ug=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*et+.5|0},nA=function(e,t,r){var s=e?Qi(e)?[e>>16,e>>8&et,e&et]:0:fc.black,l,u,h,d,p,_,v,w,b,R;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),fc[e])s=fc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),u=e.charAt(2),h=e.charAt(3),e="#"+l+l+u+u+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&et,s&et,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&et,e&et]}else if(e.substr(0,3)==="hsl"){if(s=R=e.match(c_),!t)d=+s[0]%360/360,p=+s[1]/100,_=+s[2]/100,u=_<=.5?_*(p+1):_+p-_*p,l=_*2-u,s.length>3&&(s[3]*=1),s[0]=Ug(d+1/3,l,u),s[1]=Ug(d,l,u),s[2]=Ug(d-1/3,l,u);else if(~e.indexOf("="))return s=e.match(NS),r&&s.length<4&&(s[3]=1),s}else s=e.match(c_)||fc.transparent;s=s.map(Number)}return t&&!R&&(l=s[0]/et,u=s[1]/et,h=s[2]/et,v=Math.max(l,u,h),w=Math.min(l,u,h),_=(v+w)/2,v===w?d=p=0:(b=v-w,p=_>.5?b/(2-v-w):b/(v+w),d=v===l?(u-h)/b+(u<h?6:0):v===u?(h-l)/b+2:(l-u)/b+4,d*=60),s[0]=~~(d+.5),s[1]=~~(p*100+.5),s[2]=~~(_*100+.5)),r&&s.length<4&&(s[3]=1),s},rA=function(e){var t=[],r=[],s=-1;return e.split(Qs).forEach(function(l){var u=l.match(wl)||[];t.push.apply(t,u),r.push(s+=u.length+1)}),t.c=r,t},nw=function(e,t,r){var s="",l=(e+s).match(Qs),u=t?"hsla(":"rgba(",h=0,d,p,_,v;if(!l)return e;if(l=l.map(function(w){return(w=nA(w,t,1))&&u+(t?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),r&&(_=rA(e),d=r.c,d.join(s)!==_.c.join(s)))for(p=e.replace(Qs,"1").split(wl),v=p.length-1;h<v;h++)s+=p[h]+(~d.indexOf(h)?l.shift()||u+"0,0,0,0)":(_.length?_:l.length?l:r).shift());if(!p)for(p=e.split(Qs),v=p.length-1;h<v;h++)s+=p[h]+l[h];return s+p[v]},Qs=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in fc)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Rx=/hsl[a]?\(/,iA=function(e){var t=e.join(" "),r;if(Qs.lastIndex=0,Qs.test(t))return r=Rx.test(t),e[1]=nw(e[1],r),e[0]=nw(e[0],r,rA(e[1])),!0},Mc,zn=function(){var n=Date.now,e=500,t=33,r=n(),s=r,l=1e3/240,u=l,h=[],d,p,_,v,w,b,R=function S(D){var k=n()-s,L=D===!0,V,H,q,X;if((k>e||k<0)&&(r+=k-t),s+=k,q=s-r,V=q-u,(V>0||L)&&(X=++v.frame,w=q-v.time*1e3,v.time=q=q/1e3,u+=V+(V>=l?4:l-V),H=1),L||(d=p(S)),H)for(b=0;b<h.length;b++)h[b](q,w,X,D)};return v={time:0,frame:0,tick:function(){R(!0)},deltaRatio:function(D){return w/(1e3/(D||60))},wake:function(){kS&&(!h_&&uy()&&(Qr=h_=window,cy=Qr.document||{},qn.gsap=On,(Qr.gsapVersions||(Qr.gsapVersions=[])).push(On.version),VS(ud||Qr.GreenSockGlobals||!Qr.gsap&&Qr||{}),eA.forEach(tA)),_=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&v.sleep(),p=_||function(D){return setTimeout(D,u-v.time*1e3+1|0)},Mc=1,R(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(d),Mc=0,p=xc},lagSmoothing:function(D,k){e=D||1/0,t=Math.min(k||33,e)},fps:function(D){l=1e3/(D||240),u=v.time*1e3+l},add:function(D,k,L){var V=k?function(H,q,X,x){D(H,q,X,x),v.remove(V)}:D;return v.remove(D),h[L?"unshift":"push"](V),kl(),V},remove:function(D,k){~(k=h.indexOf(D))&&h.splice(k,1)&&b>=k&&b--},_listeners:h},v}(),kl=function(){return!Mc&&zn.wake()},Ue={},Cx=/^[\d.\-M][\d.\-,\s]/,Ix=/["']/g,Dx=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),s=r[0],l=1,u=r.length,h,d,p;l<u;l++)d=r[l],h=l!==u-1?d.lastIndexOf(","):d.length,p=d.substr(0,h),t[s]=isNaN(p)?p.replace(Ix,"").trim():+p,s=d.substr(h+1).trim();return t},Ox=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<r?e.indexOf(")",r+1):r)},xx=function(e){var t=(e+"").split("("),r=Ue[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Dx(t[1])]:Ox(e).split(",").map(jS)):Ue._CE&&Cx.test(e)?Ue._CE("",e):r},sA=function(e){return function(t){return 1-e(1-t)}},aA=function n(e,t){for(var r=e._first,s;r;)r instanceof En?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=t)),r=r._next},io=function(e,t){return e&&(_t(e)?e:Ue[e]||xx(e))||t},vo=function(e,t,r,s){r===void 0&&(r=function(d){return 1-t(1-d)}),s===void 0&&(s=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var l={easeIn:t,easeOut:r,easeInOut:s},u;return Cn(e,function(h){Ue[h]=qn[h]=l,Ue[u=h.toLowerCase()]=r;for(var d in l)Ue[u+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Ue[h+"."+d]=l[d]}),l},oA=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},zg=function n(e,t,r){var s=t>=1?t:1,l=(r||(e?.3:.45))/(t<1?t:1),u=l/u_*(Math.asin(1/s)||0),h=function(_){return _===1?1:s*Math.pow(2,-10*_)*sx((_-u)*l)+1},d=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:oA(h);return l=u_/l,d.config=function(p,_){return n(e,p,_)},d},Bg=function n(e,t){t===void 0&&(t=1.70158);var r=function(u){return u?--u*u*((t+1)*u+t)+1:0},s=e==="out"?r:e==="in"?function(l){return 1-r(1-l)}:oA(r);return s.config=function(l){return n(e,l)},s};Cn("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;vo(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ue.Linear.easeNone=Ue.none=Ue.Linear.easeIn;vo("Elastic",zg("in"),zg("out"),zg());(function(n,e){var t=1/e,r=2*t,s=2.5*t,l=function(h){return h<t?n*h*h:h<r?n*Math.pow(h-1.5/e,2)+.75:h<s?n*(h-=2.25/e)*h+.9375:n*Math.pow(h-2.625/e,2)+.984375};vo("Bounce",function(u){return 1-l(1-u)},l)})(7.5625,2.75);vo("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});vo("Circ",function(n){return-(OS(1-n*n)-1)});vo("Sine",function(n){return n===1?1:-ix(n*nx)+1});vo("Back",Bg("in"),Bg("out"),Bg());Ue.SteppedEase=Ue.steps=qn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,s=e+(t?0:1),l=t?1:0,u=1-cn;return function(h){return((s*nh(0,u,h)|0)+l)*r}}};xl.ease=Ue["quad.out"];Cn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return dy+=n+","+n+"Params,"});var lA=function(e,t){this.id=rx++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:zS,this.set=t?t.getSetter:yy},Pc=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Pl(this,+t.duration,1,1),this.data=t.data,it&&(this._ctx=it,it.data.push(this)),Mc||zn.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Pl(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(kl(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Xd(this,r),!l._dp||l.parent||HS(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&$r(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===cn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),BS(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+JT(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+JT(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*l,s):this._repeat?Ml(this._tTime,l)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var l=this.parent&&this._ts?fd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(nh(-Math.abs(this._delay),this._tDur,l),s!==!1),$d(this),fx(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(kl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==cn&&(this._tTime-=cn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&$r(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Rn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?fd(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=lx);var s=en;return en=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),en=s,this},e.globalTime=function(r){for(var s=this,l=arguments.length?r:s.rawTime();s;)l=s._start+l/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):l},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,ew(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,ew(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(ur(this,r),Rn(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,Rn(s)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,l;return!!(!r||this._ts&&this._initted&&r.isActive()&&(l=r.rawTime(!0))>=s&&l<this.endTime(!0)-cn)},e.eventCallback=function(r,s,l){var u=this.vars;return arguments.length>1?(s?(u[r]=s,l&&(u[r+"Params"]=l),r==="onUpdate"&&(this._onUpdate=s)):delete u[r],this):u[r]},e.then=function(r){var s=this;return new Promise(function(l){var u=_t(r)?r:qS,h=function(){var p=s.then;s.then=null,_t(u)&&(u=u(s))&&(u.then||u===s)&&(s.then=p),l(u),s.then=p};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?h():s._prom=h})},e.kill=function(){hc(this)},n}();Fn(Pc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var En=function(n){DS(e,n);function e(r,s){var l;return r===void 0&&(r={}),l=n.call(this,r)||this,l.labels={},l.smoothChildTiming=!!r.smoothChildTiming,l.autoRemoveChildren=!!r.autoRemoveChildren,l._sort=Rn(r.sortChildren),lt&&$r(r.parent||lt,Ui(l),s),r.reversed&&l.reverse(),r.paused&&l.paused(!0),r.scrollTrigger&&GS(Ui(l),r.scrollTrigger),l}var t=e.prototype;return t.to=function(s,l,u){return vc(0,arguments,this),this},t.from=function(s,l,u){return vc(1,arguments,this),this},t.fromTo=function(s,l,u,h){return vc(2,arguments,this),this},t.set=function(s,l,u){return l.duration=0,l.parent=this,yc(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new Ct(s,l,ur(this,u),1),this},t.call=function(s,l,u){return $r(this,Ct.delayedCall(0,s,l),u)},t.staggerTo=function(s,l,u,h,d,p,_){return u.duration=l,u.stagger=u.stagger||h,u.onComplete=p,u.onCompleteParams=_,u.parent=this,new Ct(s,u,ur(this,d)),this},t.staggerFrom=function(s,l,u,h,d,p,_){return u.runBackwards=1,yc(u).immediateRender=Rn(u.immediateRender),this.staggerTo(s,l,u,h,d,p,_)},t.staggerFromTo=function(s,l,u,h,d,p,_,v){return h.startAt=u,yc(h).immediateRender=Rn(h.immediateRender),this.staggerTo(s,l,h,d,p,_,v)},t.render=function(s,l,u){var h=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,_=s<=0?0:It(s),v=this._zTime<0!=s<0&&(this._initted||!p),w,b,R,S,D,k,L,V,H,q,X,x;if(this!==lt&&_>d&&s>=0&&(_=d),_!==this._tTime||u||v){if(h!==this._time&&p&&(_+=this._time-h,s+=this._time-h),w=_,H=this._start,V=this._ts,k=!V,v&&(p||(h=this._zTime),(s||!l)&&(this._zTime=s)),this._repeat){if(X=this._yoyo,D=p+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(D*100+s,l,u);if(w=It(_%D),_===d?(S=this._repeat,w=p):(q=It(_/D),S=~~q,S&&S===q&&(w=p,S--),w>p&&(w=p)),q=Ml(this._tTime,D),!h&&this._tTime&&q!==S&&this._tTime-q*D-this._dur<=0&&(q=S),X&&S&1&&(w=p-w,x=1),S!==q&&!this._lock){var C=X&&q&1,A=C===(X&&S&1);if(S<q&&(C=!C),h=C?0:_%p?p:_,this._lock=1,this.render(h||(x?0:It(S*D)),l,!p)._lock=0,this._tTime=_,!l&&this.parent&&Bn(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),h&&h!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,A&&(this._lock=2,h=C?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;aA(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=gx(this,It(h),It(w)),L&&(_-=w-(w=L._start))),this._tTime=_,this._time=w,this._act=!V,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,h=0),!h&&w&&!l&&!S&&(Bn(this,"onStart"),this._tTime!==_))return this;if(w>=h&&s>=0)for(b=this._first;b;){if(R=b._next,(b._act||w>=b._start)&&b._ts&&L!==b){if(b.parent!==this)return this.render(s,l,u);if(b.render(b._ts>0?(w-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(w-b._start)*b._ts,l,u),w!==this._time||!this._ts&&!k){L=0,R&&(_+=this._zTime=-1e-8);break}}b=R}else{b=this._last;for(var N=s<0?s:w;b;){if(R=b._prev,(b._act||N<=b._end)&&b._ts&&L!==b){if(b.parent!==this)return this.render(s,l,u);if(b.render(b._ts>0?(N-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(N-b._start)*b._ts,l,u||en&&(b._initted||b._startAt)),w!==this._time||!this._ts&&!k){L=0,R&&(_+=this._zTime=N?-1e-8:cn);break}}b=R}}if(L&&!l&&(this.pause(),L.render(w>=h?0:-1e-8)._zTime=w>=h?1:-1,this._ts))return this._start=H,$d(this),this.render(s,l,u);this._onUpdate&&!l&&Bn(this,"onUpdate",!0),(_===d&&this._tTime>=this.totalDuration()||!_&&h)&&(H===this._start||Math.abs(V)!==Math.abs(this._ts))&&(this._lock||((s||!p)&&(_===d&&this._ts>0||!_&&this._ts<0)&&ea(this,1),!l&&!(s<0&&!h)&&(_||h||!d)&&(Bn(this,_===d&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,l){var u=this;if(Qi(l)||(l=ur(this,l,s)),!(s instanceof Pc)){if(hn(s))return s.forEach(function(h){return u.add(h,l)}),this;if(Yt(s))return this.addLabel(s,l);if(_t(s))s=Ct.delayedCall(0,s);else return this}return this!==s?$r(this,s,l):this},t.getChildren=function(s,l,u,h){s===void 0&&(s=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),h===void 0&&(h=-1e8);for(var d=[],p=this._first;p;)p._start>=h&&(p instanceof Ct?l&&d.push(p):(u&&d.push(p),s&&d.push.apply(d,p.getChildren(!0,l,u)))),p=p._next;return d},t.getById=function(s){for(var l=this.getChildren(1,1,1),u=l.length;u--;)if(l[u].vars.id===s)return l[u]},t.remove=function(s){return Yt(s)?this.removeLabel(s):_t(s)?this.killTweensOf(s):(s.parent===this&&Kd(this,s),s===this._recent&&(this._recent=this._last),ro(this))},t.totalTime=function(s,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=It(zn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,l),this._forcing=0,this):this._tTime},t.addLabel=function(s,l){return this.labels[s]=ur(this,l),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,l,u){var h=Ct.delayedCall(0,l||xc,u);return h.data="isPause",this._hasPause=1,$r(this,h,ur(this,s))},t.removePause=function(s){var l=this._first;for(s=ur(this,s);l;)l._start===s&&l.data==="isPause"&&ea(l),l=l._next},t.killTweensOf=function(s,l,u){for(var h=this.getTweensOf(s,u),d=h.length;d--;)qs!==h[d]&&h[d].kill(s,l);return this},t.getTweensOf=function(s,l){for(var u=[],h=dr(s),d=this._first,p=Qi(l),_;d;)d instanceof Ct?ux(d._targets,h)&&(p?(!qs||d._initted&&d._ts)&&d.globalTime(0)<=l&&d.globalTime(d.totalDuration())>l:!l||d.isActive())&&u.push(d):(_=d.getTweensOf(h,l)).length&&u.push.apply(u,_),d=d._next;return u},t.tweenTo=function(s,l){l=l||{};var u=this,h=ur(u,s),d=l,p=d.startAt,_=d.onStart,v=d.onStartParams,w=d.immediateRender,b,R=Ct.to(u,Fn({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale())||cn,onStart:function(){if(u.pause(),!b){var D=l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale());R._dur!==D&&Pl(R,D,0,1).render(R._time,!0,!0),b=1}_&&_.apply(R,v||[])}},l));return w?R.render(0):R},t.tweenFromTo=function(s,l,u){return this.tweenTo(l,Fn({startAt:{time:ur(this,s)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),tw(this,ur(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),tw(this,ur(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+cn)},t.shiftChildren=function(s,l,u){u===void 0&&(u=0);for(var h=this._first,d=this.labels,p;h;)h._start>=u&&(h._start+=s,h._end+=s),h=h._next;if(l)for(p in d)d[p]>=u&&(d[p]+=s);return ro(this)},t.invalidate=function(s){var l=this._first;for(this._lock=0;l;)l.invalidate(s),l=l._next;return n.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var l=this._first,u;l;)u=l._next,this.remove(l),l=u;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),ro(this)},t.totalDuration=function(s){var l=0,u=this,h=u._last,d=Wr,p,_,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-s:s));if(u._dirty){for(v=u.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),_=h._start,_>d&&u._sort&&h._ts&&!u._lock?(u._lock=1,$r(u,h,_-h._delay,1)._lock=0):d=_,_<0&&h._ts&&(l-=_,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=_/u._ts,u._time-=_,u._tTime-=_),u.shiftChildren(-_,!1,-1/0),d=0),h._end>l&&h._ts&&(l=h._end),h=p;Pl(u,u===lt&&u._time>l?u._time:l,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(s){if(lt._ts&&(BS(lt,fd(s,lt)),US=zn.frame),zn.frame>=WT){WT+=jn.autoSleep||120;var l=lt._first;if((!l||!l._ts)&&jn.autoSleep&&zn._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||zn.sleep()}}},e}(Pc);Fn(En.prototype,{_lock:0,_hasPause:0,_forcing:0});var Nx=function(e,t,r,s,l,u,h){var d=new In(this._pt,e,t,0,1,mA,null,l),p=0,_=0,v,w,b,R,S,D,k,L;for(d.b=r,d.e=s,r+="",s+="",(k=~s.indexOf("random("))&&(s=Nc(s)),u&&(L=[r,s],u(L,e,t),r=L[0],s=L[1]),w=r.match(Vg)||[];v=Vg.exec(s);)R=v[0],S=s.substring(p,v.index),b?b=(b+1)%5:S.substr(-5)==="rgba("&&(b=1),R!==w[_++]&&(D=parseFloat(w[_-1])||0,d._pt={_next:d._pt,p:S||_===1?S:",",s:D,c:R.charAt(1)==="="?Sl(D,R)-D:parseFloat(R)-D,m:b&&b<4?Math.round:0},p=Vg.lastIndex);return d.c=p<s.length?s.substring(p,s.length):"",d.fp=h,(MS.test(s)||k)&&(d.e=0),this._pt=d,d},py=function(e,t,r,s,l,u,h,d,p,_){_t(s)&&(s=s(l||0,e,u));var v=e[t],w=r!=="get"?r:_t(v)?p?e[t.indexOf("set")||!_t(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():v,b=_t(v)?p?Lx:fA:_y,R;if(Yt(s)&&(~s.indexOf("random(")&&(s=Nc(s)),s.charAt(1)==="="&&(R=Sl(w,s)+(un(w)||0),(R||R===0)&&(s=R))),!_||w!==s||y_)return!isNaN(w*s)&&s!==""?(R=new In(this._pt,e,t,+w||0,s-(w||0),typeof v=="boolean"?zx:dA,0,b),p&&(R.fp=p),h&&R.modifier(h,this,e),this._pt=R):(!v&&!(t in e)&&hy(t,s),Nx.call(this,e,t,w,s,b,d||jn.stringFilter,p))},Mx=function(e,t,r,s,l){if(_t(e)&&(e=Ec(e,l,t,r,s)),!ii(e)||e.style&&e.nodeType||hn(e)||xS(e))return Yt(e)?Ec(e,l,t,r,s):e;var u={},h;for(h in e)u[h]=Ec(e[h],l,t,r,s);return u},uA=function(e,t,r,s,l,u){var h,d,p,_;if(Un[e]&&(h=new Un[e]).init(l,h.rawVars?t[e]:Mx(t[e],s,l,u,r),r,s,u)!==!1&&(r._pt=d=new In(r._pt,l,e,0,1,h.render,h,0,h.priority),r!==bl))for(p=r._ptLookup[r._targets.indexOf(l)],_=h._props.length;_--;)p[h._props[_]]=d;return h},qs,y_,gy=function n(e,t,r){var s=e.vars,l=s.ease,u=s.startAt,h=s.immediateRender,d=s.lazy,p=s.onUpdate,_=s.runBackwards,v=s.yoyoEase,w=s.keyframes,b=s.autoRevert,R=e._dur,S=e._startAt,D=e._targets,k=e.parent,L=k&&k.data==="nested"?k.vars.targets:D,V=e._overwrite==="auto"&&!oy,H=e.timeline,q,X,x,C,A,N,U,B,M,xe,Ie,ae,he;if(H&&(!w||!l)&&(l="none"),e._ease=io(l,xl.ease),e._yEase=v?sA(io(v===!0?l:v,xl.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!H&&!!s.runBackwards,!H||w&&!s.stagger){if(B=D[0]?no(D[0]).harness:0,ae=B&&s[B.prop],q=hd(s,fy),S&&(S._zTime<0&&S.progress(1),t<0&&_&&h&&!b?S.render(-1,!0):S.revert(_&&R?Kf:ox),S._lazy=0),u){if(ea(e._startAt=Ct.set(D,Fn({data:"isStart",overwrite:!1,parent:k,immediateRender:!0,lazy:!S&&Rn(d),startAt:null,delay:0,onUpdate:p&&function(){return Bn(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(en||!h&&!b)&&e._startAt.revert(Kf),h&&R&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(_&&R&&!S){if(t&&(h=!1),x=Fn({overwrite:!1,data:"isFromStart",lazy:h&&!S&&Rn(d),immediateRender:h,stagger:0,parent:k},q),ae&&(x[B.prop]=ae),ea(e._startAt=Ct.set(D,x)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(en?e._startAt.revert(Kf):e._startAt.render(-1,!0)),e._zTime=t,!h)n(e._startAt,cn,cn);else if(!t)return}for(e._pt=e._ptCache=0,d=R&&Rn(d)||d&&!R,X=0;X<D.length;X++){if(A=D[X],U=A._gsap||my(D)[X]._gsap,e._ptLookup[X]=xe={},f_[U.id]&&Ys.length&&cd(),Ie=L===D?X:L.indexOf(A),B&&(M=new B).init(A,ae||q,e,Ie,L)!==!1&&(e._pt=C=new In(e._pt,A,M.name,0,1,M.render,M,0,M.priority),M._props.forEach(function(de){xe[de]=C}),M.priority&&(N=1)),!B||ae)for(x in q)Un[x]&&(M=uA(x,q,e,Ie,A,L))?M.priority&&(N=1):xe[x]=C=py.call(e,A,x,"get",q[x],Ie,L,0,s.stringFilter);e._op&&e._op[X]&&e.kill(A,e._op[X]),V&&e._pt&&(qs=e,lt.killTweensOf(A,xe,e.globalTime(t)),he=!e.parent,qs=0),e._pt&&d&&(f_[U.id]=1)}N&&pA(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!he,w&&t<=0&&H.render(Wr,!0,!0)},Px=function(e,t,r,s,l,u,h,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],_,v,w,b;if(!p)for(p=e._ptCache[t]=[],w=e._ptLookup,b=e._targets.length;b--;){if(_=w[b][t],_&&_.d&&_.d._pt)for(_=_.d._pt;_&&_.p!==t&&_.fp!==t;)_=_._next;if(!_)return y_=1,e.vars[t]="+=0",gy(e,h),y_=0,d?Oc(t+" not eligible for reset"):1;p.push(_)}for(b=p.length;b--;)v=p[b],_=v._pt||v,_.s=(s||s===0)&&!l?s:_.s+(s||0)+u*_.c,_.c=r-_.s,v.e&&(v.e=Et(r)+un(v.e)),v.b&&(v.b=_.s+un(v.b))},kx=function(e,t){var r=e[0]?no(e[0]).harness:0,s=r&&r.aliases,l,u,h,d;if(!s)return t;l=Nl({},t);for(u in s)if(u in l)for(d=s[u].split(","),h=d.length;h--;)l[d[h]]=l[u];return l},Vx=function(e,t,r,s){var l=t.ease||s||"power1.inOut",u,h;if(hn(t))h=r[e]||(r[e]=[]),t.forEach(function(d,p){return h.push({t:p/(t.length-1)*100,v:d,e:l})});else for(u in t)h=r[u]||(r[u]=[]),u==="ease"||h.push({t:parseFloat(e),v:t[u],e:l})},Ec=function(e,t,r,s,l){return _t(e)?e.call(t,r,s,l):Yt(e)&&~e.indexOf("random(")?Nc(e):e},cA=dy+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",hA={};Cn(cA+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return hA[n]=1});var Ct=function(n){DS(e,n);function e(r,s,l,u){var h;typeof s=="number"&&(l.duration=s,s=l,l=null),h=n.call(this,u?s:yc(s))||this;var d=h.vars,p=d.duration,_=d.delay,v=d.immediateRender,w=d.stagger,b=d.overwrite,R=d.keyframes,S=d.defaults,D=d.scrollTrigger,k=d.yoyoEase,L=s.parent||lt,V=(hn(r)||xS(r)?Qi(r[0]):"length"in s)?[r]:dr(r),H,q,X,x,C,A,N,U;if(h._targets=V.length?my(V):Oc("GSAP target "+r+" not found. https://gsap.com",!jn.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=b,R||w||Lf(p)||Lf(_)){if(s=h.vars,H=h.timeline=new En({data:"nested",defaults:S||{},targets:L&&L.data==="nested"?L.vars.targets:V}),H.kill(),H.parent=H._dp=Ui(h),H._start=0,w||Lf(p)||Lf(_)){if(x=V.length,N=w&&$S(w),ii(w))for(C in w)~cA.indexOf(C)&&(U||(U={}),U[C]=w[C]);for(q=0;q<x;q++)X=hd(s,hA),X.stagger=0,k&&(X.yoyoEase=k),U&&Nl(X,U),A=V[q],X.duration=+Ec(p,Ui(h),q,A,V),X.delay=(+Ec(_,Ui(h),q,A,V)||0)-h._delay,!w&&x===1&&X.delay&&(h._delay=_=X.delay,h._start+=_,X.delay=0),H.to(A,X,N?N(q,A,V):0),H._ease=Ue.none;H.duration()?p=_=0:h.timeline=0}else if(R){yc(Fn(H.vars.defaults,{ease:"none"})),H._ease=io(R.ease||s.ease||"none");var B=0,M,xe,Ie;if(hn(R))R.forEach(function(ae){return H.to(V,ae,">")}),H.duration();else{X={};for(C in R)C==="ease"||C==="easeEach"||Vx(C,R[C],X,R.easeEach);for(C in X)for(M=X[C].sort(function(ae,he){return ae.t-he.t}),B=0,q=0;q<M.length;q++)xe=M[q],Ie={ease:xe.e,duration:(xe.t-(q?M[q-1].t:0))/100*p},Ie[C]=xe.v,H.to(V,Ie,B),B+=Ie.duration;H.duration()<p&&H.to({},{duration:p-H.duration()})}}p||h.duration(p=H.duration())}else h.timeline=0;return b===!0&&!oy&&(qs=Ui(h),lt.killTweensOf(V),qs=0),$r(L,Ui(h),l),s.reversed&&h.reverse(),s.paused&&h.paused(!0),(v||!p&&!R&&h._start===It(L._time)&&Rn(v)&&dx(Ui(h))&&L.data!=="nested")&&(h._tTime=-1e-8,h.render(Math.max(0,-_)||0)),D&&GS(Ui(h),D),h}var t=e.prototype;return t.render=function(s,l,u){var h=this._time,d=this._tDur,p=this._dur,_=s<0,v=s>d-cn&&!_?d:s<cn?0:s,w,b,R,S,D,k,L,V,H;if(!p)px(this,s,l,u);else if(v!==this._tTime||!s||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(w=v,V=this.timeline,this._repeat){if(S=p+this._rDelay,this._repeat<-1&&_)return this.totalTime(S*100+s,l,u);if(w=It(v%S),v===d?(R=this._repeat,w=p):(D=It(v/S),R=~~D,R&&R===D?(w=p,R--):w>p&&(w=p)),k=this._yoyo&&R&1,k&&(H=this._yEase,w=p-w),D=Ml(this._tTime,S),w===h&&!u&&this._initted&&R===D)return this._tTime=v,this;R!==D&&(V&&this._yEase&&aA(V,k),this.vars.repeatRefresh&&!k&&!this._lock&&w!==S&&this._initted&&(this._lock=u=1,this.render(It(S*R),!0).invalidate()._lock=0))}if(!this._initted){if(YS(this,_?s:w,u,l,v))return this._tTime=0,this;if(h!==this._time&&!(u&&this.vars.repeatRefresh&&R!==D))return this;if(p!==this._dur)return this.render(s,l,u)}if(this._tTime=v,this._time=w,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(H||this._ease)(w/p),this._from&&(this.ratio=L=1-L),w&&!h&&!l&&!R&&(Bn(this,"onStart"),this._tTime!==v))return this;for(b=this._pt;b;)b.r(L,b.d),b=b._next;V&&V.render(s<0?s:V._dur*V._ease(w/this._dur),l,u)||this._startAt&&(this._zTime=s),this._onUpdate&&!l&&(_&&d_(this,s,l,u),Bn(this,"onUpdate")),this._repeat&&R!==D&&this.vars.onRepeat&&!l&&this.parent&&Bn(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(_&&!this._onUpdate&&d_(this,s,!0,!0),(s||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&ea(this,1),!l&&!(_&&!h)&&(v||h||k)&&(Bn(this,v===d?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},t.resetTo=function(s,l,u,h,d){Mc||zn.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_;return this._initted||gy(this,p),_=this._ease(p/this._dur),Px(this,s,l,u,h,_,p,d)?this.resetTo(s,l,u,h,1):(Xd(this,0),this.parent||FS(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,l){if(l===void 0&&(l="all"),!s&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?hc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!en),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(s,l,qs&&qs.vars.overwrite!==!0)._first||hc(this),this.parent&&u!==this.timeline.totalDuration()&&Pl(this,this._dur*this.timeline._tDur/u,0,1),this}var h=this._targets,d=s?dr(s):h,p=this._ptLookup,_=this._pt,v,w,b,R,S,D,k;if((!l||l==="all")&&hx(h,d))return l==="all"&&(this._pt=0),hc(this);for(v=this._op=this._op||[],l!=="all"&&(Yt(l)&&(S={},Cn(l,function(L){return S[L]=1}),l=S),l=kx(h,l)),k=h.length;k--;)if(~d.indexOf(h[k])){w=p[k],l==="all"?(v[k]=l,R=w,b={}):(b=v[k]=v[k]||{},R=l);for(S in R)D=w&&w[S],D&&((!("kill"in D.d)||D.d.kill(S)===!0)&&Kd(this,D,"_pt"),delete w[S]),b!=="all"&&(b[S]=1)}return this._initted&&!this._pt&&_&&hc(this),this},e.to=function(s,l){return new e(s,l,arguments[2])},e.from=function(s,l){return vc(1,arguments)},e.delayedCall=function(s,l,u,h){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:l,onReverseComplete:l,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:h})},e.fromTo=function(s,l,u){return vc(2,arguments)},e.set=function(s,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(s,l)},e.killTweensOf=function(s,l,u){return lt.killTweensOf(s,l,u)},e}(Pc);Fn(Ct.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Cn("staggerTo,staggerFrom,staggerFromTo",function(n){Ct[n]=function(){var e=new En,t=p_.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var _y=function(e,t,r){return e[t]=r},fA=function(e,t,r){return e[t](r)},Lx=function(e,t,r,s){return e[t](s.fp,r)},Ux=function(e,t,r){return e.setAttribute(t,r)},yy=function(e,t){return _t(e[t])?fA:ly(e[t])&&e.setAttribute?Ux:_y},dA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},zx=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},mA=function(e,t){var r=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=t.c}t.set(t.t,t.p,s,t)},vy=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Bx=function(e,t,r,s){for(var l=this._pt,u;l;)u=l._next,l.p===s&&l.modifier(e,t,r),l=u},jx=function(e){for(var t=this._pt,r,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?Kd(this,t,"_pt"):t.dep||(r=1),t=s;return!r},qx=function(e,t,r,s){s.mSet(e,t,s.m.call(s.tween,r,s.mt),s)},pA=function(e){for(var t=e._pt,r,s,l,u;t;){for(r=t._next,s=l;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:u)?t._prev._next=t:l=t,(t._next=s)?s._prev=t:u=t,t=r}e._pt=l},In=function(){function n(t,r,s,l,u,h,d,p,_){this.t=r,this.s=l,this.c=u,this.p=s,this.r=h||dA,this.d=d||this,this.set=p||_y,this.pr=_||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,s,l){this.mSet=this.mSet||this.set,this.set=qx,this.m=r,this.mt=l,this.tween=s},n}();Cn(dy+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return fy[n]=1});qn.TweenMax=qn.TweenLite=Ct;qn.TimelineLite=qn.TimelineMax=En;lt=new En({sortChildren:!1,defaults:xl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});jn.stringFilter=iA;var so=[],Xf={},Fx=[],rw=0,Hx=0,jg=function(e){return(Xf[e]||Fx).map(function(t){return t()})},v_=function(){var e=Date.now(),t=[];e-rw>2&&(jg("matchMediaInit"),so.forEach(function(r){var s=r.queries,l=r.conditions,u,h,d,p;for(h in s)u=Qr.matchMedia(s[h]).matches,u&&(d=1),u!==l[h]&&(l[h]=u,p=1);p&&(r.revert(),d&&t.push(r))}),jg("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),rw=e,jg("matchMedia"))},gA=function(){function n(t,r){this.selector=r&&g_(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Hx++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,s,l){_t(r)&&(l=s,s=r,r=_t);var u=this,h=function(){var p=it,_=u.selector,v;return p&&p!==u&&p.data.push(u),l&&(u.selector=g_(l)),it=u,v=s.apply(u,arguments),_t(v)&&u._r.push(v),it=p,u.selector=_,u.isReverted=!1,v};return u.last=h,r===_t?h(u,function(d){return u.add(null,d)}):r?u[r]=h:h},e.ignore=function(r){var s=it;it=null,r(this),it=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof n?r.push.apply(r,s.getTweens()):s instanceof Ct&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var l=this;if(r?function(){for(var h=l.getTweens(),d=l.data.length,p;d--;)p=l.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(_){return h.splice(h.indexOf(_),1)}));for(h.map(function(_){return{g:_._dur||_._delay||_._sat&&!_._sat.vars.immediateRender?_.globalTime(0):-1/0,t:_}}).sort(function(_,v){return v.g-_.g||-1/0}).forEach(function(_){return _.t.revert(r)}),d=l.data.length;d--;)p=l.data[d],p instanceof En?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof Ct)&&p.revert&&p.revert(r);l._r.forEach(function(_){return _(r,l)}),l.isReverted=!0}():this.data.forEach(function(h){return h.kill&&h.kill()}),this.clear(),s)for(var u=so.length;u--;)so[u].id===this.id&&so.splice(u,1)},e.revert=function(r){this.kill(r||{})},n}(),Gx=function(){function n(t){this.contexts=[],this.scope=t,it&&it.data.push(this)}var e=n.prototype;return e.add=function(r,s,l){ii(r)||(r={matches:r});var u=new gA(0,l||this.scope),h=u.conditions={},d,p,_;it&&!u.selector&&(u.selector=it.selector),this.contexts.push(u),s=u.add("onMatch",s),u.queries=r;for(p in r)p==="all"?_=1:(d=Qr.matchMedia(r[p]),d&&(so.indexOf(u)<0&&so.push(u),(h[p]=d.matches)&&(_=1),d.addListener?d.addListener(v_):d.addEventListener("change",v_)));return _&&s(u,function(v){return u.add(null,v)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},n}(),dd={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(s){return tA(s)})},timeline:function(e){return new En(e)},getTweensOf:function(e,t){return lt.getTweensOf(e,t)},getProperty:function(e,t,r,s){Yt(e)&&(e=dr(e)[0]);var l=no(e||{}).get,u=r?qS:jS;return r==="native"&&(r=""),e&&(t?u((Un[t]&&Un[t].get||l)(e,t,r,s)):function(h,d,p){return u((Un[h]&&Un[h].get||l)(e,h,d,p))})},quickSetter:function(e,t,r){if(e=dr(e),e.length>1){var s=e.map(function(_){return On.quickSetter(_,t,r)}),l=s.length;return function(_){for(var v=l;v--;)s[v](_)}}e=e[0]||{};var u=Un[t],h=no(e),d=h.harness&&(h.harness.aliases||{})[t]||t,p=u?function(_){var v=new u;bl._pt=0,v.init(e,r?_+r:_,bl,0,[e]),v.render(1,v),bl._pt&&vy(1,bl)}:h.set(e,d);return u?p:function(_){return p(e,d,r?_+r:_,h,1)}},quickTo:function(e,t,r){var s,l=On.to(e,Fn((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),u=function(d,p,_){return l.resetTo(t,d,p,_)};return u.tween=l,u},isTweening:function(e){return lt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=io(e.ease,xl.ease)),ZT(xl,e||{})},config:function(e){return ZT(jn,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.plugins,l=e.defaults,u=e.extendTimeline;(s||"").split(",").forEach(function(h){return h&&!Un[h]&&!qn[h]&&Oc(t+" effect requires "+h+" plugin.")}),Lg[t]=function(h,d,p){return r(dr(h),Fn(d||{},l),p)},u&&(En.prototype[t]=function(h,d,p){return this.add(Lg[t](h,ii(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){Ue[e]=io(t)},parseEase:function(e,t){return arguments.length?io(e,t):Ue},getById:function(e){return lt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new En(e),s,l;for(r.smoothChildTiming=Rn(e.smoothChildTiming),lt.remove(r),r._dp=0,r._time=r._tTime=lt._time,s=lt._first;s;)l=s._next,(t||!(!s._dur&&s instanceof Ct&&s.vars.onComplete===s._targets[0]))&&$r(r,s,s._start-s._delay),s=l;return $r(lt,r,0),r},context:function(e,t){return e?new gA(e,t):it},matchMedia:function(e){return new Gx(e)},matchMediaRefresh:function(){return so.forEach(function(e){var t=e.conditions,r,s;for(s in t)t[s]&&(t[s]=!1,r=1);r&&e.revert()})||v_()},addEventListener:function(e,t){var r=Xf[e]||(Xf[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Xf[e],s=r&&r.indexOf(t);s>=0&&r.splice(s,1)},utils:{wrap:bx,wrapYoyo:Sx,distribute:$S,random:WS,snap:XS,normalize:wx,getUnit:un,clamp:yx,splitColor:nA,toArray:dr,selector:g_,mapRange:JS,pipe:Ex,unitize:Tx,interpolate:Ax,shuffle:KS},install:VS,effects:Lg,ticker:zn,updateRoot:En.updateRoot,plugins:Un,globalTimeline:lt,core:{PropTween:In,globals:LS,Tween:Ct,Timeline:En,Animation:Pc,getCache:no,_removeLinkedListItem:Kd,reverting:function(){return en},context:function(e){return e&&it&&(it.data.push(e),e._ctx=it),it},suppressOverwrites:function(e){return oy=e}}};Cn("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return dd[n]=Ct[n]});zn.add(En.updateRoot);bl=dd.to({},{duration:0});var Yx=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Qx=function(e,t){var r=e._targets,s,l,u;for(s in t)for(l=r.length;l--;)u=e._ptLookup[l][s],u&&(u=u.d)&&(u._pt&&(u=Yx(u,s)),u&&u.modifier&&u.modifier(t[s],e,r[l],s))},qg=function(e,t){return{name:e,rawVars:1,init:function(s,l,u){u._onInit=function(h){var d,p;if(Yt(l)&&(d={},Cn(l,function(_){return d[_]=1}),l=d),t){d={};for(p in l)d[p]=t(l[p]);l=d}Qx(h,l)}}}},On=dd.registerPlugin({name:"attr",init:function(e,t,r,s,l){var u,h,d;this.tween=r;for(u in t)d=e.getAttribute(u)||"",h=this.add(e,"setAttribute",(d||0)+"",t[u],s,l,0,0,u),h.op=u,h.b=d,this._props.push(u)},render:function(e,t){for(var r=t._pt;r;)en?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},qg("roundProps",__),qg("modifiers"),qg("snap",XS))||dd;Ct.version=En.version=On.version="3.12.7";kS=1;uy()&&kl();Ue.Power0;Ue.Power1;Ue.Power2;Ue.Power3;Ue.Power4;Ue.Linear;Ue.Quad;Ue.Cubic;Ue.Quart;Ue.Quint;Ue.Strong;Ue.Elastic;Ue.Back;Ue.SteppedEase;Ue.Bounce;Ue.Sine;Ue.Expo;Ue.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var iw,Fs,Al,Ey,Za,sw,Ty,Kx=function(){return typeof window<"u"},Ki={},Ka=180/Math.PI,Rl=Math.PI/180,pl=Math.atan2,aw=1e8,wy=/([A-Z])/g,$x=/(left|right|width|margin|padding|x)/i,Xx=/[\s,\(]\S/,Xr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},E_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Wx=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Zx=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Jx=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},_A=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},yA=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},e2=function(e,t,r){return e.style[t]=r},t2=function(e,t,r){return e.style.setProperty(t,r)},n2=function(e,t,r){return e._gsap[t]=r},r2=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},i2=function(e,t,r,s,l){var u=e._gsap;u.scaleX=u.scaleY=r,u.renderTransform(l,u)},s2=function(e,t,r,s,l){var u=e._gsap;u[t]=r,u.renderTransform(l,u)},ut="transform",Dn=ut+"Origin",a2=function n(e,t){var r=this,s=this.target,l=s.style,u=s._gsap;if(e in Ki&&l){if(this.tfm=this.tfm||{},e!=="transform")e=Xr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(h){return r.tfm[h]=zi(s,h)}):this.tfm[e]=u.x?u[e]:zi(s,e),e===Dn&&(this.tfm.zOrigin=u.zOrigin);else return Xr.transform.split(",").forEach(function(h){return n.call(r,h,t)});if(this.props.indexOf(ut)>=0)return;u.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Dn,t,"")),e=ut}(l||t)&&this.props.push(e,t,l[e])},vA=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},o2=function(){var e=this.props,t=this.target,r=t.style,s=t._gsap,l,u;for(l=0;l<e.length;l+=3)e[l+1]?e[l+1]===2?t[e[l]](e[l+2]):t[e[l]]=e[l+2]:e[l+2]?r[e[l]]=e[l+2]:r.removeProperty(e[l].substr(0,2)==="--"?e[l]:e[l].replace(wy,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)s[u]=this.tfm[u];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),l=Ty(),(!l||!l.isStart)&&!r[ut]&&(vA(r),s.zOrigin&&r[Dn]&&(r[Dn]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},EA=function(e,t){var r={target:e,props:[],revert:o2,save:a2};return e._gsap||On.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return r.save(s)}),r},TA,T_=function(e,t){var r=Fs.createElementNS?Fs.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Fs.createElement(e);return r&&r.style?r:Fs.createElement(e)},Zr=function n(e,t,r){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(wy,"-$1").toLowerCase())||s.getPropertyValue(t)||!r&&n(e,Vl(t)||t,1)||""},ow="O,Moz,ms,Ms,Webkit".split(","),Vl=function(e,t,r){var s=t||Za,l=s.style,u=5;if(e in l&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(ow[u]+e in l););return u<0?null:(u===3?"ms":u>=0?ow[u]:"")+e},w_=function(){Kx()&&window.document&&(iw=window,Fs=iw.document,Al=Fs.documentElement,Za=T_("div")||{style:{}},T_("div"),ut=Vl(ut),Dn=ut+"Origin",Za.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",TA=!!Vl("perspective"),Ty=On.core.reverting,Ey=1)},lw=function(e){var t=e.ownerSVGElement,r=T_("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),l;s.style.display="block",r.appendChild(s),Al.appendChild(r);try{l=s.getBBox()}catch{}return r.removeChild(s),Al.removeChild(r),l},uw=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},wA=function(e){var t,r;try{t=e.getBBox()}catch{t=lw(e),r=1}return t&&(t.width||t.height)||r||(t=lw(e)),t&&!t.width&&!t.x&&!t.y?{x:+uw(e,["x","cx","x1"])||0,y:+uw(e,["y","cy","y1"])||0,width:0,height:0}:t},bA=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&wA(e))},lo=function(e,t){if(t){var r=e.style,s;t in Ki&&t!==Dn&&(t=ut),r.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(s==="--"?t:t.replace(wy,"-$1").toLowerCase())):r.removeAttribute(t)}},Hs=function(e,t,r,s,l,u){var h=new In(e._pt,t,r,0,1,u?yA:_A);return e._pt=h,h.b=s,h.e=l,e._props.push(r),h},cw={deg:1,rad:1,turn:1},l2={grid:1,flex:1},ta=function n(e,t,r,s){var l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",h=Za.style,d=$x.test(t),p=e.tagName.toLowerCase()==="svg",_=(p?"client":"offset")+(d?"Width":"Height"),v=100,w=s==="px",b=s==="%",R,S,D,k;if(s===u||!l||cw[s]||cw[u])return l;if(u!=="px"&&!w&&(l=n(e,t,r,"px")),k=e.getCTM&&bA(e),(b||u==="%")&&(Ki[t]||~t.indexOf("adius")))return R=k?e.getBBox()[d?"width":"height"]:e[_],Et(b?l/R*v:l/100*R);if(h[d?"width":"height"]=v+(w?u:s),S=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!p?e:e.parentNode,k&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===Fs||!S.appendChild)&&(S=Fs.body),D=S._gsap,D&&b&&D.width&&d&&D.time===zn.time&&!D.uncache)return Et(l/D.width*v);if(b&&(t==="height"||t==="width")){var L=e.style[t];e.style[t]=v+s,R=e[_],L?e.style[t]=L:lo(e,t)}else(b||u==="%")&&!l2[Zr(S,"display")]&&(h.position=Zr(e,"position")),S===e&&(h.position="static"),S.appendChild(Za),R=Za[_],S.removeChild(Za),h.position="absolute";return d&&b&&(D=no(S),D.time=zn.time,D.width=S[_]),Et(w?R*l/v:R&&l?v/R*l:0)},zi=function(e,t,r,s){var l;return Ey||w_(),t in Xr&&t!=="transform"&&(t=Xr[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ki[t]&&t!=="transform"?(l=Vc(e,s),l=t!=="transformOrigin"?l[t]:l.svg?l.origin:pd(Zr(e,Dn))+" "+l.zOrigin+"px"):(l=e.style[t],(!l||l==="auto"||s||~(l+"").indexOf("calc("))&&(l=md[t]&&md[t](e,t,r)||Zr(e,t)||zS(e,t)||(t==="opacity"?1:0))),r&&!~(l+"").trim().indexOf(" ")?ta(e,t,l,r)+r:l},u2=function(e,t,r,s){if(!r||r==="none"){var l=Vl(t,e,1),u=l&&Zr(e,l,1);u&&u!==r?(t=l,r=u):t==="borderColor"&&(r=Zr(e,"borderTopColor"))}var h=new In(this._pt,e.style,t,0,1,mA),d=0,p=0,_,v,w,b,R,S,D,k,L,V,H,q;if(h.b=r,h.e=s,r+="",s+="",s==="auto"&&(S=e.style[t],e.style[t]=s,s=Zr(e,t)||s,S?e.style[t]=S:lo(e,t)),_=[r,s],iA(_),r=_[0],s=_[1],w=r.match(wl)||[],q=s.match(wl)||[],q.length){for(;v=wl.exec(s);)D=v[0],L=s.substring(d,v.index),R?R=(R+1)%5:(L.substr(-5)==="rgba("||L.substr(-5)==="hsla(")&&(R=1),D!==(S=w[p++]||"")&&(b=parseFloat(S)||0,H=S.substr((b+"").length),D.charAt(1)==="="&&(D=Sl(b,D)+H),k=parseFloat(D),V=D.substr((k+"").length),d=wl.lastIndex-V.length,V||(V=V||jn.units[t]||H,d===s.length&&(s+=V,h.e+=V)),H!==V&&(b=ta(e,t,S,V)||0),h._pt={_next:h._pt,p:L||p===1?L:",",s:b,c:k-b,m:R&&R<4||t==="zIndex"?Math.round:0});h.c=d<s.length?s.substring(d,s.length):""}else h.r=t==="display"&&s==="none"?yA:_A;return MS.test(s)&&(h.e=0),this._pt=h,h},hw={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},c2=function(e){var t=e.split(" "),r=t[0],s=t[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),t[0]=hw[r]||r,t[1]=hw[s]||s,t.join(" ")},h2=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,s=r.style,l=t.u,u=r._gsap,h,d,p;if(l==="all"||l===!0)s.cssText="",d=1;else for(l=l.split(","),p=l.length;--p>-1;)h=l[p],Ki[h]&&(d=1,h=h==="transformOrigin"?Dn:ut),lo(r,h);d&&(lo(r,ut),u&&(u.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Vc(r,1),u.uncache=1,vA(s)))}},md={clearProps:function(e,t,r,s,l){if(l.data!=="isFromStart"){var u=e._pt=new In(e._pt,t,r,0,0,h2);return u.u=s,u.pr=-10,u.tween=l,e._props.push(r),1}}},kc=[1,0,0,1,0,0],SA={},AA=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},fw=function(e){var t=Zr(e,ut);return AA(t)?kc:t.substr(7).match(NS).map(Et)},by=function(e,t){var r=e._gsap||no(e),s=e.style,l=fw(e),u,h,d,p;return r.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,l=[d.a,d.b,d.c,d.d,d.e,d.f],l.join(",")==="1,0,0,1,0,0"?kc:l):(l===kc&&!e.offsetParent&&e!==Al&&!r.svg&&(d=s.display,s.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,h=e.nextElementSibling,Al.appendChild(e)),l=fw(e),d?s.display=d:lo(e,"display"),p&&(h?u.insertBefore(e,h):u?u.appendChild(e):Al.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},b_=function(e,t,r,s,l,u){var h=e._gsap,d=l||by(e,!0),p=h.xOrigin||0,_=h.yOrigin||0,v=h.xOffset||0,w=h.yOffset||0,b=d[0],R=d[1],S=d[2],D=d[3],k=d[4],L=d[5],V=t.split(" "),H=parseFloat(V[0])||0,q=parseFloat(V[1])||0,X,x,C,A;r?d!==kc&&(x=b*D-R*S)&&(C=H*(D/x)+q*(-S/x)+(S*L-D*k)/x,A=H*(-R/x)+q*(b/x)-(b*L-R*k)/x,H=C,q=A):(X=wA(e),H=X.x+(~V[0].indexOf("%")?H/100*X.width:H),q=X.y+(~(V[1]||V[0]).indexOf("%")?q/100*X.height:q)),s||s!==!1&&h.smooth?(k=H-p,L=q-_,h.xOffset=v+(k*b+L*S)-k,h.yOffset=w+(k*R+L*D)-L):h.xOffset=h.yOffset=0,h.xOrigin=H,h.yOrigin=q,h.smooth=!!s,h.origin=t,h.originIsAbsolute=!!r,e.style[Dn]="0px 0px",u&&(Hs(u,h,"xOrigin",p,H),Hs(u,h,"yOrigin",_,q),Hs(u,h,"xOffset",v,h.xOffset),Hs(u,h,"yOffset",w,h.yOffset)),e.setAttribute("data-svg-origin",H+" "+q)},Vc=function(e,t){var r=e._gsap||new lA(e);if("x"in r&&!t&&!r.uncache)return r;var s=e.style,l=r.scaleX<0,u="px",h="deg",d=getComputedStyle(e),p=Zr(e,Dn)||"0",_,v,w,b,R,S,D,k,L,V,H,q,X,x,C,A,N,U,B,M,xe,Ie,ae,he,de,ke,z,se,me,ue,le,Ee;return _=v=w=S=D=k=L=V=H=0,b=R=1,r.svg=!!(e.getCTM&&bA(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(s[ut]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[ut]!=="none"?d[ut]:"")),s.scale=s.rotate=s.translate="none"),x=by(e,r.svg),r.svg&&(r.uncache?(de=e.getBBox(),p=r.xOrigin-de.x+"px "+(r.yOrigin-de.y)+"px",he=""):he=!t&&e.getAttribute("data-svg-origin"),b_(e,he||p,!!he||r.originIsAbsolute,r.smooth!==!1,x)),q=r.xOrigin||0,X=r.yOrigin||0,x!==kc&&(U=x[0],B=x[1],M=x[2],xe=x[3],_=Ie=x[4],v=ae=x[5],x.length===6?(b=Math.sqrt(U*U+B*B),R=Math.sqrt(xe*xe+M*M),S=U||B?pl(B,U)*Ka:0,L=M||xe?pl(M,xe)*Ka+S:0,L&&(R*=Math.abs(Math.cos(L*Rl))),r.svg&&(_-=q-(q*U+X*M),v-=X-(q*B+X*xe))):(Ee=x[6],ue=x[7],z=x[8],se=x[9],me=x[10],le=x[11],_=x[12],v=x[13],w=x[14],C=pl(Ee,me),D=C*Ka,C&&(A=Math.cos(-C),N=Math.sin(-C),he=Ie*A+z*N,de=ae*A+se*N,ke=Ee*A+me*N,z=Ie*-N+z*A,se=ae*-N+se*A,me=Ee*-N+me*A,le=ue*-N+le*A,Ie=he,ae=de,Ee=ke),C=pl(-M,me),k=C*Ka,C&&(A=Math.cos(-C),N=Math.sin(-C),he=U*A-z*N,de=B*A-se*N,ke=M*A-me*N,le=xe*N+le*A,U=he,B=de,M=ke),C=pl(B,U),S=C*Ka,C&&(A=Math.cos(C),N=Math.sin(C),he=U*A+B*N,de=Ie*A+ae*N,B=B*A-U*N,ae=ae*A-Ie*N,U=he,Ie=de),D&&Math.abs(D)+Math.abs(S)>359.9&&(D=S=0,k=180-k),b=Et(Math.sqrt(U*U+B*B+M*M)),R=Et(Math.sqrt(ae*ae+Ee*Ee)),C=pl(Ie,ae),L=Math.abs(C)>2e-4?C*Ka:0,H=le?1/(le<0?-le:le):0),r.svg&&(he=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!AA(Zr(e,ut)),he&&e.setAttribute("transform",he))),Math.abs(L)>90&&Math.abs(L)<270&&(l?(b*=-1,L+=S<=0?180:-180,S+=S<=0?180:-180):(R*=-1,L+=L<=0?180:-180)),t=t||r.uncache,r.x=_-((r.xPercent=_&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+u,r.y=v-((r.yPercent=v&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+u,r.z=w+u,r.scaleX=Et(b),r.scaleY=Et(R),r.rotation=Et(S)+h,r.rotationX=Et(D)+h,r.rotationY=Et(k)+h,r.skewX=L+h,r.skewY=V+h,r.transformPerspective=H+u,(r.zOrigin=parseFloat(p.split(" ")[2])||!t&&r.zOrigin||0)&&(s[Dn]=pd(p)),r.xOffset=r.yOffset=0,r.force3D=jn.force3D,r.renderTransform=r.svg?d2:TA?RA:f2,r.uncache=0,r},pd=function(e){return(e=e.split(" "))[0]+" "+e[1]},Fg=function(e,t,r){var s=un(t);return Et(parseFloat(t)+parseFloat(ta(e,"x",r+"px",s)))+s},f2=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,RA(e,t)},Ya="0deg",lc="0px",Qa=") ",RA=function(e,t){var r=t||this,s=r.xPercent,l=r.yPercent,u=r.x,h=r.y,d=r.z,p=r.rotation,_=r.rotationY,v=r.rotationX,w=r.skewX,b=r.skewY,R=r.scaleX,S=r.scaleY,D=r.transformPerspective,k=r.force3D,L=r.target,V=r.zOrigin,H="",q=k==="auto"&&e&&e!==1||k===!0;if(V&&(v!==Ya||_!==Ya)){var X=parseFloat(_)*Rl,x=Math.sin(X),C=Math.cos(X),A;X=parseFloat(v)*Rl,A=Math.cos(X),u=Fg(L,u,x*A*-V),h=Fg(L,h,-Math.sin(X)*-V),d=Fg(L,d,C*A*-V+V)}D!==lc&&(H+="perspective("+D+Qa),(s||l)&&(H+="translate("+s+"%, "+l+"%) "),(q||u!==lc||h!==lc||d!==lc)&&(H+=d!==lc||q?"translate3d("+u+", "+h+", "+d+") ":"translate("+u+", "+h+Qa),p!==Ya&&(H+="rotate("+p+Qa),_!==Ya&&(H+="rotateY("+_+Qa),v!==Ya&&(H+="rotateX("+v+Qa),(w!==Ya||b!==Ya)&&(H+="skew("+w+", "+b+Qa),(R!==1||S!==1)&&(H+="scale("+R+", "+S+Qa),L.style[ut]=H||"translate(0, 0)"},d2=function(e,t){var r=t||this,s=r.xPercent,l=r.yPercent,u=r.x,h=r.y,d=r.rotation,p=r.skewX,_=r.skewY,v=r.scaleX,w=r.scaleY,b=r.target,R=r.xOrigin,S=r.yOrigin,D=r.xOffset,k=r.yOffset,L=r.forceCSS,V=parseFloat(u),H=parseFloat(h),q,X,x,C,A;d=parseFloat(d),p=parseFloat(p),_=parseFloat(_),_&&(_=parseFloat(_),p+=_,d+=_),d||p?(d*=Rl,p*=Rl,q=Math.cos(d)*v,X=Math.sin(d)*v,x=Math.sin(d-p)*-w,C=Math.cos(d-p)*w,p&&(_*=Rl,A=Math.tan(p-_),A=Math.sqrt(1+A*A),x*=A,C*=A,_&&(A=Math.tan(_),A=Math.sqrt(1+A*A),q*=A,X*=A)),q=Et(q),X=Et(X),x=Et(x),C=Et(C)):(q=v,C=w,X=x=0),(V&&!~(u+"").indexOf("px")||H&&!~(h+"").indexOf("px"))&&(V=ta(b,"x",u,"px"),H=ta(b,"y",h,"px")),(R||S||D||k)&&(V=Et(V+R-(R*q+S*x)+D),H=Et(H+S-(R*X+S*C)+k)),(s||l)&&(A=b.getBBox(),V=Et(V+s/100*A.width),H=Et(H+l/100*A.height)),A="matrix("+q+","+X+","+x+","+C+","+V+","+H+")",b.setAttribute("transform",A),L&&(b.style[ut]=A)},m2=function(e,t,r,s,l){var u=360,h=Yt(l),d=parseFloat(l)*(h&&~l.indexOf("rad")?Ka:1),p=d-s,_=s+p+"deg",v,w;return h&&(v=l.split("_")[1],v==="short"&&(p%=u,p!==p%(u/2)&&(p+=p<0?u:-360)),v==="cw"&&p<0?p=(p+u*aw)%u-~~(p/u)*u:v==="ccw"&&p>0&&(p=(p-u*aw)%u-~~(p/u)*u)),e._pt=w=new In(e._pt,t,r,s,p,Wx),w.e=_,w.u="deg",e._props.push(r),w},dw=function(e,t){for(var r in t)e[r]=t[r];return e},p2=function(e,t,r){var s=dw({},r._gsap),l="perspective,force3D,transformOrigin,svgOrigin",u=r.style,h,d,p,_,v,w,b,R;s.svg?(p=r.getAttribute("transform"),r.setAttribute("transform",""),u[ut]=t,h=Vc(r,1),lo(r,ut),r.setAttribute("transform",p)):(p=getComputedStyle(r)[ut],u[ut]=t,h=Vc(r,1),u[ut]=p);for(d in Ki)p=s[d],_=h[d],p!==_&&l.indexOf(d)<0&&(b=un(p),R=un(_),v=b!==R?ta(r,d,p,R):parseFloat(p),w=parseFloat(_),e._pt=new In(e._pt,h,d,v,w-v,E_),e._pt.u=R||0,e._props.push(d));dw(h,s)};Cn("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",s="Bottom",l="Left",u=(e<3?[t,r,s,l]:[t+l,t+r,s+r,s+l]).map(function(h){return e<2?n+h:"border"+h+n});md[e>1?"border"+n:n]=function(h,d,p,_,v){var w,b;if(arguments.length<4)return w=u.map(function(R){return zi(h,R,p)}),b=w.join(" "),b.split(w[0]).length===5?w[0]:b;w=(_+"").split(" "),b={},u.forEach(function(R,S){return b[R]=w[S]=w[S]||w[(S-1)/2|0]}),h.init(d,b,v)}});var CA={name:"css",register:w_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,s,l){var u=this._props,h=e.style,d=r.vars.startAt,p,_,v,w,b,R,S,D,k,L,V,H,q,X,x,C;Ey||w_(),this.styles=this.styles||EA(e),C=this.styles.props,this.tween=r;for(S in t)if(S!=="autoRound"&&(_=t[S],!(Un[S]&&uA(S,t,r,s,e,l)))){if(b=typeof _,R=md[S],b==="function"&&(_=_.call(r,s,e,l),b=typeof _),b==="string"&&~_.indexOf("random(")&&(_=Nc(_)),R)R(this,e,S,_,r)&&(x=1);else if(S.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(S)+"").trim(),_+="",Qs.lastIndex=0,Qs.test(p)||(D=un(p),k=un(_)),k?D!==k&&(p=ta(e,S,p,k)+k):D&&(_+=D),this.add(h,"setProperty",p,_,s,l,0,0,S),u.push(S),C.push(S,0,h[S]);else if(b!=="undefined"){if(d&&S in d?(p=typeof d[S]=="function"?d[S].call(r,s,e,l):d[S],Yt(p)&&~p.indexOf("random(")&&(p=Nc(p)),un(p+"")||p==="auto"||(p+=jn.units[S]||un(zi(e,S))||""),(p+"").charAt(1)==="="&&(p=zi(e,S))):p=zi(e,S),w=parseFloat(p),L=b==="string"&&_.charAt(1)==="="&&_.substr(0,2),L&&(_=_.substr(2)),v=parseFloat(_),S in Xr&&(S==="autoAlpha"&&(w===1&&zi(e,"visibility")==="hidden"&&v&&(w=0),C.push("visibility",0,h.visibility),Hs(this,h,"visibility",w?"inherit":"hidden",v?"inherit":"hidden",!v)),S!=="scale"&&S!=="transform"&&(S=Xr[S],~S.indexOf(",")&&(S=S.split(",")[0]))),V=S in Ki,V){if(this.styles.save(S),H||(q=e._gsap,q.renderTransform&&!t.parseTransform||Vc(e,t.parseTransform),X=t.smoothOrigin!==!1&&q.smooth,H=this._pt=new In(this._pt,h,ut,0,1,q.renderTransform,q,0,-1),H.dep=1),S==="scale")this._pt=new In(this._pt,q,"scaleY",q.scaleY,(L?Sl(q.scaleY,L+v):v)-q.scaleY||0,E_),this._pt.u=0,u.push("scaleY",S),S+="X";else if(S==="transformOrigin"){C.push(Dn,0,h[Dn]),_=c2(_),q.svg?b_(e,_,0,X,0,this):(k=parseFloat(_.split(" ")[2])||0,k!==q.zOrigin&&Hs(this,q,"zOrigin",q.zOrigin,k),Hs(this,h,S,pd(p),pd(_)));continue}else if(S==="svgOrigin"){b_(e,_,1,X,0,this);continue}else if(S in SA){m2(this,q,S,w,L?Sl(w,L+_):_);continue}else if(S==="smoothOrigin"){Hs(this,q,"smooth",q.smooth,_);continue}else if(S==="force3D"){q[S]=_;continue}else if(S==="transform"){p2(this,_,e);continue}}else S in h||(S=Vl(S)||S);if(V||(v||v===0)&&(w||w===0)&&!Xx.test(_)&&S in h)D=(p+"").substr((w+"").length),v||(v=0),k=un(_)||(S in jn.units?jn.units[S]:D),D!==k&&(w=ta(e,S,p,k)),this._pt=new In(this._pt,V?q:h,S,w,(L?Sl(w,L+v):v)-w,!V&&(k==="px"||S==="zIndex")&&t.autoRound!==!1?Jx:E_),this._pt.u=k||0,D!==k&&k!=="%"&&(this._pt.b=p,this._pt.r=Zx);else if(S in h)u2.call(this,e,S,p,L?L+_:_);else if(S in e)this.add(e,S,p||e[S],L?L+_:_,s,l);else if(S!=="parseTransform"){hy(S,_);continue}V||(S in h?C.push(S,0,h[S]):typeof e[S]=="function"?C.push(S,2,e[S]()):C.push(S,1,p||e[S])),u.push(S)}}x&&pA(this)},render:function(e,t){if(t.tween._time||!Ty())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:zi,aliases:Xr,getSetter:function(e,t,r){var s=Xr[t];return s&&s.indexOf(",")<0&&(t=s),t in Ki&&t!==Dn&&(e._gsap.x||zi(e,"x"))?r&&sw===r?t==="scale"?r2:n2:(sw=r||{})&&(t==="scale"?i2:s2):e.style&&!ly(e.style[t])?e2:~t.indexOf("-")?t2:yy(e,t)},core:{_removeProperty:lo,_getMatrix:by}};On.utils.checkPrefix=Vl;On.core.getStyleSaver=EA;(function(n,e,t,r){var s=Cn(n+","+e+","+t,function(l){Ki[l]=1});Cn(e,function(l){jn.units[l]="deg",SA[l]=1}),Xr[s[13]]=n+","+e,Cn(r,function(l){var u=l.split(":");Xr[u[1]]=s[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Cn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){jn.units[n]="px"});On.registerPlugin(CA);var S_=On.registerPlugin(CA)||On;S_.core.Tween;const g2=()=>{const n=$.useRef(null),e=$.useRef(null),[t,r]=$.useState(!1);return $.useEffect(()=>{if(!n.current||!e.current)return;const s=n.current;s.dataset.originalText||(s.dataset.originalText=s.innerText);const l=s.dataset.originalText.split(" ");s.innerHTML=l.map(h=>`<span class="word">${h} </span>`).join("");const u=S_.timeline({repeat:-1});return u.fromTo(".word",{opacity:0},{opacity:1,duration:.6,stagger:.2,ease:"power1.inOut",onComplete:()=>{t||r(!0)}}),()=>{u.kill()}},[t]),$.useEffect(()=>{t&&e.current&&S_.to(e.current,{opacity:1,duration:1,ease:"power2.out"})},[t]),ee.jsxs("div",{className:"start-page",children:[ee.jsx("h3",{ref:n,className:"typing-effect",children:`"Welcome to the future of communication. A real-time chat built for the cyber age. Secure, fast, and always online. Whether you're here to connect, strategize, or just talk, you're in the right place. No delays. No limits. Just instant conversations."`}),ee.jsx(Tl,{to:"/login",children:ee.jsx("button",{ref:e,className:"start-button",style:{opacity:0},children:"Explore"})})]})};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},_2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|u&63)}}return e.join("")},DA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const l=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,_=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|p>>6,b=p&63;d||(b=64,u||(w=64)),r.push(t[_],t[v],t[w],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||h==null||p==null||v==null)throw new y2;const w=l<<2|h>>4;if(r.push(w),p!==64){const b=h<<4&240|p>>2;if(r.push(b),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class y2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v2=function(n){const e=IA(n);return DA.encodeByteArray(e,!0)},gd=function(n){return v2(n).replace(/\./g,"")},OA=function(n){try{return DA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=()=>E2().__FIREBASE_DEFAULTS__,w2=()=>{if(typeof process>"u"||typeof mw>"u")return;const n=mw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&OA(n[1]);return e&&JSON.parse(e)},Wd=()=>{try{return T2()||w2()||b2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xA=n=>{var e,t;return(t=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NA=n=>{const e=xA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},MA=()=>{var n;return(n=Wd())===null||n===void 0?void 0:n.config},PA=n=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gd(JSON.stringify(t)),gd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function R2(){var n;const e=(n=Wd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function D2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O2(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function x2(){return!R2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function M2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=P2,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rh.prototype.create)}}class rh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],u=l?k2(l,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new ui(s,h,r)}}function k2(n,e){return n.replace(V2,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const V2=/\{\$([^}]+)}/g;function L2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _d(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const l=n[s],u=e[s];if(pw(l)&&pw(u)){if(!_d(l,u))return!1}else if(l!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function pw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function U2(n,e){const t=new z2(n,e);return t.subscribe.bind(t)}class z2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");B2(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Hg),s.error===void 0&&(s.error=Hg),s.complete===void 0&&(s.complete=Hg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class na{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new S2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F2(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(n){return n===$a?void 0:n}function F2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new j2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const G2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Y2=Me.INFO,Q2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},K2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Q2[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sy{constructor(e){this.name=e,this._logLevel=Y2,this._logHandler=K2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const $2=(n,e)=>e.some(t=>n instanceof t);let gw,_w;function X2(){return gw||(gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W2(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VA=new WeakMap,A_=new WeakMap,LA=new WeakMap,Gg=new WeakMap,Ay=new WeakMap;function Z2(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ks(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&VA.set(t,n)}).catch(()=>{}),Ay.set(e,n),e}function J2(n){if(A_.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});A_.set(n,e)}let R_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return A_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eN(n){R_=n(R_)}function tN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Yg(this),e,...t);return LA.set(r,e.sort?e.sort():[e]),Ks(r)}:W2().includes(n)?function(...e){return n.apply(Yg(this),e),Ks(VA.get(this))}:function(...e){return Ks(n.apply(Yg(this),e))}}function nN(n){return typeof n=="function"?tN(n):(n instanceof IDBTransaction&&J2(n),$2(n,X2())?new Proxy(n,R_):n)}function Ks(n){if(n instanceof IDBRequest)return Z2(n);if(Gg.has(n))return Gg.get(n);const e=nN(n);return e!==n&&(Gg.set(n,e),Ay.set(e,n)),e}const Yg=n=>Ay.get(n);function rN(n,e,{blocked:t,upgrade:r,blocking:s,terminated:l}={}){const u=indexedDB.open(n,e),h=Ks(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ks(u.result),d.oldVersion,d.newVersion,Ks(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const iN=["get","getKey","getAll","getAllKeys","count"],sN=["put","add","delete","clear"],Qg=new Map;function yw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qg.get(e))return Qg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=sN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iN.includes(t)))return;const l=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&d.done]))[0]};return Qg.set(e,l),l}eN(n=>({...n,get:(e,t,r)=>yw(e,t)||n.get(e,t,r),has:(e,t)=>!!yw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function oN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C_="@firebase/app",vw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Sy("@firebase/app"),lN="@firebase/app-compat",uN="@firebase/analytics-compat",cN="@firebase/analytics",hN="@firebase/app-check-compat",fN="@firebase/app-check",dN="@firebase/auth",mN="@firebase/auth-compat",pN="@firebase/database",gN="@firebase/data-connect",_N="@firebase/database-compat",yN="@firebase/functions",vN="@firebase/functions-compat",EN="@firebase/installations",TN="@firebase/installations-compat",wN="@firebase/messaging",bN="@firebase/messaging-compat",SN="@firebase/performance",AN="@firebase/performance-compat",RN="@firebase/remote-config",CN="@firebase/remote-config-compat",IN="@firebase/storage",DN="@firebase/storage-compat",ON="@firebase/firestore",xN="@firebase/vertexai",NN="@firebase/firestore-compat",MN="firebase",PN="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="[DEFAULT]",kN={[C_]:"fire-core",[lN]:"fire-core-compat",[cN]:"fire-analytics",[uN]:"fire-analytics-compat",[fN]:"fire-app-check",[hN]:"fire-app-check-compat",[dN]:"fire-auth",[mN]:"fire-auth-compat",[pN]:"fire-rtdb",[gN]:"fire-data-connect",[_N]:"fire-rtdb-compat",[yN]:"fire-fn",[vN]:"fire-fn-compat",[EN]:"fire-iid",[TN]:"fire-iid-compat",[wN]:"fire-fcm",[bN]:"fire-fcm-compat",[SN]:"fire-perf",[AN]:"fire-perf-compat",[RN]:"fire-rc",[CN]:"fire-rc-compat",[IN]:"fire-gcs",[DN]:"fire-gcs-compat",[ON]:"fire-fst",[NN]:"fire-fst-compat",[xN]:"fire-vertex","fire-js":"fire-js",[MN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,VN=new Map,D_=new Map;function Ew(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function uo(n){const e=n.name;if(D_.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;D_.set(e,n);for(const t of yd.values())Ew(t,n);for(const t of VN.values())Ew(t,n);return!0}function Zd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new rh("app","Firebase",LN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=PN;function UA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:I_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $s.create("bad-app-name",{appName:String(s)});if(t||(t=MA()),!t)throw $s.create("no-options");const l=yd.get(s);if(l){if(_d(t,l.options)&&_d(r,l.config))return l;throw $s.create("duplicate-app",{appName:s})}const u=new H2(s);for(const d of D_.values())u.addComponent(d);const h=new UN(t,r,u);return yd.set(s,h),h}function Ry(n=I_){const e=yd.get(n);if(!e&&n===I_&&MA())return UA();if(!e)throw $s.create("no-app",{appName:n});return e}function Jr(n,e,t){var r;let s=(r=kN[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(h.join(" "));return}uo(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firebase-heartbeat-database",BN=1,Lc="firebase-heartbeat-store";let Kg=null;function zA(){return Kg||(Kg=rN(zN,BN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),Kg}async function jN(n){try{const t=(await zA()).transaction(Lc),r=await t.objectStore(Lc).get(BA(n));return await t.done,r}catch(e){if(e instanceof ui)$i.warn(e.message);else{const t=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(t.message)}}}async function Tw(n,e){try{const r=(await zA()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,BA(n)),await r.done}catch(t){if(t instanceof ui)$i.warn(t.message);else{const r=$s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$i.warn(r.message)}}}function BA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1024,FN=30;class HN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ww();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>FN){const u=QN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ww(),{heartbeatsToSend:r,unsentEntries:s}=GN(this._heartbeatsCache.heartbeats),l=gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function ww(){return new Date().toISOString().substring(0,10)}function GN(n,e=qN){const t=[];let r=n.slice();for(const s of n){const l=t.find(u=>u.agent===s.agent);if(l){if(l.dates.push(s.date),bw(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),bw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class YN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?M2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bw(n){return gd(JSON.stringify({version:2,heartbeats:n})).length}function QN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){uo(new na("platform-logger",e=>new aN(e),"PRIVATE")),uo(new na("heartbeat",e=>new HN(e),"PRIVATE")),Jr(C_,vw,n),Jr(C_,vw,"esm2017"),Jr("fire-js","")}KN("");var $N="firebase",XN="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr($N,XN,"app");function Cy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WN=jA,qA=new rh("auth","Firebase",jA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Sy("@firebase/auth");function ZN(n,...e){vd.logLevel<=Me.WARN&&vd.warn(`Auth (${Eo}): ${n}`,...e)}function Wf(n,...e){vd.logLevel<=Me.ERROR&&vd.error(`Auth (${Eo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...e){throw Dy(n,...e)}function br(n,...e){return Dy(n,...e)}function Iy(n,e,t){const r=Object.assign(Object.assign({},WN()),{[e]:t});return new rh("auth","Firebase",r).create(e,{appName:n.name})}function ao(n){return Iy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&si(n,"argument-error"),Iy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return qA.create(n,...e)}function we(n,e,...t){if(!n)throw Dy(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wf(e),new Error(e)}function Xi(n,e){n||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eM(){return Sw()==="http:"||Sw()==="https:"}function Sw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eM()||I2()||"connection"in navigator)?navigator.onLine:!0}function nM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xi(t>e,"Short delay should be less than long delay!"),this.isMobile=A2()||D2()}get(){return tM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e){Xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new sh(3e4,6e4);function xy(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ql(n,e,t,r,s={}){return HA(n,s,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=ih(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},l);return C2()||(p.referrerPolicy="no-referrer"),FA.fetch()(GA(n,n.config.apiHost,t,h),p)})}async function HA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},rM),e);try{const s=new aM(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Uf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Uf(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Uf(n,"user-disabled",u);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Iy(n,_,p);si(n,_)}}catch(s){if(s instanceof ui)throw s;si(n,"network-request-failed",{message:String(s)})}}async function sM(n,e,t,r,s={}){const l=await Ql(n,e,t,r,s);return"mfaPendingCredential"in l&&si(n,"multi-factor-auth-required",{_serverResponse:l}),l}function GA(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Oy(n.config,s):`${n.config.apiScheme}://${s}`}class aM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),iM.get())})}}function Uf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=br(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(n,e){return Ql(n,"POST","/v1/accounts:delete",e)}async function YA(n,e){return Ql(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lM(n,e=!1){const t=dn(n),r=await t.getIdToken(e),s=Ny(r);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:Tc($g(s.auth_time)),issuedAtTime:Tc($g(s.iat)),expirationTime:Tc($g(s.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $g(n){return Number(n)*1e3}function Ny(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const s=OA(t);return s?JSON.parse(s):(Wf("Failed to decode base64 JWT payload"),null)}catch(s){return Wf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Aw(n){const e=Ny(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&uM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Uc(n,YA(t,{idToken:r}));we(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?QA(l.providerUserInfo):[],h=fM(n.providerData,u),d=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),_=d?p:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new x_(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function hM(n){const e=dn(n);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fM(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function QA(n){return n.map(e=>{var{providerId:t}=e,r=Cy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(n,e){const t=await HA(n,{},async()=>{const r=ih({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,u=GA(n,s,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",FA.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mM(n,e){return Ql(n,"POST","/v2/accounts:revokeToken",xy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Aw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:l}=await dM(e,t);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:l}=t,u=new Cl;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qi{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,l=Cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new x_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lM(this,e)}reload(){return hM(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await Uc(this,oM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,l,u,h,d,p,_;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,k=(p=t.createdAt)!==null&&p!==void 0?p:void 0,L=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:V,emailVerified:H,isAnonymous:q,providerData:X,stsTokenManager:x}=t;we(V&&x,e,"internal-error");const C=Cl.fromJSON(this.name,x);we(typeof V=="string",e,"internal-error"),Ls(v,e.name),Ls(w,e.name),we(typeof H=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),Ls(b,e.name),Ls(R,e.name),Ls(S,e.name),Ls(D,e.name),Ls(k,e.name),Ls(L,e.name);const A=new qi({uid:V,auth:e,email:w,emailVerified:H,displayName:v,isAnonymous:q,photoURL:R,phoneNumber:b,tenantId:S,stsTokenManager:C,createdAt:k,lastLoginAt:L});return X&&Array.isArray(X)&&(A.providerData=X.map(N=>Object.assign({},N))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,t,r=!1){const s=new Cl;s.updateFromServerResponse(t);const l=new qi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ed(l),l}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];we(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?QA(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),h=new Cl;h.updateFromIdToken(r);const d=new qi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new x_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Map;function Fi(n){Xi(n instanceof Function,"Expected a class definition");let e=Rw.get(n);return e?(Xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Rw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KA.type="NONE";const Cw=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n,e,t){return`firebase:${n}:${e}:${t}`}class Il{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=Zf(this.userKey,s.apiKey,l),this.fullPersistenceKey=Zf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Il(Fi(Cw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||Fi(Cw);const u=Zf(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const _=await p._get(u);if(_){const v=qi._fromJSON(e,_);p!==l&&(h=v),l=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Il(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Il(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e1(e))return"Blackberry";if(t1(e))return"Webos";if(XA(e))return"Safari";if((e.includes("chrome/")||WA(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $A(n=fn()){return/firefox\//i.test(n)}function XA(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WA(n=fn()){return/crios\//i.test(n)}function ZA(n=fn()){return/iemobile/i.test(n)}function JA(n=fn()){return/android/i.test(n)}function e1(n=fn()){return/blackberry/i.test(n)}function t1(n=fn()){return/webos/i.test(n)}function My(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pM(n=fn()){var e;return My(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gM(){return O2()&&document.documentMode===10}function n1(n=fn()){return My(n)||JA(n)||t1(n)||e1(n)||/windows phone/i.test(n)||ZA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n,e=[]){let t;switch(n){case"Browser":t=Iw(fn());break;case"Worker":t=`${Iw(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(n,e={}){return Ql(n,"GET","/v2/passwordPolicy",xy(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=6;class EM{constructor(e){var t,r,s,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:vM,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new _M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await YA(this,{idToken:e}),r=await qi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(ao(this));const t=e?dn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yM(this),t=new EM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Jd(n){return dn(n)}class Dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=U2(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wM(n){Py=n}function bM(n){return Py.loadJS(n)}function SM(){return Py.gapiScript}function AM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n,e){const t=Zd(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(_d(l,e??{}))return s;si(s,"already-initialized")}return t.initialize({options:e})}function CM(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IM(n,e,t){const r=Jd(n);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=i1(e),{host:u,port:h}=DM(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${l}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),OM()}function i1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DM(n){const e=i1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:Ow(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Ow(u)}}}function Ow(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function OM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n,e){return sM(n,"POST","/v1/accounts:signInWithIdp",xy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class co extends s1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,l=Cy(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new co(r,s);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ih(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends ah{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return co._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ah{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends ah{constructor(){super("twitter.com")}static credential(e,t){return co._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return js.credential(t,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const l=await qi._fromIdTokenResponse(e,r,s),u=xw(r);return new Ll({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=xw(r);return new Ll({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function xw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends ui{constructor(e,t,r,s){var l;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Td(e,t,r,s)}}function a1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(n,l,e,r):l})}async function NM(n,e,t=!1){const r=await Uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ll._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(ao(r));const s="reauthenticate";try{const l=await Uc(n,a1(r,s,e,n),t);we(l.idToken,r,"internal-error");const u=Ny(l.idToken);we(u,r,"internal-error");const{sub:h}=u;return we(n.uid===h,r,"user-mismatch"),Ll._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n,e,t=!1){if(cr(n.app))return Promise.reject(ao(n));const r="signIn",s=await a1(n,r,e),l=await Ll._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(l.user),l}function kM(n,e,t,r){return dn(n).onIdTokenChanged(e,t,r)}function VM(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}function LM(n,e,t,r){return dn(n).onAuthStateChanged(e,t,r)}function UM(n){return dn(n).signOut()}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=1e3,BM=10;class l1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);gM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BM):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},zM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}l1.type="LOCAL";const jM=l1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}u1.type="SESSION";const c1=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:l}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,l)),d=await qM(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=Vy("",20);s.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(_),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function HM(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function GM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QM(){return h1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebaseLocalStorageDb",KM=1,bd="firebaseLocalStorage",d1="fbase_key";class oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tm(n,e){return n.transaction([bd],e?"readwrite":"readonly").objectStore(bd)}function $M(){const n=indexedDB.deleteDatabase(f1);return new oh(n).toPromise()}function N_(){const n=indexedDB.open(f1,KM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bd,{keyPath:d1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(bd)?e(r):(r.close(),await $M(),e(await N_()))})})}async function Nw(n,e,t){const r=tm(n,!0).put({[d1]:e,value:t});return new oh(r).toPromise()}async function XM(n,e){const t=tm(n,!1).get(e),r=await new oh(t).toPromise();return r===void 0?null:r.value}function Mw(n,e){const t=tm(n,!0).delete(e);return new oh(t).toPromise()}const WM=800,ZM=3;class m1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ZM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(QM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GM(),!this.activeServiceWorker)return;this.sender=new FM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N_();return await Nw(e,wd,"1"),await Mw(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>XM(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=tm(s,!1).getAll();return new oh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m1.type="LOCAL";const JM=m1;new sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n,e){return e?Fi(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends s1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eP(n){return PM(n.auth,new Ly(n),n.bypassAuthState)}function tP(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),MM(t,new Ly(n),n.bypassAuthState)}async function nP(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),NM(t,new Ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eP;case"linkViaPopup":case"linkViaRedirect":return nP;case"reauthViaPopup":case"reauthViaRedirect":return tP;default:si(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new sh(2e3,1e4);async function iP(n,e,t){if(cr(n.app))return Promise.reject(br(n,"operation-not-supported-in-this-environment"));const r=Jd(n);JN(n,e,ky);const s=p1(r,t);return new Ja(r,"signInViaPopup",e,s).executeNotNull()}class Ja extends g1{constructor(e,t,r,s,l){super(e,t,s,l),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rP.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="pendingRedirect",Jf=new Map;class aP extends g1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const r=await oP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oP(n,e){const t=cP(e),r=uP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function lP(n,e){Jf.set(n._key(),e)}function uP(n){return Fi(n._redirectPersistence)}function cP(n){return Zf(sP,n.config.apiKey,n.name)}async function hP(n,e,t=!1){if(cr(n.app))return Promise.reject(ao(n));const r=Jd(n),s=p1(r,e),u=await new aP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=10*60*1e3;class dP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!_1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(br(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pw(e))}saveEventToCache(e){this.cachedEventUids.add(Pw(e)),this.lastProcessedEventTime=Date.now()}}function Pw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e={}){return Ql(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_P=/^https?/;async function yP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pP(n);for(const t of e)try{if(vP(t))return}catch{}si(n,"unauthorized-domain")}function vP(n){const e=O_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!_P.test(t))return!1;if(gP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new sh(3e4,6e4);function kw(){const n=ei().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function TP(n){return new Promise((e,t)=>{var r,s,l;function u(){kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kw(),t(br(n,"network-request-failed"))},timeout:EP.get()})}if(!((s=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=ei().gapi)===null||l===void 0)&&l.load)u();else{const h=AM("iframefcb");return ei()[h]=()=>{gapi.load?u():t(br(n,"network-request-failed"))},bM(`${SM()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw ed=null,e})}let ed=null;function wP(n){return ed=ed||TP(n),ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new sh(5e3,15e3),SP="__/auth/iframe",AP="emulator/auth/iframe",RP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IP(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Oy(e,AP):`https://${n.config.authDomain}/${SP}`,r={apiKey:e.apiKey,appName:n.name,v:Eo},s=CP.get(n.config.apiHost);s&&(r.eid=s);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${ih(r).slice(1)}`}async function DP(n){const e=await wP(n),t=ei().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:IP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RP,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const u=br(n,"network-request-failed"),h=ei().setTimeout(()=>{l(u)},bP.get());function d(){ei().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xP=500,NP=600,MP="_blank",PP="http://localhost";class Vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kP(n,e,t,r=xP,s=NP){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},OP),{width:r.toString(),height:s.toString(),top:l,left:u}),p=fn().toLowerCase();t&&(h=WA(p)?MP:t),$A(p)&&(e=e||PP,d.scrollbars="yes");const _=Object.entries(d).reduce((w,[b,R])=>`${w}${b}=${R},`,"");if(pM(p)&&h!=="_self")return VP(e||"",h),new Vw(null);const v=window.open(e||"",h,_);we(v,n,"popup-blocked");try{v.focus()}catch{}return new Vw(v)}function VP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="__/auth/handler",UP="emulator/auth/handler",zP=encodeURIComponent("fac");async function Lw(n,e,t,r,s,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Eo,eventId:s};if(e instanceof ky){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",L2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof ah){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),p=d?`#${zP}=${encodeURIComponent(d)}`:"";return`${BP(n)}?${ih(h).slice(1)}${p}`}function BP({config:n}){return n.emulator?Oy(n,UP):`https://${n.authDomain}/${LP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class jP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=hP,this._overrideRedirectResult=lP}async _openPopup(e,t,r,s){var l;Xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Lw(e,t,r,O_(),s);return kP(e,u,Vy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const l=await Lw(e,t,r,O_(),s);return HM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Xi(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await DP(e),r=new dP(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xg,{type:Xg},s=>{var l;const u=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Xg];u!==void 0&&t(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return n1()||XA()||My()}}const qP=jP;var Uw="@firebase/auth",zw="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GP(n){uo(new na("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r1(n)},p=new TM(r,s,l,d);return CM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),uo(new na("auth-internal",e=>{const t=Jd(e.getProvider("auth").getImmediate());return(r=>new FP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Uw,zw,HP(n)),Jr(Uw,zw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=5*60,QP=PA("authIdTokenMaxAge")||YP;let Bw=null;const KP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>QP)return;const s=t==null?void 0:t.token;Bw!==s&&(Bw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $P(n=Ry()){const e=Zd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RM(n,{popupRedirectResolver:qP,persistence:[JM,jM,c1]}),r=PA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=KP(l.toString());VM(t,u,()=>u(t.currentUser)),kM(t,h=>u(h))}}const s=xA("auth");return s&&IM(t,`http://${s}`),t}function XP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const l=br("internal-error");l.customData=s,t(l)},r.type="text/javascript",r.charset="UTF-8",XP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GP("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,y1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function A(){}A.prototype=C.prototype,x.D=C.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(N,U,B){for(var M=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)M[xe-2]=arguments[xe];return C.prototype[U].apply(N,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,C,A){A||(A=0);var N=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)N[U]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(U=0;16>U;++U)N[U]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=x.g[0],A=x.g[1],U=x.g[2];var B=x.g[3],M=C+(B^A&(U^B))+N[0]+3614090360&4294967295;C=A+(M<<7&4294967295|M>>>25),M=B+(U^C&(A^U))+N[1]+3905402710&4294967295,B=C+(M<<12&4294967295|M>>>20),M=U+(A^B&(C^A))+N[2]+606105819&4294967295,U=B+(M<<17&4294967295|M>>>15),M=A+(C^U&(B^C))+N[3]+3250441966&4294967295,A=U+(M<<22&4294967295|M>>>10),M=C+(B^A&(U^B))+N[4]+4118548399&4294967295,C=A+(M<<7&4294967295|M>>>25),M=B+(U^C&(A^U))+N[5]+1200080426&4294967295,B=C+(M<<12&4294967295|M>>>20),M=U+(A^B&(C^A))+N[6]+2821735955&4294967295,U=B+(M<<17&4294967295|M>>>15),M=A+(C^U&(B^C))+N[7]+4249261313&4294967295,A=U+(M<<22&4294967295|M>>>10),M=C+(B^A&(U^B))+N[8]+1770035416&4294967295,C=A+(M<<7&4294967295|M>>>25),M=B+(U^C&(A^U))+N[9]+2336552879&4294967295,B=C+(M<<12&4294967295|M>>>20),M=U+(A^B&(C^A))+N[10]+4294925233&4294967295,U=B+(M<<17&4294967295|M>>>15),M=A+(C^U&(B^C))+N[11]+2304563134&4294967295,A=U+(M<<22&4294967295|M>>>10),M=C+(B^A&(U^B))+N[12]+1804603682&4294967295,C=A+(M<<7&4294967295|M>>>25),M=B+(U^C&(A^U))+N[13]+4254626195&4294967295,B=C+(M<<12&4294967295|M>>>20),M=U+(A^B&(C^A))+N[14]+2792965006&4294967295,U=B+(M<<17&4294967295|M>>>15),M=A+(C^U&(B^C))+N[15]+1236535329&4294967295,A=U+(M<<22&4294967295|M>>>10),M=C+(U^B&(A^U))+N[1]+4129170786&4294967295,C=A+(M<<5&4294967295|M>>>27),M=B+(A^U&(C^A))+N[6]+3225465664&4294967295,B=C+(M<<9&4294967295|M>>>23),M=U+(C^A&(B^C))+N[11]+643717713&4294967295,U=B+(M<<14&4294967295|M>>>18),M=A+(B^C&(U^B))+N[0]+3921069994&4294967295,A=U+(M<<20&4294967295|M>>>12),M=C+(U^B&(A^U))+N[5]+3593408605&4294967295,C=A+(M<<5&4294967295|M>>>27),M=B+(A^U&(C^A))+N[10]+38016083&4294967295,B=C+(M<<9&4294967295|M>>>23),M=U+(C^A&(B^C))+N[15]+3634488961&4294967295,U=B+(M<<14&4294967295|M>>>18),M=A+(B^C&(U^B))+N[4]+3889429448&4294967295,A=U+(M<<20&4294967295|M>>>12),M=C+(U^B&(A^U))+N[9]+568446438&4294967295,C=A+(M<<5&4294967295|M>>>27),M=B+(A^U&(C^A))+N[14]+3275163606&4294967295,B=C+(M<<9&4294967295|M>>>23),M=U+(C^A&(B^C))+N[3]+4107603335&4294967295,U=B+(M<<14&4294967295|M>>>18),M=A+(B^C&(U^B))+N[8]+1163531501&4294967295,A=U+(M<<20&4294967295|M>>>12),M=C+(U^B&(A^U))+N[13]+2850285829&4294967295,C=A+(M<<5&4294967295|M>>>27),M=B+(A^U&(C^A))+N[2]+4243563512&4294967295,B=C+(M<<9&4294967295|M>>>23),M=U+(C^A&(B^C))+N[7]+1735328473&4294967295,U=B+(M<<14&4294967295|M>>>18),M=A+(B^C&(U^B))+N[12]+2368359562&4294967295,A=U+(M<<20&4294967295|M>>>12),M=C+(A^U^B)+N[5]+4294588738&4294967295,C=A+(M<<4&4294967295|M>>>28),M=B+(C^A^U)+N[8]+2272392833&4294967295,B=C+(M<<11&4294967295|M>>>21),M=U+(B^C^A)+N[11]+1839030562&4294967295,U=B+(M<<16&4294967295|M>>>16),M=A+(U^B^C)+N[14]+4259657740&4294967295,A=U+(M<<23&4294967295|M>>>9),M=C+(A^U^B)+N[1]+2763975236&4294967295,C=A+(M<<4&4294967295|M>>>28),M=B+(C^A^U)+N[4]+1272893353&4294967295,B=C+(M<<11&4294967295|M>>>21),M=U+(B^C^A)+N[7]+4139469664&4294967295,U=B+(M<<16&4294967295|M>>>16),M=A+(U^B^C)+N[10]+3200236656&4294967295,A=U+(M<<23&4294967295|M>>>9),M=C+(A^U^B)+N[13]+681279174&4294967295,C=A+(M<<4&4294967295|M>>>28),M=B+(C^A^U)+N[0]+3936430074&4294967295,B=C+(M<<11&4294967295|M>>>21),M=U+(B^C^A)+N[3]+3572445317&4294967295,U=B+(M<<16&4294967295|M>>>16),M=A+(U^B^C)+N[6]+76029189&4294967295,A=U+(M<<23&4294967295|M>>>9),M=C+(A^U^B)+N[9]+3654602809&4294967295,C=A+(M<<4&4294967295|M>>>28),M=B+(C^A^U)+N[12]+3873151461&4294967295,B=C+(M<<11&4294967295|M>>>21),M=U+(B^C^A)+N[15]+530742520&4294967295,U=B+(M<<16&4294967295|M>>>16),M=A+(U^B^C)+N[2]+3299628645&4294967295,A=U+(M<<23&4294967295|M>>>9),M=C+(U^(A|~B))+N[0]+4096336452&4294967295,C=A+(M<<6&4294967295|M>>>26),M=B+(A^(C|~U))+N[7]+1126891415&4294967295,B=C+(M<<10&4294967295|M>>>22),M=U+(C^(B|~A))+N[14]+2878612391&4294967295,U=B+(M<<15&4294967295|M>>>17),M=A+(B^(U|~C))+N[5]+4237533241&4294967295,A=U+(M<<21&4294967295|M>>>11),M=C+(U^(A|~B))+N[12]+1700485571&4294967295,C=A+(M<<6&4294967295|M>>>26),M=B+(A^(C|~U))+N[3]+2399980690&4294967295,B=C+(M<<10&4294967295|M>>>22),M=U+(C^(B|~A))+N[10]+4293915773&4294967295,U=B+(M<<15&4294967295|M>>>17),M=A+(B^(U|~C))+N[1]+2240044497&4294967295,A=U+(M<<21&4294967295|M>>>11),M=C+(U^(A|~B))+N[8]+1873313359&4294967295,C=A+(M<<6&4294967295|M>>>26),M=B+(A^(C|~U))+N[15]+4264355552&4294967295,B=C+(M<<10&4294967295|M>>>22),M=U+(C^(B|~A))+N[6]+2734768916&4294967295,U=B+(M<<15&4294967295|M>>>17),M=A+(B^(U|~C))+N[13]+1309151649&4294967295,A=U+(M<<21&4294967295|M>>>11),M=C+(U^(A|~B))+N[4]+4149444226&4294967295,C=A+(M<<6&4294967295|M>>>26),M=B+(A^(C|~U))+N[11]+3174756917&4294967295,B=C+(M<<10&4294967295|M>>>22),M=U+(C^(B|~A))+N[2]+718787259&4294967295,U=B+(M<<15&4294967295|M>>>17),M=A+(B^(U|~C))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+U&4294967295,x.g[3]=x.g[3]+B&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var A=C-this.blockSize,N=this.B,U=this.h,B=0;B<C;){if(U==0)for(;B<=A;)s(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<C;)if(N[U++]=x.charCodeAt(B++),U==this.blockSize){s(this,N),U=0;break}}else for(;B<C;)if(N[U++]=x[B++],U==this.blockSize){s(this,N),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var A=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.u(x),x=Array(16),C=A=0;4>C;++C)for(var N=0;32>N;N+=8)x[A++]=this.g[C]>>>N&255;return x};function l(x,C){var A=h;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=C(x)}function u(x,C){this.h=C;for(var A=[],N=!0,U=x.length-1;0<=U;U--){var B=x[U]|0;N&&B==C||(A[U]=B,N=!1)}this.g=A}var h={};function d(x){return-128<=x&&128>x?l(x,function(C){return new u([C|0],0>C?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return D(p(-x));for(var C=[],A=1,N=0;x>=A;N++)C[N]=x/A|0,A*=4294967296;return new u(C,0)}function _(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return D(_(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(C,8)),N=v,U=0;U<x.length;U+=8){var B=Math.min(8,x.length-U),M=parseInt(x.substring(U,U+B),C);8>B?(B=p(Math.pow(C,B)),N=N.j(B).add(p(M))):(N=N.j(A),N=N.add(p(M)))}return N}var v=d(0),w=d(1),b=d(16777216);n=u.prototype,n.m=function(){if(S(this))return-D(this).m();for(var x=0,C=1,A=0;A<this.g.length;A++){var N=this.i(A);x+=(0<=N?N:4294967296+N)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(S(this))return"-"+D(this).toString(x);for(var C=p(Math.pow(x,6)),A=this,N="";;){var U=H(A,C).g;A=k(A,U.j(C));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=U,R(A))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function S(x){return x.h==-1}n.l=function(x){return x=k(this,x),S(x)?-1:R(x)?0:1};function D(x){for(var C=x.g.length,A=[],N=0;N<C;N++)A[N]=~x.g[N];return new u(A,~x.h).add(w)}n.abs=function(){return S(this)?D(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],N=0,U=0;U<=C;U++){var B=N+(this.i(U)&65535)+(x.i(U)&65535),M=(B>>>16)+(this.i(U)>>>16)+(x.i(U)>>>16);N=M>>>16,B&=65535,M&=65535,A[U]=M<<16|B}return new u(A,A[A.length-1]&-2147483648?-1:0)};function k(x,C){return x.add(D(C))}n.j=function(x){if(R(this)||R(x))return v;if(S(this))return S(x)?D(this).j(D(x)):D(D(this).j(x));if(S(x))return D(this.j(D(x)));if(0>this.l(b)&&0>x.l(b))return p(this.m()*x.m());for(var C=this.g.length+x.g.length,A=[],N=0;N<2*C;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<x.g.length;U++){var B=this.i(N)>>>16,M=this.i(N)&65535,xe=x.i(U)>>>16,Ie=x.i(U)&65535;A[2*N+2*U]+=M*Ie,L(A,2*N+2*U),A[2*N+2*U+1]+=B*Ie,L(A,2*N+2*U+1),A[2*N+2*U+1]+=M*xe,L(A,2*N+2*U+1),A[2*N+2*U+2]+=B*xe,L(A,2*N+2*U+2)}for(N=0;N<C;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=C;N<2*C;N++)A[N]=0;return new u(A,0)};function L(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function V(x,C){this.g=x,this.h=C}function H(x,C){if(R(C))throw Error("division by zero");if(R(x))return new V(v,v);if(S(x))return C=H(D(x),C),new V(D(C.g),D(C.h));if(S(C))return C=H(x,D(C)),new V(D(C.g),C.h);if(30<x.g.length){if(S(x)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var A=w,N=C;0>=N.l(x);)A=q(A),N=q(N);var U=X(A,1),B=X(N,1);for(N=X(N,2),A=X(A,2);!R(N);){var M=B.add(N);0>=M.l(x)&&(U=U.add(A),B=M),N=X(N,1),A=X(A,1)}return C=k(x,U.j(C)),new V(U,C)}for(U=v;0<=x.l(C);){for(A=Math.max(1,Math.floor(x.m()/C.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=p(A),M=B.j(C);S(M)||0<M.l(x);)A-=N,B=p(A),M=B.j(C);R(B)&&(B=w),U=U.add(B),x=k(x,M)}return new V(U,x)}n.A=function(x){return H(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)&x.i(N);return new u(A,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)|x.i(N);return new u(A,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)^x.i(N);return new u(A,this.h^x.h)};function q(x){for(var C=x.g.length+1,A=[],N=0;N<C;N++)A[N]=x.i(N)<<1|x.i(N-1)>>>31;return new u(A,x.h)}function X(x,C){var A=C>>5;C%=32;for(var N=x.g.length-A,U=[],B=0;B<N;B++)U[B]=0<C?x.i(B+A)>>>C|x.i(B+A+1)<<32-C:x.i(B+A);return new u(U,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,y1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,Xs=u}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v1,dc,E1,td,M_,T1,w1,b1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(f,y){if(y)e:{var E=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var Y=f[O];if(!(Y in E))break e;E=E[Y]}f=f[f.length-1],O=E[f],y=y(O),y!=O&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var E=0,O=!1,Y={next:function(){if(!O&&E<f.length){var W=E++;return{value:y(W,f[W]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(f){return f||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,O),f.apply(y,Y)}}return function(){return f.apply(y,arguments)}}function w(f,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,w.apply(null,arguments)}function b(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function R(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(O,Y,W){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return y.prototype[Y].apply(O,oe)}}function S(f){const y=f.length;if(0<y){const E=Array(y);for(let O=0;O<y;O++)E[O]=f[O];return E}return[]}function D(f,y){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(d(O)){const Y=f.length||0,W=O.length||0;f.length=Y+W;for(let oe=0;oe<W;oe++)f[Y+oe]=O[oe]}else f.push(O)}}class k{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function X(f,y,E){for(const O in f)y.call(E,f[O],O,f)}function x(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function C(f){const y={};for(const E in f)y[E]=f[E];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let E,O;for(let Y=1;Y<arguments.length;Y++){O=arguments[Y];for(E in O)f[E]=O[E];for(let W=0;W<A.length;W++)E=A[W],Object.prototype.hasOwnProperty.call(O,E)&&(f[E]=O[E])}}function U(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function B(f){h.setTimeout(()=>{throw f},0)}function M(){var f=ke;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,E){const O=Ie.get();O.set(y,E),this.h?this.h.next=O:this.g=O,this.h=O}}var Ie=new k(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,de=!1,ke=new xe,z=()=>{const f=h.Promise.resolve(void 0);he=()=>{f.then(se)}};var se=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(E){B(E)}var y=Ie;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}de=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return f}();function Ee(f,y){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(q){e:{try{H(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ee.aa.h.call(this)}}R(Ee,ue);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function ft(f,y,E,O,Y){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!O,this.ha=Y,this.key=++Fe,this.da=this.fa=!1}function $e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function mn(f){this.src=f,this.g={},this.h=0}mn.prototype.add=function(f,y,E,O,Y){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var oe=Yn(f,y,O,Y);return-1<oe?(y=f[oe],E||(y.fa=!1)):(y=new ft(y,this.src,W,!!O,Y),y.fa=E,f.push(y)),y};function hi(f,y){var E=y.type;if(E in f.g){var O=f.g[E],Y=Array.prototype.indexOf.call(O,y,void 0),W;(W=0<=Y)&&Array.prototype.splice.call(O,Y,1),W&&($e(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Yn(f,y,E,O){for(var Y=0;Y<f.length;++Y){var W=f[Y];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==O)return Y}return-1}var es="closure_lm_"+(1e6*Math.random()|0),ts={};function fi(f,y,E,O,Y){if(Array.isArray(y)){for(var W=0;W<y.length;W++)fi(f,y[W],E,O,Y);return null}return E=mh(E),f&&f[wt]?f.K(y,E,p(O)?!!O.capture:!1,Y):Jl(f,y,E,!1,O,Y)}function Jl(f,y,E,O,Y,W){if(!y)throw Error("Invalid event type");var oe=p(Y)?!!Y.capture:!!Y,ze=eu(f);if(ze||(f[es]=ze=new mn(f)),E=ze.add(y,E,O,oe,W),E.proxy)return E;if(O=Ao(),E.proxy=O,O.src=f,O.listener=E,f.addEventListener)le||(Y=oe),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),O,Y);else if(f.attachEvent)f.attachEvent(Co(y.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ao(){function f(E){return y.call(f.src,f.listener,E)}const y=Am;return f}function Ro(f,y,E,O,Y){if(Array.isArray(y))for(var W=0;W<y.length;W++)Ro(f,y[W],E,O,Y);else O=p(O)?!!O.capture:!!O,E=mh(E),f&&f[wt]?(f=f.i,y=String(y).toString(),y in f.g&&(W=f.g[y],E=Yn(W,E,O,Y),-1<E&&($e(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete f.g[y],f.h--)))):f&&(f=eu(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Yn(y,E,O,Y)),(E=-1<f?y[f]:null)&&ma(E))}function ma(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[wt])hi(y.i,f);else{var E=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(E,O,f.capture):y.detachEvent?y.detachEvent(Co(E),O):y.addListener&&y.removeListener&&y.removeListener(O),(E=eu(y))?(hi(E,f),E.h==0&&(E.src=null,y[es]=null)):$e(f)}}}function Co(f){return f in ts?ts[f]:ts[f]="on"+f}function Am(f,y){if(f.da)f=!0;else{y=new Ee(y,this);var E=f.listener,O=f.ha||f.src;f.fa&&ma(f),f=E.call(O,y)}return f}function eu(f){return f=f[es],f instanceof mn?f:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mh(f){return typeof f=="function"?f:(f[wn]||(f[wn]=function(y){return f.handleEvent(y)}),f[wn])}function Ot(){me.call(this),this.i=new mn(this),this.M=this,this.F=null}R(Ot,me),Ot.prototype[wt]=!0,Ot.prototype.removeEventListener=function(f,y,E,O){Ro(this,f,y,E,O)};function Ut(f,y){var E,O=f.F;if(O)for(E=[];O;O=O.F)E.push(O);if(f=f.M,O=y.type||y,typeof y=="string")y=new ue(y,f);else if(y instanceof ue)y.target=y.target||f;else{var Y=y;y=new ue(O,f),N(y,Y)}if(Y=!0,E)for(var W=E.length-1;0<=W;W--){var oe=y.g=E[W];Y=di(oe,O,!0,y)&&Y}if(oe=y.g=f,Y=di(oe,O,!0,y)&&Y,Y=di(oe,O,!1,y)&&Y,E)for(W=0;W<E.length;W++)oe=y.g=E[W],Y=di(oe,O,!1,y)&&Y}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],O=0;O<E.length;O++)$e(E[O]);delete f.g[y],f.h--}}this.F=null},Ot.prototype.K=function(f,y,E,O){return this.i.add(String(f),y,!1,E,O)},Ot.prototype.L=function(f,y,E,O){return this.i.add(String(f),y,!0,E,O)};function di(f,y,E,O){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==E){var ze=oe.listener,Nt=oe.ha||oe.src;oe.fa&&hi(f.i,oe),Y=ze.call(Nt,O)!==!1&&Y}}return Y&&!O.defaultPrevented}function ph(f,y,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function tu(f){f.g=ph(()=>{f.g=null,f.i&&(f.i=!1,tu(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Rm extends me{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(f){me.call(this),this.h=f,this.g={}}R(pa,me);var ns=[];function nn(f){X(f.g,function(y,E){this.g.hasOwnProperty(E)&&ma(y)},f),f.g={}}pa.prototype.N=function(){pa.aa.N.call(this),nn(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nu=h.JSON.stringify,Or=h.JSON.parse,pn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function ru(){}ru.prototype.h=null;function gh(f){return f.h||(f.h=f.i())}function _h(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){ue.call(this,"d")}R(rs,ue);function mr(){ue.call(this,"c")}R(mr,ue);var Qn={},is=null;function Io(){return is=is||new Ot}Qn.La="serverreachability";function iu(f){ue.call(this,Qn.La,f)}R(iu,ue);function ss(f){const y=Io();Ut(y,new iu(y))}Qn.STAT_EVENT="statevent";function Do(f,y){ue.call(this,Qn.STAT_EVENT,f),this.stat=y}R(Do,ue);function yt(f){const y=Io();Ut(y,new Do(y,f))}Qn.Ma="timingevent";function yh(f,y){ue.call(this,Qn.Ma,f),this.size=y}R(yh,ue);function as(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function vh(f,y,E,O,Y,W){f.info(function(){if(f.g)if(W)for(var oe="",ze=W.split("&"),Nt=0;Nt<ze.length;Nt++){var Be=ze[Nt].split("=");if(1<Be.length){var jt=Be[0];Be=Be[1];var Mt=jt.split("_");oe=2<=Mt.length&&Mt[1]=="type"?oe+(jt+"="+Be+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+O+") [attempt "+Y+"]: "+y+`
`+E+`
`+oe})}function Eh(f,y,E,O,Y,W,oe){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Y+"]: "+y+`
`+E+`
`+W+" "+oe})}function ls(f,y,E,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+zt(f,E)+(O?" "+O:"")})}function Nr(f,y){f.info(function(){return"TIMEOUT: "+y})}os.prototype.info=function(){};function zt(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var O=E[f];if(!(2>O.length)){var Y=O[1];if(Array.isArray(Y)&&!(1>Y.length)){var W=Y[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<Y.length;oe++)Y[oe]=""}}}}return nu(E)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ga;function Oo(){}R(Oo,ru),Oo.prototype.g=function(){return new XMLHttpRequest},Oo.prototype.i=function(){return{}},ga=new Oo;function Mr(f,y,E,O){this.j=f,this.i=y,this.l=E,this.R=O||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var us={},_a={};function pr(f,y,E){f.L=1,f.v=Ea(dt(y)),f.m=E,f.P=!0,pi(f,null)}function pi(f,y){f.F=Date.now(),st(f),f.A=dt(f.v);var E=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),yi(E.i,"t",O),f.C=0,E=f.j.J,f.h=new su,f.g=Ph(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Rm(w(f.Y,f,f.g),f.O)),y=f.U,E=f.g,O=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ns[0]=Y.toString()),Y=ns);for(var W=0;W<Y.length;W++){var oe=fi(E,Y[W],O||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ss(),vh(f.i,f.u,f.A,f.l,f.R,f.m)}Mr.prototype.ca=function(f){f=f.target;const y=this.M;y&&Zn(f)==3?y.j():this.Y(f)},Mr.prototype.Y=function(f){try{if(f==this.g)e:{const Mt=Zn(this.g);var y=this.g.Ba();const wi=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Rh(this.g)))){this.J||Mt!=4||y==7||(y==8||0>=wi?ss(3):ss(2)),xo(this);var E=this.g.Z();this.X=E;t:if(cs(this)){var O=Rh(this.g);f="";var Y=O.length,W=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),xn(this);var oe="";break t}this.h.i=new h.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(W&&y==Y-1)});O.length=0,this.h.g+=f,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Eh(this.i,this.u,this.A,this.l,this.R,Mt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Nt=this.g;if((ze=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ze)){var Be=ze;break t}}Be=null}if(E=Be)ls(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,E);else{this.o=!1,this.s=3,yt(12),bn(this),xn(this);break e}}if(this.P){E=!0;let Qt;for(;!this.J&&this.C<oe.length;)if(Qt=hs(this,oe),Qt==_a){Mt==4&&(this.s=4,yt(14),E=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==us){this.s=4,yt(15),ls(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else ls(this.i,this.l,Qt,null),Nn(this,Qt);if(cs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||oe.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)ls(this.i,this.l,oe,"[Invalid Chunked Response]"),bn(this),xn(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ca(jt),jt.M=!0,yt(11))}}else ls(this.i,this.l,oe,null),Nn(this,oe);Mt==4&&bn(this),this.o&&!this.J&&(Mt==4?xh(this.j,this):(this.o=!1,st(this)))}else Nm(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),bn(this),xn(this)}}}catch{}finally{}};function cs(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function hs(f,y){var E=f.C,O=y.indexOf(`
`,E);return O==-1?_a:(E=Number(y.substring(E,O)),isNaN(E)?us:(O+=1,O+E>y.length?_a:(y=y.slice(O,O+E),f.C=O+E,y)))}Mr.prototype.cancel=function(){this.J=!0,bn(this)};function st(f){f.S=Date.now()+f.I,au(f,f.I)}function au(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=as(w(f.ba,f),y)}function xo(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Mr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Nr(this.i,this.A),this.L!=2&&(ss(),yt(17)),bn(this),this.s=2,xn(this)):au(this,this.S-f)};function xn(f){f.j.G==0||f.J||xh(f.j,f)}function bn(f){xo(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,nn(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Nn(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||fs(E.h,f))){if(!f.K&&fs(E.h,f)&&E.G==3){try{var O=E.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Y=O;if(Y[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)jo(E),zo(E);else break e;_u(E),yt(18)}}else E.za=Y[1],0<E.za-E.T&&37500>Y[2]&&E.F&&E.v==0&&!E.C&&(E.C=as(w(E.Za,E),6e3));if(1>=Th(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ti(E,11)}else if((f.K||E.g==f)&&jo(E),!L(y))for(Y=E.Da.g.parse(y),y=0;y<Y.length;y++){let Be=Y[y];if(E.T=Be[0],Be=Be[1],E.G==2)if(Be[0]=="c"){E.K=Be[1],E.ia=Be[2];const jt=Be[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const Mt=Be[4];Mt!=null&&(E.Aa=Mt,E.j.info("SVER="+E.Aa));const wi=Be[5];wi!=null&&typeof wi=="number"&&0<wi&&(O=1.5*wi,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Qt=f.g;if(Qt){const Br=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var W=O.h;W.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ds(W,W.h),W.h=null))}if(O.D){const vu=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;vu&&(O.ya=vu,He(O.I,O.D,vu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var oe=f;if(O.qa=Mh(O,O.J?O.ia:null,O.W),oe.K){Kn(O.h,oe);var ze=oe,Nt=O.L;Nt&&(ze.I=Nt),ze.B&&(xo(ze),st(ze)),O.g=oe}else Dh(O);0<E.i.length&&Bo(E)}else Be[0]!="stop"&&Be[0]!="close"||Ti(E,7);else E.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ti(E,7):pu(E):Be[0]!="noop"&&E.l&&E.l.ta(Be),E.v=0)}}ss(4)}catch{}}var Cm=class{constructor(f,y){this.g=f,this.map=y}};function ou(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Th(f){return f.h?1:f.g?f.g.size:0}function fs(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ds(f,y){f.g?f.g.add(y):f.h=y}function Kn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}ou.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function gn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return S(f.i)}function wh(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],E=f.length,O=0;O<E;O++)y.push(f[O]);return y}y=[],E=0;for(O in f)y[E++]=f[O];return y}function Im(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const O in f)y[E++]=O;return y}}}function ya(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Im(f),O=wh(f),Y=O.length,W=0;W<Y;W++)y.call(void 0,O[W],E&&E[W],f)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var O=f[E].indexOf("="),Y=null;if(0<=O){var W=f[E].substring(0,O);Y=f[E].substring(O+1)}else W=f[E];y(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function gi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof gi){this.h=f.h,ms(this,f.j),this.o=f.o,this.g=f.g,va(this,f.s),this.l=f.l;var y=f.i,E=new Pr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Mo(this,E),this.m=f.m}else f&&(y=String(f).match(uu))?(this.h=!1,ms(this,y[1]||"",!0),this.o=ps(y[2]||""),this.g=ps(y[3]||"",!0),va(this,y[4]),this.l=ps(y[5]||"",!0),Mo(this,y[6]||"",!0),this.m=ps(y[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}gi.prototype.toString=function(){var f=[],y=this.j;y&&f.push($n(y,cu,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push($n(y,cu,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push($n(E,E.charAt(0)=="/"?hu:bh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",$n(E,xm)),f.join("")};function dt(f){return new gi(f)}function ms(f,y,E){f.j=E?ps(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function va(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Mo(f,y,E){y instanceof Pr?(f.i=y,fu(f.i,f.h)):(E||(y=$n(y,Om)),f.i=new Pr(y,f.h))}function He(f,y,E){f.i.set(y,E)}function Ea(f){return He(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ps(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $n(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Dm),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dm(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cu=/[#\/\?@]/g,bh=/[#\?:]/g,hu=/[#\?]/g,Om=/[#\?@]/g,xm=/#/g;function Pr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Xn(f){f.g||(f.g=new Map,f.h=0,f.i&&No(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Pr.prototype,n.add=function(f,y){Xn(this),this.i=null,f=vi(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Po(f,y){Xn(f),y=vi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function _i(f,y){return Xn(f),y=vi(f,y),f.g.has(y)}n.forEach=function(f,y){Xn(this),this.g.forEach(function(E,O){E.forEach(function(Y){f.call(y,Y,O,this)},this)},this)},n.na=function(){Xn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let O=0;O<y.length;O++){const Y=f[O];for(let W=0;W<Y.length;W++)E.push(y[O])}return E},n.V=function(f){Xn(this);let y=[];if(typeof f=="string")_i(this,f)&&(y=y.concat(this.g.get(vi(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return Xn(this),this.i=null,f=vi(this,f),_i(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function yi(f,y,E){Po(f,y),0<E.length&&(f.i=null,f.g.set(vi(f,y),S(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var O=y[E];const W=encodeURIComponent(String(O)),oe=this.V(O);for(O=0;O<oe.length;O++){var Y=W;oe[O]!==""&&(Y+="="+encodeURIComponent(String(oe[O]))),f.push(Y)}}return this.i=f.join("&")};function vi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function fu(f,y){y&&!f.j&&(Xn(f),f.i=null,f.g.forEach(function(E,O){var Y=O.toLowerCase();O!=Y&&(Po(this,O),yi(this,Y,E))},f)),f.j=y}function Sh(f,y){const E=new os;if(h.Image){const O=new Image;O.onload=b(Wn,E,"TestLoadImage: loaded",!0,y,O),O.onerror=b(Wn,E,"TestLoadImage: error",!1,y,O),O.onabort=b(Wn,E,"TestLoadImage: abort",!1,y,O),O.ontimeout=b(Wn,E,"TestLoadImage: timeout",!1,y,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}function Ta(f,y){const E=new os,O=new AbortController,Y=setTimeout(()=>{O.abort(),Wn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:O.signal}).then(W=>{clearTimeout(Y),W.ok?Wn(E,"TestPingServer: ok",!0,y):Wn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Wn(E,"TestPingServer: error",!1,y)})}function Wn(f,y,E,O,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),O(E)}catch{}}function wa(){this.g=new pn}function kr(f,y,E){const O=E||"";try{ya(f,function(Y,W){let oe=Y;p(Y)&&(oe=nu(Y)),y.push(O+W+"="+encodeURIComponent(oe))})}catch(Y){throw y.push(O+"type="+encodeURIComponent("_badmap")),Y}}function gs(f){this.l=f.Ub||null,this.j=f.eb||!1}R(gs,ru),gs.prototype.g=function(){return new Ei(this.l,this.j)},gs.prototype.i=function(f){return function(){return f}}({});function Ei(f,y){Ot.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ei,Ot),n=Ei.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Lr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;du(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function du(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Vr(this):Lr(this),this.readyState==3&&du(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Vr(this))},n.Qa=function(f){this.g&&(this.response=f,Vr(this))},n.ga=function(){this.g&&Vr(this)};function Vr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Lr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mu(f){let y="";return X(f,function(E,O){y+=O,y+=":",y+=E,y+=`\r
`}),y}function Bt(f,y,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=mu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):He(f,y,E))}function Qe(f){Ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Qe,Ot);var ko=/^https?$/i,ba=["POST","PUT"];n=Qe.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ga.g(),this.v=this.o?gh(this.o):gh(ga),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(W){Ah(this,W);return}if(f=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Y in O)E.set(Y,O[Y]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const W of O.keys())E.set(W,O.get(W));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ba,y,void 0))||O||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of E)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){Ah(this,W)}};function Ah(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Vo(f),Ur(f)}function Vo(f){f.A||(f.A=!0,Ut(f,"complete"),Ut(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ut(this,"complete"),Ut(this,"abort"),Ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},n.bb=function(){Lo(this)};function Lo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Zn(f)!=4||f.Z()!=2)){if(f.u&&Zn(f)==4)ph(f.Ea,0,f);else if(Ut(f,"readystatechange"),Zn(f)==4){f.h=!1;try{const oe=f.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var O;if(O=oe===0){var Y=String(f.D).match(uu)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),O=!ko.test(Y?Y.toLowerCase():"")}E=O}if(E)Ut(f,"complete"),Ut(f,"success");else{f.m=6;try{var W=2<Zn(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",Vo(f)}}finally{Ur(f)}}}}function Ur(f,y){if(f.g){Sa(f);const E=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ut(f,"ready");try{E.onreadystatechange=O}catch{}}}function Sa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Zn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Or(y)}};function Rh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Nm(f){const y={};f=(f.g&&2<=Zn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(L(f[O]))continue;var E=U(f[O]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[Y]||[];y[Y]=W,W.push(E)}x(y,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function Uo(f){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,f),this.cb=Aa("retryDelaySeedMs",1e4,f),this.Wa=Aa("forwardChannelMaxRetries",2,f),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ou(f&&f.concurrentRequestLimit),this.Da=new wa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Uo.prototype,n.la=8,n.G=1,n.connect=function(f,y,E,O){yt(0),this.W=f,this.H=y||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Mh(this,null,this.W),Bo(this)};function pu(f){if(Ch(f),f.G==3){var y=f.U++,E=dt(f.I);if(He(E,"SID",f.K),He(E,"RID",y),He(E,"TYPE","terminate"),Ra(f,E),y=new Mr(f,f.j,y),y.L=2,y.v=Ea(dt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ph(y.j,null),y.g.ea(y.v)),y.F=Date.now(),st(y)}Nh(f)}function zo(f){f.g&&(Ca(f),f.g.cancel(),f.g=null)}function Ch(f){zo(f),f.u&&(h.clearTimeout(f.u),f.u=null),jo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Bo(f){if(!lu(f.h)&&!f.s){f.s=!0;var y=f.Ga;he||z(),de||(he(),de=!0),ke.add(y,f),f.B=0}}function Mm(f,y){return Th(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=as(w(f.Ga,f,y),yu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new Mr(this,this.j,f);let W=this.o;if(this.S&&(W?(W=C(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(Y.H=W,W=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ih(this,Y,y),E=dt(this.I),He(E,"RID",f),He(E,"CVER",22),this.D&&He(E,"X-HTTP-Session-Id",this.D),Ra(this,E),W&&(this.O?y="headers="+encodeURIComponent(String(mu(W)))+"&"+y:this.m&&Bt(E,this.m,W)),ds(this.h,Y),this.Ua&&He(E,"TYPE","init"),this.P?(He(E,"$req",y),He(E,"SID","null"),Y.T=!0,pr(Y,E,null)):pr(Y,E,y),this.G=2}}else this.G==3&&(f?gu(this,f):this.i.length==0||lu(this.h)||gu(this))};function gu(f,y){var E;y?E=y.l:E=f.U++;const O=dt(f.I);He(O,"SID",f.K),He(O,"RID",E),He(O,"AID",f.T),Ra(f,O),f.m&&f.o&&Bt(O,f.m,f.o),E=new Mr(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Ih(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ds(f.h,E),pr(E,O,y)}function Ra(f,y){f.H&&X(f.H,function(E,O){He(y,O,E)}),f.l&&ya({},function(E,O){He(y,O,E)})}function Ih(f,y,E){E=Math.min(f.i.length,E);var O=f.l?w(f.l.Na,f.l,f):null;e:{var Y=f.i;let W=-1;for(;;){const oe=["count="+E];W==-1?0<E?(W=Y[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let ze=!0;for(let Nt=0;Nt<E;Nt++){let Be=Y[Nt].g;const jt=Y[Nt].map;if(Be-=W,0>Be)W=Math.max(0,Y[Nt].g-100),ze=!1;else try{kr(jt,oe,"req"+Be+"_")}catch{O&&O(jt)}}if(ze){O=oe.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,O}function Dh(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;he||z(),de||(he(),de=!0),ke.add(y,f),f.v=0}}function _u(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=as(w(f.Fa,f),yu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Oh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=as(w(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),zo(this),Oh(this))};function Ca(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Oh(f){f.g=new Mr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=dt(f.qa);He(y,"RID","rpc"),He(y,"SID",f.K),He(y,"AID",f.T),He(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&He(y,"TO",f.ja),He(y,"TYPE","xmlhttp"),Ra(f,y),f.m&&f.o&&Bt(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Ea(dt(y)),E.m=null,E.P=!0,pi(E,f)}n.Za=function(){this.C!=null&&(this.C=null,zo(this),_u(this),yt(19))};function jo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function xh(f,y){var E=null;if(f.g==y){jo(f),Ca(f),f.g=null;var O=2}else if(fs(f.h,y))E=y.D,Kn(f.h,y),O=1;else return;if(f.G!=0){if(y.o)if(O==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var Y=f.B;O=Io(),Ut(O,new yh(O,E)),Bo(f)}else Dh(f);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(O==1&&Mm(f,y)||O==2&&_u(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),Y){case 1:Ti(f,5);break;case 4:Ti(f,10);break;case 3:Ti(f,6);break;default:Ti(f,2)}}}function yu(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Ti(f,y){if(f.j.info("Error code "+y),y==2){var E=w(f.fb,f),O=f.Xa;const Y=!O;O=new gi(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ms(O,"https"),Ea(O),Y?Sh(O.toString(),E):Ta(O.toString(),E)}else yt(2);f.G=0,f.l&&f.l.sa(y),Nh(f),Ch(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Nh(f){if(f.G=0,f.ka=[],f.l){const y=gn(f.h);(y.length!=0||f.i.length!=0)&&(D(f.ka,y),D(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Mh(f,y,E){var O=E instanceof gi?dt(E):new gi(E);if(O.g!="")y&&(O.g=y+"."+O.g),va(O,O.s);else{var Y=h.location;O=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var W=new gi(null);O&&ms(W,O),y&&(W.g=y),Y&&va(W,Y),E&&(W.l=E),O=W}return E=f.D,y=f.ya,E&&y&&He(O,E,y),He(O,"VER",f.la),Ra(f,O),O}function Ph(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Qe(new gs({eb:E})):new Qe(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kh(){}n=kh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qo(){}qo.prototype.g=function(f,y){return new _n(f,y)};function _n(f,y){Ot.call(this),this.g=new Uo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!L(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new zr(this)}R(_n,Ot),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){pu(this.g)},_n.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=nu(f),f=E);y.i.push(new Cm(y.Ya++,f)),y.G==3&&Bo(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,_n.aa.N.call(this)};function Vh(f){rs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}R(Vh,rs);function Lh(){mr.call(this),this.status=1}R(Lh,mr);function zr(f){this.g=f}R(zr,kh),zr.prototype.ua=function(){Ut(this.g,"a")},zr.prototype.ta=function(f){Ut(this.g,new Vh(f))},zr.prototype.sa=function(f){Ut(this.g,new Lh)},zr.prototype.ra=function(){Ut(this.g,"b")},qo.prototype.createWebChannel=qo.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,b1=function(){return new qo},w1=function(){return Io()},T1=Qn,M_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,td=xt,mi.COMPLETE="complete",E1=mi,_h.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,dc=_h,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,v1=Qe}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const qw="@firebase/firestore",Fw="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new Sy("@firebase/firestore");function _l(){return ho.logLevel}function ce(n,...e){if(ho.logLevel<=Me.DEBUG){const t=e.map(Uy);ho.debug(`Firestore (${Kl}): ${n}`,...t)}}function Wi(n,...e){if(ho.logLevel<=Me.ERROR){const t=e.map(Uy);ho.error(`Firestore (${Kl}): ${n}`,...t)}}function Ul(n,...e){if(ho.logLevel<=Me.WARN){const t=e.map(Uy);ho.warn(`Firestore (${Kl}): ${n}`,...t)}}function Uy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+n;throw Wi(e),new Error(e)}function Ke(n,e){n||Te()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class ZP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JP{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let l=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new S1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new on(e)}}class ek{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tk{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new ek(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0);const r=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Hw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new Hw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=rk(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function zl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-62135596800,Yw=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Yw);return new Vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gw)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__name__";class Kr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=Kr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Kr.isNumericId(e),s=Kr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class rt extends Kr{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const ik=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Kr{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return ik.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qw}static keyField(){return new Jt([Qw])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(l(),s++)}if(l(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function sk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new ra(s,ye.empty(),e)}function ak(n){return new ra(n.readTime,n.key,zc)}class ra{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ra(be.min(),ye.empty(),zc)}static max(){return new ra(be.max(),ye.empty(),zc)}}function ok(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==lk)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let s=0,l=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++l,u&&l===s&&t()},d=>r(d))}),u=!0,l===s&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(s=>s?re.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}static mapArray(e,t){return new re((r,s)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;t(e[p]).next(_=>{u[p]=_,++h,h===l&&r(u)},_=>s(_))}})}static doWhile(e,t){return new re((r,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):r()};l()})}}function ck(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function rm(n){return n==null}function Sd(n){return n===0&&1/n==-1/0}function hk(n){return typeof n=="number"&&Number.isInteger(n)&&!Sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="";function fk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Kw(e)),e=dk(n.get(t),e);return Kw(e)}function dk(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case R1:t+="";break;default:t+=l}}return t}function Kw(n){return n+R1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function C1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new Zt(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,s,l){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new Lt(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new I1("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const mk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=mk.exec(n);if(Ke(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sa(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",O1="__type__",x1="__previous_value__",N1="__local_write_time__";function By(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[O1])===null||t===void 0?void 0:t.stringValue)===D1}function im(n){const e=n.mapValue.fields[x1];return By(e)?im(e):e}function Bc(n){const e=ia(n.mapValue.fields[N1].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t,r,s,l,u,h,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Ad="(default)";class jc{constructor(e,t){this.projectId=e,this.database=t||Ad}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__type__",gk="__max__",jf={mapValue:{}},P1="__vector__",Rd="value";function aa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?By(n)?4:yk(n)?9007199254740991:_k(n)?10:11:Te()}function ai(n,e){if(n===e)return!0;const t=aa(n);if(t!==aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bc(n).isEqual(Bc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=ia(s.timestampValue),h=ia(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return sa(s.bytesValue).isEqual(sa(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Tt(s.geoPointValue.latitude)===Tt(l.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Tt(s.integerValue)===Tt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Tt(s.doubleValue),h=Tt(l.doubleValue);return u===h?Sd(u)===Sd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return zl(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(s,l){const u=s.mapValue.fields||{},h=l.mapValue.fields||{};if($w(u)!==$w(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ai(u[d],h[d])))return!1;return!0}(n,e);default:return Te()}}function qc(n,e){return(n.values||[]).find(t=>ai(t,e))!==void 0}function Bl(n,e){if(n===e)return 0;const t=aa(n),r=aa(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(l,u){const h=Tt(l.integerValue||l.doubleValue),d=Tt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return Ww(n.timestampValue,e.timestampValue);case 4:return Ww(Bc(n),Bc(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(l,u){const h=sa(l),d=sa(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const _=Le(h[p],d[p]);if(_!==0)return _}return Le(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const h=Le(Tt(l.latitude),Tt(u.latitude));return h!==0?h:Le(Tt(l.longitude),Tt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Zw(n.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,p,_;const v=l.fields||{},w=u.fields||{},b=(h=v[Rd])===null||h===void 0?void 0:h.arrayValue,R=(d=w[Rd])===null||d===void 0?void 0:d.arrayValue,S=Le(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return S!==0?S:Zw(b,R)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===jf.mapValue&&u===jf.mapValue)return 0;if(l===jf.mapValue)return 1;if(u===jf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const w=Le(d[v],_[v]);if(w!==0)return w;const b=Bl(h[d[v]],p[_[v]]);if(b!==0)return b}return Le(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function Ww(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ia(n),r=ia(e),s=Le(t.seconds,r.seconds);return s!==0?s:Le(t.nanos,r.nanos)}function Zw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const l=Bl(t[s],r[s]);if(l)return l}return Le(t.length,r.length)}function jl(n){return P_(n)}function P_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ia(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return sa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const l of t.values||[])s?s=!1:r+=",",r+=P_(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const u of r)l?l=!1:s+=",",s+=`${u}:${P_(t.fields[u])}`;return s+"}"}(n.mapValue):Te()}function nd(n){switch(aa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=im(n);return e?16+nd(e):16;case 5:return 2*n.stringValue.length;case 6:return sa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,l)=>s+nd(l),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return To(r.fields,(l,u)=>{s+=l.length+nd(u)}),s}(n.mapValue);default:throw Te()}}function Jw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function k_(n){return!!n&&"integerValue"in n}function jy(n){return!!n&&"arrayValue"in n}function eb(n){return!!n&&"nullValue"in n}function tb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rd(n){return!!n&&"mapValue"in n}function _k(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[M1])===null||t===void 0?void 0:t.stringValue)===P1}function wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function yk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(t)}setAll(e){let t=Jt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=wc(u):s.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];rd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){To(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new hr(wc(this.value))}}function k1(n){const e=[];return To(n.fields,(t,r)=>{const s=new Jt([t]);if(rd(r)){const l=k1(r.mapValue).fields;if(l.length===0)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,s,l,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ln(e,0,be.min(),be.min(),be.min(),hr.empty(),0)}static newFoundDocument(e,t,r,s){return new ln(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new ln(e,2,t,be.min(),be.min(),hr.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,be.min(),be.min(),hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t){this.position=e,this.inclusive=t}}function nb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],u=n.position[s];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=Bl(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function rb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function vk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class Dt extends V1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Tk(e,t,r):t==="array-contains"?new Sk(e,r):t==="in"?new Ak(e,r):t==="not-in"?new Rk(e,r):t==="array-contains-any"?new Ck(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wk(e,r):new bk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bl(t,this.value)):t!==null&&aa(this.value)===aa(t)&&this.matchesComparison(Bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends V1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Cr(e,t)}matches(e){return L1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function L1(n){return n.op==="and"}function U1(n){return Ek(n)&&L1(n)}function Ek(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function V_(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(U1(n))return n.filters.map(e=>V_(e)).join(",");{const e=n.filters.map(t=>V_(t)).join(",");return`${n.op}(${e})`}}function z1(n,e){return n instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&ai(r.value,s.value)}(n,e):n instanceof Cr?function(r,s){return s instanceof Cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((l,u,h)=>l&&z1(u,s.filters[h]),!0):!1}(n,e):void Te()}function B1(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`}(n):n instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(B1).join(" ,")+"}"}(n):"Filter"}class Tk extends Dt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class wk extends Dt{constructor(e,t){super(e,"in",t),this.keys=j1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bk extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=j1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function j1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class Sk extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jy(t)&&qc(t.arrayValue,this.value)}}class Ak extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qc(this.value.arrayValue,t)}}class Rk extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!qc(this.value.arrayValue,t)}}class Ck extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t=null,r=[],s=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=u,this.endAt=h,this.le=null}}function ib(n,e=null,t=[],r=[],s=null,l=null,u=null){return new Ik(n,e,t,r,s,l,u)}function qy(n){const e=Ae(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>V_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),rm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jl(r)).join(",")),e.le=t}return e.le}function Fy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!z1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function L_(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t=null,r=[],s=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Dk(n,e,t,r,s,l,u,h){return new Wl(n,e,t,r,s,l,u,h)}function sm(n){return new Wl(n)}function sb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function q1(n){return n.collectionGroup!==null}function bc(n){const e=Ae(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Lt(Jt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Fc(l,r))}),t.has(Jt.keyField().canonicalString())||e.he.push(new Fc(Jt.keyField(),r))}return e.he}function ti(n){const e=Ae(n);return e.Pe||(e.Pe=Ok(e,bc(n))),e.Pe}function Ok(n,e){if(n.limitType==="F")return ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Fc(s.field,l)});const t=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function U_(n,e){const t=n.filters.concat([e]);return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function z_(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function am(n,e){return Fy(ti(n),ti(e))&&n.limitType===e.limitType}function F1(n){return`${qy(ti(n))}|lt:${n.limitType}`}function yl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>B1(s)).join(", ")}]`),rm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>jl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>jl(s)).join(",")),`Target(${r})`}(ti(n))}; limitType=${n.limitType})`}function om(n,e){return e.isFoundDocument()&&function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,s){for(const l of bc(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,d){const p=nb(u,h,d);return u.inclusive?p<=0:p<0}(r.startAt,bc(r),s)||r.endAt&&!function(u,h,d){const p=nb(u,h,d);return u.inclusive?p>=0:p>0}(r.endAt,bc(r),s))}(n,e)}function xk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function H1(n){return(e,t)=>{let r=!1;for(const s of bc(n)){const l=Nk(s,e,t);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function Nk(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Bl(d,p):Te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new ht(ye.comparator);function Zi(){return Mk}const G1=new ht(ye.comparator);function mc(...n){let e=G1;for(const t of n)e=e.insert(t.key,t);return e}function Y1(n){let e=G1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function eo(){return Sc()}function Q1(){return Sc()}function Sc(){return new wo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pk=new ht(ye.comparator),kk=new Lt(ye.comparator);function Pe(...n){let e=kk;for(const t of n)e=e.add(t);return e}const Vk=new Lt(Le);function Lk(){return Vk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(e)?"-0":e}}function K1(n){return{integerValue:""+n}}function Uk(n,e){return hk(e)?K1(e):Hy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function zk(n,e,t){return n instanceof Hc?function(s,l){const u={fields:{[O1]:{stringValue:D1},[N1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&By(l)&&(l=im(l)),l&&(u.fields[x1]=l),{mapValue:u}}(t,e):n instanceof Gc?X1(n,e):n instanceof Yc?W1(n,e):function(s,l){const u=$1(s,l),h=ab(u)+ab(s.Ie);return k_(u)&&k_(s.Ie)?K1(h):Hy(s.serializer,h)}(n,e)}function Bk(n,e,t){return n instanceof Gc?X1(n,e):n instanceof Yc?W1(n,e):t}function $1(n,e){return n instanceof Id?function(r){return k_(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Hc extends lm{}class Gc extends lm{constructor(e){super(),this.elements=e}}function X1(n,e){const t=Z1(e);for(const r of n.elements)t.some(s=>ai(s,r))||t.push(r);return{arrayValue:{values:t}}}class Yc extends lm{constructor(e){super(),this.elements=e}}function W1(n,e){let t=Z1(e);for(const r of n.elements)t=t.filter(s=>!ai(s,r));return{arrayValue:{values:t}}}class Id extends lm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ab(n){return Tt(n.integerValue||n.doubleValue)}function Z1(n){return jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.field=e,this.transform=t}}function qk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Gc&&s instanceof Gc||r instanceof Yc&&s instanceof Yc?zl(r.elements,s.elements,ai):r instanceof Id&&s instanceof Id?ai(r.Ie,s.Ie):r instanceof Hc&&s instanceof Hc}(n.transform,e.transform)}class Fk{constructor(e,t){this.version=e,this.transformResults=t}}class ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class um{}function J1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tR(n.key,ni.none()):new lh(n.key,n.data,ni.none());{const t=n.data,r=hr.empty();let s=new Lt(Jt.comparator);for(let l of e.fields)if(!s.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),s=s.add(l)}return new bo(n.key,r,new Tr(s.toArray()),ni.none())}}function Hk(n,e,t){n instanceof lh?function(s,l,u){const h=s.value.clone(),d=lb(s.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof bo?function(s,l,u){if(!id(s.precondition,l))return void l.convertToUnknownDocument(u.version);const h=lb(s.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(eR(s)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ac(n,e,t,r){return n instanceof lh?function(l,u,h,d){if(!id(l.precondition,u))return h;const p=l.value.clone(),_=ub(l.fieldTransforms,d,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof bo?function(l,u,h,d){if(!id(l.precondition,u))return h;const p=ub(l.fieldTransforms,d,u),_=u.data;return _.setAll(eR(l)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(l,u,h){return id(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Gk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=$1(r.transform,s||null);l!=null&&(t===null&&(t=hr.empty()),t.set(r.field,l))}return t||null}function ob(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zl(r,s,(l,u)=>qk(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lh extends um{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bo extends um{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function eR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lb(n,e,t){const r=new Map;Ke(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],u=l.transform,h=e.data.field(l.field);r.set(l.field,Bk(u,h,t[s]))}return r}function ub(n,e,t){const r=new Map;for(const s of n){const l=s.transform,u=t.data.field(s.field);r.set(s.field,zk(l,u,e))}return r}class tR extends um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yk extends um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&Hk(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ac(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ac(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Q1();return this.mutations.forEach(s=>{const l=e.get(s.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(s.key)?null:h;const d=J1(u,h);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(t,r)=>ob(t,r))&&zl(this.baseMutations,e.baseMutations,(t,r)=>ob(t,r))}}class Gy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length);let s=function(){return Pk}();const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,r[u].version);return new Gy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function Xk(n){switch(n){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function nR(n){if(n===void 0)return Wi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new Xs([4294967295,4294967295],0);function cb(n){const e=Wk().encode(n),t=new y1;return t.update(e),new Uint8Array(t.digest())}function hb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xs([t,r],0),new Xs([s,l],0)]}class Yy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pc(`Invalid padding: ${t}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Xs.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(Xs.fromNumber(r)));return s.compare(Zk)===1&&(s=new Xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=cb(e),[r,s]=hb(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,s,l);if(!this.Re(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Yy(l,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=cb(e),[r,s]=hb(t);for(let l=0;l<this.hashCount;l++){const u=this.Ae(r,s,l);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cm(be.min(),s,new ht(Le),Zi(),Pe())}}class uh{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uh(r,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class rR{constructor(e,t){this.targetId=e,this.ge=t}}class iR{constructor(e,t,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class fb{constructor(){this.pe=0,this.ye=db(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),r=Pe();return this.ye.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te()}}),new uh(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=db()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Jk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zi(),this.$e=qf(),this.Ke=qf(),this.Ue=new ht(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const l=s.target;if(L_(l))if(r===0){const u=new ye(l.path);this.ze(t,u,ln.newNoDocument(u,be.min()))}else Ke(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=t;let u,h;try{u=sa(r).toUint8Array()}catch(d){if(d instanceof I1)return Ul("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Yy(u,s,l)}catch(d){return Ul(d instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(l=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((l,u)=>{const h=this.Xe(u);if(h){if(l.current&&L_(h.target)){const d=new ye(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,ln.newNoDocument(d,e))}l.ve&&(t.set(u,l.Fe()),l.Me())}});let r=Pe();this.Ke.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const s=new cm(e,t,this.Ue,this.Qe,r);return this.Qe=Zi(),this.$e=qf(),this.Ke=qf(),this.Ue=new ht(Le),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new fb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Lt(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Lt(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new fb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function qf(){return new ht(ye.comparator)}function db(){return new ht(ye.comparator)}const eV={asc:"ASCENDING",desc:"DESCENDING"},tV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nV={and:"AND",or:"OR"};class rV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function B_(n,e){return n.useProto3Json||rm(e)?e:{value:e}}function Dd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function iV(n,e){return Dd(n,e.toTimestamp())}function ri(n){return Ke(!!n),be.fromTimestamp(function(t){const r=ia(t);return new Vt(r.seconds,r.nanos)}(n))}function Qy(n,e){return j_(n,e).canonicalString()}function j_(n,e){const t=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aR(n){const e=rt.fromString(n);return Ke(hR(e)),e}function q_(n,e){return Qy(n.databaseId,e.path)}function Wg(n,e){const t=aR(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(lR(t))}function oR(n,e){return Qy(n.databaseId,e)}function sV(n){const e=aR(n);return e.length===4?rt.emptyPath():lR(e)}function F_(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lR(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mb(n,e,t){return{name:q_(n,e),fields:t.value.mapValue.fields}}function aV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?(Ke(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const _=p.code===void 0?ne.UNKNOWN:nR(p.code);return new fe(_,p.message||"")}(u);t=new iR(r,s,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wg(n,r.document.name),l=ri(r.document.updateTime),u=r.document.createTime?ri(r.document.createTime):be.min(),h=new hr({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(s,l,u,h),p=r.targetIds||[],_=r.removedTargetIds||[];t=new sd(p,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wg(n,r.document),l=r.readTime?ri(r.readTime):be.min(),u=ln.newNoDocument(s,l),h=r.removedTargetIds||[];t=new sd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wg(n,r.document),l=r.removedTargetIds||[];t=new sd([],l,s,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,u=new $k(s,l),h=r.targetId;t=new rR(h,u)}}return t}function oV(n,e){let t;if(e instanceof lh)t={update:mb(n,e.key,e.value)};else if(e instanceof tR)t={delete:q_(n,e.key)};else if(e instanceof bo)t={update:mb(n,e.key,e.data),updateMask:gV(e.fieldMask)};else{if(!(e instanceof Yk))return Te();t={verify:q_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const h=u.transform;if(h instanceof Hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Id)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:iV(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function lV(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(s,l){let u=s.updateTime?ri(s.updateTime):ri(l);return u.isEqual(be.min())&&(u=ri(l)),new Fk(u,s.transformResults||[])}(t,e))):[]}function uV(n,e){return{documents:[oR(n,e.path)]}}function cV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=oR(n,s);const l=function(p){if(p.length!==0)return cR(Cr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(_=>function(w){return{field:vl(w.field),direction:dV(w.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=B_(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function hV(n){let e=sV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(v){const w=uR(v);return w instanceof Cr&&U1(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(w=>function(R){return new Fc(El(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let h=null;t.limit&&(h=function(v){let w;return w=typeof v=="object"?v.value:v,rm(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(v){const w=!!v.before,b=v.values||[];return new Cd(b,w)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const w=!v.before,b=v.values||[];return new Cd(b,w)}(t.endAt)),Dk(e,s,u,l,h,"F",d,p)}function fV(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=El(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=El(t.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=El(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=El(t.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(El(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(r=>uR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function dV(n){return eV[n]}function mV(n){return tV[n]}function pV(n){return nV[n]}function vl(n){return{fieldPath:n.canonicalString()}}function El(n){return Jt.fromServerFormat(n.fieldPath)}function cR(n){return n instanceof Dt?function(t){if(t.op==="=="){if(tb(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NAN"}};if(eb(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tb(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NAN"}};if(eb(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(t.field),op:mV(t.op),value:t.value}}}(n):n instanceof Cr?function(t){const r=t.getFilters().map(s=>cR(s));return r.length===1?r[0]:{compositeFilter:{op:pV(t.op),filters:r}}}(n):Te()}function gV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t,r,s,l=be.min(),u=be.min(),h=tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.Tt=e}}function yV(n){const e=hV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?z_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Tn=new EV}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ra.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class EV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Lt(rt.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fR=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(fR,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ql(0)}static Un(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LruGarbageCollector",TV=1048576;function _b([n,e],[t,r]){const s=Le(n,t);return s===0?Le(e,r):s}class wV{constructor(e){this.Hn=e,this.buffer=new Lt(_b),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_b(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(gb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xl(t)?ce(gb,"Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.er(3e5)})}}class SV{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(nm.ae);const r=new wV(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(pb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,l,u,h,d,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,t))).next(v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),_l()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:v})))}}function AV(n,e){return new SV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.changes=new wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ac(r.mutation,s,Tr.empty(),Vt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){const s=eo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(l=>{let u=mc();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=eo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){const s=[];return r.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let l=Zi();const u=Sc(),h=function(){return Sc()}();return t.forEach((d,p)=>{const _=r.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof bo)?l=l.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),Ac(_.mutation,p,_.mutation.getFieldMask(),Vt.now())):u.set(p.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,_)=>u.set(p,_)),t.forEach((p,_)=>{var v;return h.set(p,new CV(_,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Sc();let s=new ht((u,h)=>u-h),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let _=r.get(d)||Tr.empty();_=h.applyToLocalView(p,_),r.set(d,_);const v=(s.get(h.batchId)||Pe()).add(d);s=s.insert(h.batchId,v)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,_=d.value,v=Q1();_.forEach(w=>{if(!l.has(w)){const b=J1(t.get(w),r.get(w));b!==null&&v.set(w,b),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):q1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):re.resolve(eo());let h=zc,d=l;return u.next(p=>re.forEach(p,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{d=d.insert(_,w)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,Pe())).next(_=>({batchId:h,changes:Y1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=mc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const l=t.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(e,l).next(h=>re.forEach(h,d=>{const p=function(v,w){return new Wl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(_=>{_.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,s))).next(u=>{l.forEach((d,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,ln.newInvalidDocument(_)))});let h=mc();return u.forEach((d,p)=>{const _=l.get(d);_!==void 0&&Ac(_.mutation,p,Tr.empty(),Vt.now()),om(t,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ri(s.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:yV(s.bundledQuery),readTime:ri(s.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.overlays=new ht(ye.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=eo();return re.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.Et(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=eo(),l=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&s.set(d.getKey(),d)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new ht((p,_)=>p-_);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=eo(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=eo(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,_)=>h.set(p,_)),!(h.size()>=s)););return re.resolve(h)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Kk(t,r));let l=this.Rr.get(t);l===void 0&&(l=Pe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Vr=new Lt(Gt.mr),this.gr=new Lt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Gt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ye(new rt([])),r=new Gt(t,e),s=new Gt(t,e+1),l=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new rt([])),r=new Gt(t,e),s=new Gt(t,e+1);let l=Pe();return this.gr.forEachInRange([r,s],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Gt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Gt.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Qk(l,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Mr=this.Mr.add(new Gt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),l=s<0?0:s;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?zy:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),s=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,s],u=>{const h=this.Or(u.Cr);l.push(h)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Lt(Le);return t.forEach(s=>{const l=new Gt(s,0),u=new Gt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],h=>{r=r.add(h.Cr)})}),re.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const u=new Gt(new ye(l),0);let h=new Lt(Le);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Cr)),!0)},u),re.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ke(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return re.forEach(t.mutations,s=>{const l=new Gt(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Gt(t,0),s=this.Mr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.kr=e,this.docs=function(){return new ht(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Zi();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():ln.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let l=Zi();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||ok(ak(_),r)<=0||(s.has(_.key)||om(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,r,s){Te()}qr(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new PV(this)}getSize(e){return re.resolve(this.size)}}class PV extends RV{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.persistence=e,this.Qr=new wo(t=>qy(t),Fy),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ky,this.targetCount=0,this.Ur=ql.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),re.waitFor(l).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(u=>{l.push(s.markPotentiallyOrphaned(e,u))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nm(0),this.zr=!1,this.zr=!0,this.jr=new xV,this.referenceDelegate=e(this),this.Hr=new kV(this),this.indexManager=new vV,this.remoteDocumentCache=function(s){return new MV(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new _V(t),this.Yr=new DV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new NV(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new VV(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(l=>this.referenceDelegate.Xr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}ei(e,t){return re.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class VV extends uk{constructor(e){super(),this.currentSequenceNumber=e}}class $y{constructor(e){this.persistence=e,this.ti=new Ky,this.ni=null}static ri(e){return new $y(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,r=>{const s=ye.fromPath(r);return this.si(e,s).next(l=>{l||t.removeEntry(s,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Od{constructor(e,t){this.persistence=e,this.oi=new wo(r=>fk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=AV(this,t)}static ri(e,t){return new Od(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(l=>l?re.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,l.removeEntry(u,be.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nd(e.data.value)),t}ar(e,t,r){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Pe(),s=Pe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Xy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return x2()?8:ck(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const l={result:null};return this.rs(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,t,s,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new LV;return this._s(e,t,u).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>l.result)}us(e,t,r,s){return r.documentReadCount<this.es?(_l()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",yl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(_l()<=Me.DEBUG&&ce("QueryEngine","Query:",yl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(_l()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",yl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):re.resolve())}rs(e,t){if(sb(t))return re.resolve(null);let r=ti(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=z_(t,null,"F"),r=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Pe(...l);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(t,h);return this.ls(t,p,u,d.readTime)?this.rs(e,z_(t,null,"F")):this.hs(e,p,t,d)}))})))}ss(e,t,r,s){return sb(t)||s.isEqual(be.min())?re.resolve(null):this.ns.getDocuments(e,r).next(l=>{const u=this.cs(t,l);return this.ls(t,u,r,s)?re.resolve(null):(_l()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yl(t)),this.hs(e,u,t,sk(s,zc)).next(h=>h))})}cs(e,t){let r=new Lt(H1(e));return t.forEach((s,l)=>{om(e,l)&&(r=r.add(l))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}_s(e,t,r){return _l()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",yl(t)),this.ns.getDocumentsMatchingQuery(e,t,ra.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",zV=3e8;class BV{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new ht(Le),this.Is=new wo(l=>qy(l),Fy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function jV(n,e,t,r){return new BV(n,e,t,r)}async function mR(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],h=[];let d=Pe();for(const p of s){u.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}for(const p of l){h.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function qV(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,p,_){const v=p.batch,w=v.keys();let b=re.resolve();return w.forEach(R=>{b=b.next(()=>_.getEntry(d,R)).next(S=>{const D=p.docVersions.get(R);Ke(D!==null),S.version.compareTo(D)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),_.addEntry(S)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Pe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function pR(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function FV(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const h=[];e.targetChanges.forEach((_,v)=>{const w=s.get(v);if(!w)return;h.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,v)));let b=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,r)),s=s.insert(v,b),function(S,D,k){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=zV?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(w,b,_)&&h.push(t.Hr.updateTargetData(l,b))});let d=Zi(),p=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),h.push(HV(l,u,e.documentUpdates).next(_=>{d=_.Vs,p=_.fs})),!r.isEqual(be.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(v=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));h.push(_)}return re.waitFor(h).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(t.Ts=s,l))}function HV(n,e,t){let r=Pe(),s=Pe();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let u=Zi();return t.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ce(Wy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Vs:u,fs:s}})}function GV(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YV(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(l=>l?(s=l,re.resolve(s)):t.Hr.allocateTargetId(r).next(u=>(s=new Gs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function H_(n,e,t){const r=Ae(n),s=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Xl(u))throw u;ce(Wy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function yb(n,e,t){const r=Ae(n);let s=be.min(),l=Pe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,_){const v=Ae(d),w=v.Is.get(_);return w!==void 0?re.resolve(v.Ts.get(w)):v.Hr.getTargetData(p,_)}(r,u,ti(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?s:be.min(),t?l:Pe())).next(h=>(QV(r,xk(e),h),{documents:h,gs:l})))}function QV(n,e,t){let r=n.Es.get(e)||be.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Es.set(e,r)}class vb{constructor(){this.activeTargetIds=Lk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KV{constructor(){this.ho=new vb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new vb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="ConnectivityMonitor";class Tb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(Eb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(Eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function G_(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Ad?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,l){const u=G_(),h=this.bo(e,t.toUriEncodedString());ce(Zg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,l),this.vo(e,h,d,r).then(p=>(ce(Zg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Ul(Zg,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,t,r,s,l,u){return this.So(e,t,r,s,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}bo(e,t){const r=XV[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class JV extends WV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const l=G_();return new Promise((u,h)=>{const d=new v1;d.setWithCredentials(!0),d.listenOnce(E1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case td.NO_ERROR:const _=d.getResponseJson();ce(an,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case td.TIMEOUT:ce(an,`RPC '${e}' ${l} timed out`),h(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case td.HTTP_ERROR:const v=d.getStatus();if(ce(an,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const R=function(D){const k=D.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(k)>=0?k:ne.UNKNOWN}(b.status);h(new fe(R,b.message))}else h(new fe(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(an,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);ce(an,`RPC '${e}' ${l} sending request:`,s),d.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=G_(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=b1(),h=w1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=l.join("");ce(an,`Creating RPC '${e}' stream ${s}: ${_}`,d);const v=u.createWebChannel(_,d);let w=!1,b=!1;const R=new ZV({Fo:D=>{b?ce(an,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(w||(ce(an,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),ce(an,`RPC '${e}' stream ${s} sending:`,D),v.send(D))},Mo:()=>v.close()}),S=(D,k,L)=>{D.listen(k,V=>{try{L(V)}catch(H){setTimeout(()=>{throw H},0)}})};return S(v,dc.EventType.OPEN,()=>{b||(ce(an,`RPC '${e}' stream ${s} transport opened.`),R.Qo())}),S(v,dc.EventType.CLOSE,()=>{b||(b=!0,ce(an,`RPC '${e}' stream ${s} transport closed`),R.Ko())}),S(v,dc.EventType.ERROR,D=>{b||(b=!0,Ul(an,`RPC '${e}' stream ${s} transport errored:`,D),R.Ko(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),S(v,dc.EventType.MESSAGE,D=>{var k;if(!b){const L=D.data[0];Ke(!!L);const V=L,H=(V==null?void 0:V.error)||((k=V[0])===null||k===void 0?void 0:k.error);if(H){ce(an,`RPC '${e}' stream ${s} received error:`,H);const q=H.status;let X=function(A){const N=Rt[A];if(N!==void 0)return nR(N)}(q),x=H.message;X===void 0&&(X=ne.INTERNAL,x="Unknown error status: "+q+" with message "+H.message),b=!0,R.Ko(new fe(X,x)),v.close()}else ce(an,`RPC '${e}' stream ${s} received:`,L),R.Uo(L)}}),S(h,T1.STAT_EVENT,D=>{D.stat===M_.PROXY?ce(an,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===M_.NOPROXY&&ce(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n){return new rV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="PersistentStream";class _R{constructor(e,t,r,s,l,u,h,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(wb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(wb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eL extends _R{constructor(e,t,r,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=aV(this.serializer,e),r=function(l){if(!("targetChange"in l))return be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?ri(u.readTime):be.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=F_(this.serializer),t.addTarget=function(l,u){let h;const d=u.target;if(h=L_(d)?{documents:uV(l,d)}:{query:cV(l,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=sR(l,u.resumeToken);const p=B_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(be.min())>0){h.readTime=Dd(l,u.snapshotVersion.toTimestamp());const p=B_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=fV(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=F_(this.serializer),t.removeTarget=e,this.I_(t)}}class tL extends _R{constructor(e,t,r,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=lV(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=F_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>oV(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{}class rL extends nL{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.So(e,j_(t,r),s,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())})}Co(e,t,r,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,j_(t,r),s,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wi(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="RemoteStore";class sL{constructor(e,t,r,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{r.enqueueAndForget(async()=>{So(this)&&(ce(fo,"Restarting streams for network reachability change."),await async function(d){const p=Ae(d);p.W_.add(4),await ch(p),p.j_.set("Unknown"),p.W_.delete(4),await fm(p)}(this))})}),this.j_=new iL(r,s)}}async function fm(n){if(So(n))for(const e of n.G_)await e(!0)}async function ch(n){for(const e of n.G_)await e(!1)}function yR(n,e){const t=Ae(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),tv(t)?ev(t):Zl(t).c_()&&Jy(t,e))}function Zy(n,e){const t=Ae(n),r=Zl(t);t.U_.delete(e),r.c_()&&vR(t,e),t.U_.size===0&&(r.c_()?r.P_():So(t)&&t.j_.set("Unknown"))}function Jy(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zl(n).y_(e)}function vR(n,e){n.H_.Ne(e),Zl(n).w_(e)}function ev(n){n.H_=new Jk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.j_.B_()}function tv(n){return So(n)&&!Zl(n).u_()&&n.U_.size>0}function So(n){return Ae(n).W_.size===0}function ER(n){n.H_=void 0}async function aL(n){n.j_.set("Online")}async function oL(n){n.U_.forEach((e,t)=>{Jy(n,e)})}async function lL(n,e){ER(n),tv(n)?(n.j_.q_(e),ev(n)):n.j_.set("Unknown")}async function uL(n,e,t){if(n.j_.set("Online"),e instanceof iR&&e.state===2&&e.cause)try{await async function(s,l){const u=l.cause;for(const h of l.targetIds)s.U_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.U_.delete(h),s.H_.removeTarget(h))}(n,e)}catch(r){ce(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(n,r)}else if(e instanceof sd?n.H_.We(e):e instanceof rR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(be.min()))try{const r=await pR(n.localStore);t.compareTo(r)>=0&&await function(l,u){const h=l.H_.ot(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=l.U_.get(p);_&&l.U_.set(p,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const _=l.U_.get(d);if(!_)return;l.U_.set(d,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),vR(l,d);const v=new Gs(_.target,d,p,_.sequenceNumber);Jy(l,v)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ce(fo,"Failed to raise snapshot:",r),await xd(n,r)}}async function xd(n,e,t){if(!Xl(e))throw e;n.W_.add(1),await ch(n),n.j_.set("Offline"),t||(t=()=>pR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(fo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await fm(n)})}function TR(n,e){return e().catch(t=>xd(n,t,e))}async function dm(n){const e=Ae(n),t=oa(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:zy;for(;cL(e);)try{const s=await GV(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,hL(e,s)}catch(s){await xd(e,s)}wR(e)&&bR(e)}function cL(n){return So(n)&&n.K_.length<10}function hL(n,e){n.K_.push(e);const t=oa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function wR(n){return So(n)&&!oa(n).u_()&&n.K_.length>0}function bR(n){oa(n).start()}async function fL(n){oa(n).C_()}async function dL(n){const e=oa(n);for(const t of n.K_)e.b_(t.mutations)}async function mL(n,e,t){const r=n.K_.shift(),s=Gy.from(r,e,t);await TR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await dm(n)}async function pL(n,e){e&&oa(n).S_&&await async function(r,s){if(function(u){return Xk(u)&&u!==ne.ABORTED}(s.code)){const l=r.K_.shift();oa(r).h_(),await TR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),await dm(r)}}(n,e),wR(n)&&bR(n)}async function bb(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce(fo,"RemoteStore received new credentials");const r=So(t);t.W_.add(3),await ch(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await fm(t)}async function gL(n,e){const t=Ae(n);e?(t.W_.delete(2),await fm(t)):e||(t.W_.add(2),await ch(t),t.j_.set("Unknown"))}function Zl(n){return n.J_||(n.J_=function(t,r,s){const l=Ae(t);return l.M_(),new eL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:aL.bind(null,n),No:oL.bind(null,n),Lo:lL.bind(null,n),p_:uL.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),tv(n)?ev(n):n.j_.set("Unknown")):(await n.J_.stop(),ER(n))})),n.J_}function oa(n){return n.Y_||(n.Y_=function(t,r,s){const l=Ae(t);return l.M_(),new tL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:fL.bind(null,n),Lo:pL.bind(null,n),D_:dL.bind(null,n),v_:mL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await dm(n)):(await n.Y_.stop(),n.K_.length>0&&(ce(fo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,l){const u=Date.now()+r,h=new nv(e,t,u,s,l);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(n,e){if(Wi("AsyncQueue",`${e}: ${n}`),Xl(n))return new fe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=mc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Z_=new ht(ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Fl{constructor(e,t,r,s,l,u,h,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,l){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Fl(e,t,Ol.emptySet(t),u,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class yL{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Ae(t),l=s.queries;s.queries=Ab(),l.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function Ab(){return new wo(n=>F1(n),am)}async function iv(n,e){const t=Ae(n);let r=3;const s=e.query;let l=t.queries.get(s);l?!l.na()&&e.ra()&&(r=2):(l=new _L,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(s,!0);break;case 1:l.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=rv(u,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&av(t)}async function sv(n,e){const t=Ae(n),r=e.query;let s=3;const l=t.queries.get(r);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?s=e.ra()?0:1:!l.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function vL(n,e){const t=Ae(n);let r=!1;for(const s of e){const l=s.query,u=t.queries.get(l);if(u){for(const h of u.ta)h.oa(s)&&(r=!0);u.ea=s}}r&&av(t)}function EL(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const l of s.ta)l.onError(t);r.queries.delete(e)}function av(n){n.ia.forEach(e=>{e.next()})}var Y_,Rb;(Rb=Y_||(Y_={}))._a="default",Rb.Cache="cache";class ov{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Y_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.key=e}}class AR{constructor(e){this.key=e}}class TL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=H1(e),this.wa=new Ol(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Sb,s=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,v)=>{const w=s.get(_),b=om(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;w&&b?w.data.isEqual(b.data)?R!==S&&(r.track({type:3,doc:b}),D=!0):this.va(w,b)||(r.track({type:2,doc:b}),D=!0,(d&&this.ya(b,d)>0||p&&this.ya(b,p)<0)&&(h=!0)):!w&&b?(r.track({type:0,doc:b}),D=!0):w&&!b&&(r.track({type:1,doc:w}),D=!0,(d||p)&&(h=!0)),D&&(b?(u=u.add(b),l=S?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{wa:u,Da:r,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,v)=>function(b,R){const S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return S(b)-S(R)}(_.type,v.type)||this.ya(_.doc,v.doc)),this.Ca(r),s=s!=null&&s;const h=t&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,u.length!==0||p?{snapshot:new Fl(this.query,e.wa,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Sb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new AR(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new SR(r))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lv="SyncEngine";class wL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bL{constructor(e){this.key=e,this.Ba=!1}}class SL{constructor(e,t,r,s,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new wo(h=>F1(h),am),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ye.comparator),this.Ka=new Map,this.Ua=new Ky,this.Wa={},this.Ga=new Map,this.za=ql.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AL(n,e,t=!0){const r=xR(n);let s;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Na()):s=await RR(r,e,t,!0),s}async function RL(n,e){const t=xR(n);await RR(t,e,!0,!1)}async function RR(n,e,t,r){const s=await YV(n.localStore,ti(e)),l=s.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await CL(n,e,l,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&yR(n.remoteStore,s),h}async function CL(n,e,t,r,s){n.Ha=(v,w,b)=>async function(S,D,k,L){let V=D.view.ba(k);V.ls&&(V=await yb(S.localStore,D.query,!1).then(({documents:x})=>D.view.ba(x,V)));const H=L&&L.targetChanges.get(D.targetId),q=L&&L.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(V,S.isPrimaryClient,H,q);return Ib(S,D.targetId,X.Ma),X.snapshot}(n,v,w,b);const l=await yb(n.localStore,e,!0),u=new TL(e,l.gs),h=u.ba(l.documents),d=uh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,d);Ib(n,t,p.Ma);const _=new wL(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function IL(n,e,t){const r=Ae(n),s=r.ka.get(e),l=r.qa.get(s.targetId);if(l.length>1)return r.qa.set(s.targetId,l.filter(u=>!am(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await H_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Zy(r.remoteStore,s.targetId),Q_(r,s.targetId)}).catch($l)):(Q_(r,s.targetId),await H_(r.localStore,s.targetId,!0))}async function DL(n,e){const t=Ae(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zy(t.remoteStore,r.targetId))}async function OL(n,e,t){const r=LL(n);try{const s=await function(u,h){const d=Ae(u),p=Vt.now(),_=h.reduce((b,R)=>b.add(R.key),Pe());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let R=Zi(),S=Pe();return d.ds.getEntries(b,_).next(D=>{R=D,R.forEach((k,L)=>{L.isValidDocument()||(S=S.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,R)).next(D=>{v=D;const k=[];for(const L of h){const V=Gk(L,v.get(L.key).overlayedDocument);V!=null&&k.push(new bo(L.key,V,k1(V.value.mapValue),ni.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,k,h)}).next(D=>{w=D;const k=D.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(b,D.batchId,k)})}).then(()=>({batchId:w.batchId,changes:Y1(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,d){let p=u.Wa[u.currentUser.toKey()];p||(p=new ht(Le)),p=p.insert(h,d),u.Wa[u.currentUser.toKey()]=p}(r,s.batchId,t),await hh(r,s.changes),await dm(r.remoteStore)}catch(s){const l=rv(s,"Failed to persist write");t.reject(l)}}async function CR(n,e){const t=Ae(n);try{const r=await FV(t.localStore,e);e.targetChanges.forEach((s,l)=>{const u=t.Ka.get(l);u&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?Ke(u.Ba):s.removedDocuments.size>0&&(Ke(u.Ba),u.Ba=!1))}),await hh(t,r,e)}catch(r){await $l(r)}}function Cb(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((l,u)=>{const h=u.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const d=Ae(u);d.onlineState=h;let p=!1;d.queries.forEach((_,v)=>{for(const w of v.ta)w.sa(h)&&(p=!0)}),p&&av(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xL(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),l=s&&s.key;if(l){let u=new ht(ye.comparator);u=u.insert(l,ln.newNoDocument(l,be.min()));const h=Pe().add(l),d=new cm(be.min(),new Map,new ht(Le),u,h);await CR(r,d),r.$a=r.$a.remove(l),r.Ka.delete(e),uv(r)}else await H_(r.localStore,e,!1).then(()=>Q_(r,e,t)).catch($l)}async function NL(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await qV(t.localStore,e);DR(t,r,null),IR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hh(t,s)}catch(s){await $l(s)}}async function ML(n,e,t){const r=Ae(n);try{const s=await function(u,h){const d=Ae(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,h).next(v=>(Ke(v!==null),_=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(r.localStore,e);DR(r,e,t),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hh(r,s)}catch(s){await $l(s)}}function IR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function DR(n,e,t){const r=Ae(n);let s=r.Wa[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Q_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||OR(n,r)})}function OR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Zy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),uv(n))}function Ib(n,e,t){for(const r of t)r instanceof SR?(n.Ua.addReference(r.key,e),PL(n,r)):r instanceof AR?(ce(lv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||OR(n,r.key)):Te()}function PL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ce(lv,"New document in limbo: "+t),n.Qa.add(r),uv(n))}function uv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(rt.fromString(e)),r=n.za.next();n.Ka.set(r,new bL(t)),n.$a=n.$a.insert(t,r),yR(n.remoteStore,new Gs(ti(sm(t.path)),r,"TargetPurposeLimboResolution",nm.ae))}}async function hh(n,e,t){const r=Ae(n),s=[],l=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(p=>{var _;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Xy.Yi(d.targetId,p);l.push(v)}}))}),await Promise.all(u),r.La.p_(s),await async function(d,p){const _=Ae(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(p,w=>re.forEach(w.Hi,b=>_.persistence.referenceDelegate.addReference(v,w.targetId,b)).next(()=>re.forEach(w.Ji,b=>_.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))}catch(v){if(!Xl(v))throw v;ce(Wy,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const b=_.Ts.get(w),R=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(R);_.Ts=_.Ts.insert(w,S)}}}(r.localStore,l))}async function kL(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce(lv,"User change. New user:",e.toKey());const r=await mR(t.localStore,e);t.currentUser=e,function(l,u){l.Ga.forEach(h=>{h.forEach(d=>{d.reject(new fe(ne.CANCELLED,u))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hh(t,r.Rs)}}function VL(n,e){const t=Ae(n),r=t.Ka.get(e);if(r&&r.Ba)return Pe().add(r.key);{let s=Pe();const l=t.qa.get(e);if(!l)return s;for(const u of l){const h=t.ka.get(u);s=s.unionWith(h.view.Sa)}return s}}function xR(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xL.bind(null,e),e.La.p_=vL.bind(null,e.eventManager),e.La.Ja=EL.bind(null,e.eventManager),e}function LL(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ML.bind(null,e),e}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return jV(this.persistence,new UV,e.initialUser,this.serializer)}Xa(e){return new dR($y.ri,this.serializer)}Za(e){return new KV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class UL extends Nd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ke(this.persistence.referenceDelegate instanceof Od);const r=this.persistence.referenceDelegate.garbageCollector;return new bV(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new dR(r=>Od.ri(r,t),this.serializer)}}class K_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kL.bind(null,this.syncEngine),await gL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yL}()}createDatastore(e){const t=hm(e.databaseInfo.databaseId),r=function(l){return new JV(l)}(e.databaseInfo);return function(l,u,h,d){return new rL(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,l,u,h){return new sL(r,s,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Cb(this.syncEngine,t,0),function(){return Tb.D()?new Tb:new $V}())}createSyncEngine(e,t){return function(s,l,u,h,d,p,_){const v=new SL(s,l,u,h,d,p);return _&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Ae(s);ce(fo,"RemoteStore shutting down."),l.W_.add(5),await ch(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}K_.provider={build:()=>new K_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class zL{constructor(e,t,r,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=A1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{ce(la,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce(la,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function e_(n,e){n.asyncQueue.verifyOperationInProgress(),ce(la,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Db(n,e){n.asyncQueue.verifyOperationInProgress();const t=await BL(n);ce(la,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>bb(e.remoteStore,s)),n._onlineComponents=e}async function BL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(la,"Using user provided OfflineComponentProvider");try{await e_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ul("Error using user provided cache. Falling back to memory cache: "+t),await e_(n,new Nd)}}else ce(la,"Using default OfflineComponentProvider"),await e_(n,new UL(void 0));return n._offlineComponents}async function NR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(la,"Using user provided OnlineComponentProvider"),await Db(n,n._uninitializedComponentsProvider._online)):(ce(la,"Using default OnlineComponentProvider"),await Db(n,new K_))),n._onlineComponents}function jL(n){return NR(n).then(e=>e.syncEngine)}async function Md(n){const e=await NR(n),t=e.eventManager;return t.onListen=AL.bind(null,e.syncEngine),t.onUnlisten=IL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DL.bind(null,e.syncEngine),t}function qL(n,e,t={}){const r=new Gi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const _=new cv({next:w=>{_.su(),u.enqueueAndForget(()=>sv(l,v));const b=w.docs.has(h);!b&&w.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&d&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new ov(sm(h.path),_,{includeMetadataChanges:!0,Ta:!0});return iv(l,v)}(await Md(n),n.asyncQueue,e,t,r)),r.promise}function FL(n,e,t={}){const r=new Gi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const _=new cv({next:w=>{_.su(),u.enqueueAndForget(()=>sv(l,v)),w.fromCache&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new ov(h,_,{includeMetadataChanges:!0,Ta:!0});return iv(l,v)}(await Md(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n,e,t){if(!t)throw new fe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HL(n,e,t,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xb(n){if(!ye.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nb(n){if(ye.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mm(n);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firestore.googleapis.com",Mb=!0;class Pb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kR,this.ssl=Mb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Mb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TV)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WP;switch(r.type){case"firstParty":return new tk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ob.get(t);r&&(ce("ComponentProvider","Removing Datastore"),Ob.delete(t),r.terminate())}(this),Promise.resolve()}}function GL(n,e,t,r={}){var s;const l=(n=Sr(n,pm))._getSettings(),u=`${e}:${t}`;if(l.host!==kR&&l.host!==u&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=on.MOCK_USER;else{h=kA(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new on(p)}n._authCredentials=new ZP(new S1(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Tn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Ws extends da{constructor(e,t,r){super(e,t,sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ye(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function ua(n,e,...t){if(n=dn(n),PR("collection","path",e),n instanceof pm){const r=rt.fromString(e,...t);return Nb(r),new Ws(n,null,r)}{if(!(n instanceof Tn||n instanceof Ws))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Nb(r),new Ws(n.firestore,null,r)}}function gm(n,e,...t){if(n=dn(n),arguments.length===1&&(e=A1.newId()),PR("doc","path",e),n instanceof pm){const r=rt.fromString(e,...t);return xb(r),new Tn(n,null,new ye(r))}{if(!(n instanceof Tn||n instanceof Ws))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return xb(r),new Tn(n.firestore,n instanceof Ws?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="AsyncQueue";class Vb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gR(this,"async_queue_retry"),this.Su=()=>{const r=Jg();r&&ce(kb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Jg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Jg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Gi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xl(e))throw e;ce(kb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Wi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=nv.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(s),s}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Lb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of r)if(l in s&&typeof s[l]=="function")return!0;return!1}(n,["next","error","complete"])}class mo extends pm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Vb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vb(e),this._firestoreClient=void 0,await e}}}function YL(n,e){const t=typeof n=="object"?n:Ry(),r=typeof n=="string"?n:Ad,s=Zd(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=NA("firestore");l&&GL(s,...l)}return s}function _m(n){if(n._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QL(n),n._firestoreClient}function QL(n){var e,t,r;const s=n._freezeSettings(),l=function(h,d,p,_){return new pk(h,d,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,MR(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new zL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(tn.fromBase64String(e))}catch(t){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hl(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=/^__.*__$/;class $L{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new lh(e,this.data,t,this.fieldTransforms)}}function VR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class pv{constructor(e,t,r,s,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Pd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(VR(this.Lu)&&KL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class XL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hm(e)}ju(e,t,r,s=!1){return new pv({Lu:e,methodName:t,zu:r,path:Jt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gv(n){const e=n._freezeSettings(),t=hm(n._databaseId);return new XL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LR(n,e,t,r,s,l={}){const u=n.ju(l.merge||l.mergeFields?2:0,e,t,s);BR("Data must be an object, but it was:",u,r);const h=UR(r,u);let d,p;if(l.merge)d=new Tr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const w=ZL(e,v,t);if(!u.contains(w))throw new fe(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);eU(_,w)||_.push(w)}d=new Tr(_),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new $L(new hr(h),d,p)}class _v extends fv{_toFieldTransform(e){return new jk(e.path,new Hc)}isEqual(e){return e instanceof _v}}function WL(n,e,t,r=!1){return yv(t,n.ju(r?4:3,e))}function yv(n,e){if(zR(n=dn(n)))return BR("Unsupported field value:",e,n),UR(n,e);if(n instanceof fv)return function(r,s){if(!VR(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const l=[];let u=0;for(const h of r){let d=yv(h,s.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(n,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Vt.fromDate(r);return{timestampValue:Dd(s.serializer,l)}}if(r instanceof Vt){const l=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dd(s.serializer,l)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hl)return{bytesValue:sR(s.serializer,r._byteString)};if(r instanceof Tn){const l=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mv)return function(u,h){return{mapValue:{fields:{[M1]:{stringValue:P1},[Rd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Hy(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${mm(r)}`)}(n,e)}function UR(n,e){const t={};return C1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,s)=>{const l=yv(s,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function zR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof dv||n instanceof Hl||n instanceof Tn||n instanceof fv||n instanceof mv)}function BR(n,e,t){if(!zR(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=mm(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function ZL(n,e,t){if((e=dn(e))instanceof hv)return e._internalPath;if(typeof e=="string")return jR(n,e);throw Pd("Field path arguments must be of type string or ",n,!1,void 0,t)}const JL=new RegExp("[~\\*/\\[\\]]");function jR(n,e,t){if(e.search(JL)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hv(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pd(n,e,t,r,s){const l=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new fe(ne.INVALID_ARGUMENT,h+n+d)}function eU(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ym("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tU extends qR{data(){return super.data()}}function ym(n,e){return typeof e=="string"?jR(n,e):e instanceof hv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vv{}class HR extends vv{}function Qc(n,e,...t){let r=[];e instanceof vv&&r.push(e),r=r.concat(t),function(l){const u=l.filter(d=>d instanceof Ev).length,h=l.filter(d=>d instanceof vm).length;if(u>1||u>0&&h>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class vm extends HR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vm(e,t,r)}_apply(e){const t=this._parse(e);return GR(e._query,t),new da(e.firestore,e.converter,U_(e._query,t))}_parse(e){const t=gv(e.firestore);return function(l,u,h,d,p,_,v){let w;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){zb(v,_);const R=[];for(const S of v)R.push(Ub(d,l,S));w={arrayValue:{values:R}}}else w=Ub(d,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||zb(v,_),w=WL(h,u,v,_==="in"||_==="not-in");return Dt.create(p,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oo(n,e,t){const r=e,s=ym("where",n);return vm._create(s,r,t)}class Ev extends vv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ev(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let u=s;const h=l.getFlattenedFilters();for(const d of h)GR(u,d),u=U_(u,d)}(e._query,t),new da(e.firestore,e.converter,U_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tv extends HR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tv(e,t)}_apply(e){const t=function(s,l,u){if(s.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(l,u)}(e._query,this._field,this._direction);return new da(e.firestore,e.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new Wl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function wv(n,e="asc"){const t=e,r=ym("orderBy",n);return Tv._create(r,t)}function Ub(n,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q1(e)&&t.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jw(n,new ye(r))}if(t instanceof Tn)return Jw(n,t._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(t)}.`)}function zb(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GR(n,e){const t=function(s,l){for(const u of s)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nU{convertValue(e,t="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return To(e,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,s;const l=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Rd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Tt(u.doubleValue));return new mv(l)}convertGeoPoint(e){return new dv(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=im(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const t=ia(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Ke(hR(r));const s=new jc(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return s.isEqual(t)||Wi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QR extends qR{constructor(e,t,r,s,l,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ad extends QR{data(e={}){return super.data(e)}}class KR{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new gc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ad(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const d=new ad(s._firestore,s._userDataWriter,h.doc.key,h.doc,new gc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new ad(s._firestore,s._userDataWriter,h.doc.key,h.doc,new gc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:rU(h.type),doc:d,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n){n=Sr(n,Tn);const e=Sr(n.firestore,mo);return qL(_m(e),n._key).then(t=>WR(e,n,t))}class Sv extends nU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function Kc(n){n=Sr(n,da);const e=Sr(n.firestore,mo),t=_m(e),r=new Sv(e);return FR(n._query),FL(t,n._query).then(s=>new KR(e,r,n,s))}function iU(n,e,t){n=Sr(n,Tn);const r=Sr(n.firestore,mo),s=YR(n.converter,e);return XR(r,[LR(gv(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ni.none())])}function $R(n,e){const t=Sr(n.firestore,mo),r=gm(n),s=YR(n.converter,e);return XR(t,[LR(gv(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function sU(n,...e){var t,r,s;n=dn(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Lb(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Lb(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let d,p,_;if(n instanceof Tn)p=Sr(n.firestore,mo),_=sm(n._key.path),d={next:v=>{e[u]&&e[u](WR(p,n,v))},error:e[u+1],complete:e[u+2]};else{const v=Sr(n,da);p=Sr(v.firestore,mo),_=v._query;const w=new Sv(p);d={next:b=>{e[u]&&e[u](new KR(p,w,v,b))},error:e[u+1],complete:e[u+2]},FR(n._query)}return function(w,b,R,S){const D=new cv(S),k=new ov(b,D,R);return w.asyncQueue.enqueueAndForget(async()=>iv(await Md(w),k)),()=>{D.su(),w.asyncQueue.enqueueAndForget(async()=>sv(await Md(w),k))}}(_m(p),_,h,d)}function XR(n,e){return function(r,s){const l=new Gi;return r.asyncQueue.enqueueAndForget(async()=>OL(await jL(r),s,l)),l.promise}(_m(n),e)}function WR(n,e,t){const r=t.docs.get(e._key),s=new Sv(n);return new QR(n,s,e._key,r,new gc(t.hasPendingWrites,t.fromCache),e.converter)}function ZR(){return new _v("serverTimestamp")}(function(e,t=!0){(function(s){Kl=s})(Eo),uo(new na("firestore",(r,{instanceIdentifier:s,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new mo(new JP(r.getProvider("auth-internal")),new nk(u,r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(p.options.projectId,_)}(u,s),u);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Jr(qw,Fw,e),Jr(qw,Fw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebasestorage.googleapis.com",aU="storageBucket",oU=2*60*1e3,lU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ui{constructor(e,t,r=0){super(t_(e),`Firebase Storage: ${t} (${t_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return t_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oi||(oi={}));function t_(n){return"storage/"+n}function uU(){const n="An unknown error occurred, please check the error payload for server response.";return new ci(oi.UNKNOWN,n)}function cU(){return new ci(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hU(){return new ci(oi.CANCELED,"User canceled the upload/download.")}function fU(n){return new ci(oi.INVALID_URL,"Invalid URL '"+n+"'.")}function dU(n){return new ci(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Bb(n){return new ci(oi.INVALID_ARGUMENT,n)}function eC(){return new ci(oi.APP_DELETED,"The Firebase app was deleted.")}function mU(n){return new ci(oi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wr.makeFromUrl(e,t)}catch{return new wr(e,"")}if(r.path==="")return r;throw dU(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${_}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},S=t===JR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",k=new RegExp(`^https?://${S}/${s}/${D}`,"i"),V=[{regex:h,indices:d,postModify:l},{regex:b,indices:R,postModify:p},{regex:k,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<V.length;H++){const q=V[H],X=q.regex.exec(e);if(X){const x=X[q.indices.bucket];let C=X[q.indices.path];C||(C=""),r=new wr(x,C),q.postModify(r);break}}if(r==null)throw fU(e);return r}}class pU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(n,e,t){let r=1,s=null,l=null,u=!1,h=0;function d(){return h===2}let p=!1;function _(...D){p||(p=!0,e.apply(null,D))}function v(D){s=setTimeout(()=>{s=null,n(b,d())},D)}function w(){l&&clearTimeout(l)}function b(D,...k){if(p){w();return}if(D){w(),_.call(null,D,...k);return}if(d()||u){w(),_.call(null,D,...k);return}r<64&&(r*=2);let V;h===1?(h=2,V=0):V=(r+Math.random())*1e3,v(V)}let R=!1;function S(D){R||(R=!0,w(),!p&&(s!==null?(D||(h=2),clearTimeout(s),v(0)):D||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,S(!0)},t),S}function _U(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(n){return n!==void 0}function jb(n,e,t,r){if(r<e)throw Bb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Bb(`Invalid value for '${n}'. Expected ${t} or less.`)}function vU(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var kd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(kd||(kd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||s||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t,r,s,l,u,h,d,p,_,v,w=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,R)=>{this.resolve_=b,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Hf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===kd.NO_ERROR,d=l.getStatus();if(!h||EU(d,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===kd.ABORT;r(!1,new Hf(!1,null,_));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Hf(p,l))})},t=(r,s)=>{const l=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());yU(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=uU();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(s.canceled){const d=this.appDelete_?eC():hU();u(d)}else{const d=cU();u(d)}};this.canceled_?t(!1,new Hf(!1,null,!0)):this.backoffId_=gU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_U(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function wU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function bU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function AU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function RU(n,e,t,r,s,l,u=!0){const h=vU(n.urlParams),d=n.url+h,p=Object.assign({},n.headers);return SU(p,e),wU(p,t),bU(p,l),AU(p,r),new TU(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function IU(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this._service=e,t instanceof wr?this._location=t:this._location=wr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Vd(e,t)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IU(this._location.path)}get storage(){return this._service}get parent(){const e=CU(this._location.path);if(e===null)return null;const t=new wr(this._location.bucket,e);return new Vd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw mU(e)}}function qb(n,e){const t=e==null?void 0:e[aU];return t==null?null:wr.makeFromBucketSpec(t,n)}function DU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:kA(s,n.app.options.projectId))}class OU{constructor(e,t,r,s,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=l,this._bucket=null,this._host=JR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oU,this._maxUploadRetryTime=lU,this._requests=new Set,s!=null?this._bucket=wr.makeFromBucketSpec(s,this._host):this._bucket=qb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=qb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vd(this,e)}_makeRequest(e,t,r,s,l=!0){if(this._deleted)return new pU(eC());{const u=RU(e,this._appId,r,s,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Fb="@firebase/storage",Hb="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="storage";function xU(n=Ry(),e){n=dn(n);const r=Zd(n,tC).getImmediate({identifier:e}),s=NA("storage");return s&&NU(r,...s),r}function NU(n,e,t,r={}){DU(n,e,t,r)}function MU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new OU(t,r,s,e,Eo)}function PU(){uo(new na(tC,MU,"PUBLIC").setMultipleInstances(!0)),Jr(Fb,Hb,""),Jr(Fb,Hb,"esm2017")}PU();const kU={apiKey:"AIzaSyAXWb60nzD2cDq2lDddymIVURZSwm4dja8",authDomain:"real-time-chat-ffe00.firebaseapp.com",projectId:"real-time-chat-ffe00",storageBucket:"real-time-chat-ffe00.firebasestorage.app",messagingSenderId:"452089355507",appId:void 0,measurementId:"5VNMK1QXZC"},Av=UA(kU),Rv=$P(Av),Ar=YL(Av);xU(Av);function Wt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var VU=typeof Symbol=="function"&&Symbol.observable||"@@observable",Gb=VU,n_=()=>Math.random().toString(36).substring(7).split("").join("."),LU={INIT:`@@redux/INIT${n_()}`,REPLACE:`@@redux/REPLACE${n_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${n_()}`},Ld=LU;function Cv(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function nC(n,e,t){if(typeof n!="function")throw new Error(Wt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Wt(1));return t(nC)(n,e)}let r=n,s=e,l=new Map,u=l,h=0,d=!1;function p(){u===l&&(u=new Map,l.forEach((D,k)=>{u.set(k,D)}))}function _(){if(d)throw new Error(Wt(3));return s}function v(D){if(typeof D!="function")throw new Error(Wt(4));if(d)throw new Error(Wt(5));let k=!0;p();const L=h++;return u.set(L,D),function(){if(k){if(d)throw new Error(Wt(6));k=!1,p(),u.delete(L),l=null}}}function w(D){if(!Cv(D))throw new Error(Wt(7));if(typeof D.type>"u")throw new Error(Wt(8));if(typeof D.type!="string")throw new Error(Wt(17));if(d)throw new Error(Wt(9));try{d=!0,s=r(s,D)}finally{d=!1}return(l=u).forEach(L=>{L()}),D}function b(D){if(typeof D!="function")throw new Error(Wt(10));r=D,w({type:Ld.REPLACE})}function R(){const D=v;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Wt(11));function L(){const H=k;H.next&&H.next(_())}return L(),{unsubscribe:D(L)}},[Gb](){return this}}}return w({type:Ld.INIT}),{dispatch:w,subscribe:v,getState:_,replaceReducer:b,[Gb]:R}}function UU(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Ld.INIT})>"u")throw new Error(Wt(12));if(typeof t(void 0,{type:Ld.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function zU(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const u=e[l];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{UU(t)}catch(l){s=l}return function(u={},h){if(s)throw s;let d=!1;const p={};for(let _=0;_<r.length;_++){const v=r[_],w=t[v],b=u[v],R=w(b,h);if(typeof R>"u")throw h&&h.type,new Error(Wt(14));p[v]=R,d=d||R!==b}return d=d||r.length!==Object.keys(u).length,d?p:u}}function Ud(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function BU(...n){return e=>(t,r)=>{const s=e(t,r);let l=()=>{throw new Error(Wt(15))};const u={getState:s.getState,dispatch:(d,...p)=>l(d,...p)},h=n.map(d=>d(u));return l=Ud(...h)(s.dispatch),{...s,dispatch:l}}}function jU(n){return Cv(n)&&"type"in n&&typeof n.type=="string"}var rC=Symbol.for("immer-nothing"),Yb=Symbol.for("immer-draftable"),Hn=Symbol.for("immer-state");function Er(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Gl=Object.getPrototypeOf;function po(n){return!!n&&!!n[Hn]}function Ji(n){var e;return n?iC(n)||Array.isArray(n)||!!n[Yb]||!!((e=n.constructor)!=null&&e[Yb])||Tm(n)||wm(n):!1}var qU=Object.prototype.constructor.toString();function iC(n){if(!n||typeof n!="object")return!1;const e=Gl(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===qU}function zd(n,e){Em(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Em(n){const e=n[Hn];return e?e.type_:Array.isArray(n)?1:Tm(n)?2:wm(n)?3:0}function $_(n,e){return Em(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function sC(n,e,t){const r=Em(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function FU(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Tm(n){return n instanceof Map}function wm(n){return n instanceof Set}function Xa(n){return n.copy_||n.base_}function X_(n,e){if(Tm(n))return new Map(n);if(wm(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=iC(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Hn];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const u=s[l],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[u]})}return Object.create(Gl(n),r)}else{const r=Gl(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function Iv(n,e=!1){return bm(n)||po(n)||!Ji(n)||(Em(n)>1&&(n.set=n.add=n.clear=n.delete=HU),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>Iv(r,!0))),n}function HU(){Er(2)}function bm(n){return Object.isFrozen(n)}var GU={};function go(n){const e=GU[n];return e||Er(0,n),e}var $c;function aC(){return $c}function YU(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qb(n,e){e&&(go("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function W_(n){Z_(n),n.drafts_.forEach(QU),n.drafts_=null}function Z_(n){n===$c&&($c=n.parent_)}function Kb(n){return $c=YU($c,n)}function QU(n){const e=n[Hn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $b(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Hn].modified_&&(W_(e),Er(4)),Ji(n)&&(n=Bd(e,n),e.parent_||jd(e,n)),e.patches_&&go("Patches").generateReplacementPatches_(t[Hn].base_,n,e.patches_,e.inversePatches_)):n=Bd(e,t,[]),W_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==rC?n:void 0}function Bd(n,e,t){if(bm(e))return e;const r=e[Hn];if(!r)return zd(e,(s,l)=>Xb(n,r,e,s,l,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return jd(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,u=!1;r.type_===3&&(l=new Set(s),s.clear(),u=!0),zd(l,(h,d)=>Xb(n,r,s,h,d,t,u)),jd(n,s,!1),t&&n.patches_&&go("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function Xb(n,e,t,r,s,l,u){if(po(s)){const h=l&&e&&e.type_!==3&&!$_(e.assigned_,r)?l.concat(r):void 0,d=Bd(n,s,h);if(sC(t,r,d),po(d))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(Ji(s)&&!bm(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Bd(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&jd(n,s)}}function jd(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Iv(e,t)}function KU(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:aC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=Dv;t&&(s=[r],l=Xc);const{revoke:u,proxy:h}=Proxy.revocable(s,l);return r.draft_=h,r.revoke_=u,h}var Dv={get(n,e){if(e===Hn)return n;const t=Xa(n);if(!$_(t,e))return $U(n,t,e);const r=t[e];return n.finalized_||!Ji(r)?r:r===r_(n.base_,e)?(i_(n),n.copy_[e]=ey(r,n)):r},has(n,e){return e in Xa(n)},ownKeys(n){return Reflect.ownKeys(Xa(n))},set(n,e,t){const r=oC(Xa(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=r_(Xa(n),e),l=s==null?void 0:s[Hn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(FU(t,s)&&(t!==void 0||$_(n.base_,e)))return!0;i_(n),J_(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return r_(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,i_(n),J_(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Xa(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Er(11)},getPrototypeOf(n){return Gl(n.base_)},setPrototypeOf(){Er(12)}},Xc={};zd(Dv,(n,e)=>{Xc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xc.deleteProperty=function(n,e){return Xc.set.call(this,n,e,void 0)};Xc.set=function(n,e,t){return Dv.set.call(this,n[0],e,t,n[0])};function r_(n,e){const t=n[Hn];return(t?Xa(t):n)[e]}function $U(n,e,t){var s;const r=oC(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function oC(n,e){if(!(e in n))return;let t=Gl(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Gl(t)}}function J_(n){n.modified_||(n.modified_=!0,n.parent_&&J_(n.parent_))}function i_(n){n.copy_||(n.copy_=X_(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var XU=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const u=this;return function(d=l,...p){return u.produce(d,_=>t.call(this,_,...p))}}typeof t!="function"&&Er(6),r!==void 0&&typeof r!="function"&&Er(7);let s;if(Ji(e)){const l=Kb(this),u=ey(e,void 0);let h=!0;try{s=t(u),h=!1}finally{h?W_(l):Z_(l)}return Qb(l,r),$b(s,l)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===rC&&(s=void 0),this.autoFreeze_&&Iv(s,!0),r){const l=[],u=[];go("Patches").generateReplacementPatches_(e,s,l,u),r(l,u)}return s}else Er(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,d=>e(d,...h));let r,s;return[this.produce(e,t,(u,h)=>{r=u,s=h}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Ji(n)||Er(8),po(n)&&(n=WU(n));const e=Kb(this),t=ey(n,void 0);return t[Hn].isManual_=!0,Z_(e),t}finishDraft(n,e){const t=n&&n[Hn];(!t||!t.isManual_)&&Er(9);const{scope_:r}=t;return Qb(r,e),$b(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=go("Patches").applyPatches_;return po(n)?r(n,e):this.produce(n,s=>r(s,e))}};function ey(n,e){const t=Tm(n)?go("MapSet").proxyMap_(n,e):wm(n)?go("MapSet").proxySet_(n,e):KU(n,e);return(e?e.scope_:aC()).drafts_.push(t),t}function WU(n){return po(n)||Er(10,n),lC(n)}function lC(n){if(!Ji(n)||bm(n))return n;const e=n[Hn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=X_(n,e.scope_.immer_.useStrictShallowCopy_)}else t=X_(n,!0);return zd(t,(r,s)=>{sC(t,r,lC(s))}),e&&(e.finalized_=!1),t}var Gn=new XU,uC=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function cC(n){return({dispatch:t,getState:r})=>s=>l=>typeof l=="function"?l(t,r,n):s(l)}var ZU=cC(),JU=cC,e4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ud:Ud.apply(null,arguments)},t4=n=>n&&typeof n.match=="function";function Rc(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(Yi(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>jU(r)&&r.type===n,t}var hC=class _c extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_c.prototype)}static get[Symbol.species](){return _c}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _c(...e[0].concat(this)):new _c(...e.concat(this))}};function Wb(n){return Ji(n)?uC(n,()=>{}):n}function Zb(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function n4(n){return typeof n=="boolean"}var r4=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let u=new hC;return t&&(n4(t)?u.push(ZU):u.push(JU(t.extraArgument))),u},i4="RTK_autoBatch",Jb=n=>e=>{setTimeout(e,n)},s4=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,l=!1,u=!1;const h=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Jb(10):n.type==="callback"?n.queueNotification:Jb(n.timeout),p=()=>{u=!1,l&&(l=!1,h.forEach(_=>_()))};return Object.assign({},r,{subscribe(_){const v=()=>s&&_(),w=r.subscribe(v);return h.add(_),()=>{w(),h.delete(_)}},dispatch(_){var v;try{return s=!((v=_==null?void 0:_.meta)!=null&&v[i4]),l=!s,l&&(u||(u=!0,d(p))),r.dispatch(_)}finally{s=!0}}})},a4=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new hC(n);return r&&s.push(s4(typeof r=="object"?r:void 0)),s};function o4(n){const e=r4(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:u=void 0}=n||{};let h;if(typeof t=="function")h=t;else if(Cv(t))h=zU(t);else throw new Error(Yi(1));let d;typeof r=="function"?d=r(e):d=e();let p=Ud;s&&(p=e4({trace:!1,...typeof s=="object"&&s}));const _=BU(...d),v=a4(_);let w=typeof u=="function"?u(v):v();const b=p(...w);return nC(h,l,b)}function fC(n){const e={},t=[];let r;const s={addCase(l,u){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(Yi(28));if(h in e)throw new Error(Yi(29));return e[h]=u,s},addMatcher(l,u){return t.push({matcher:l,reducer:u}),s},addDefaultCase(l){return r=l,s}};return n(s),[e,t,r]}function l4(n){return typeof n=="function"}function u4(n,e){let[t,r,s]=fC(e),l;if(l4(n))l=()=>Wb(n());else{const h=Wb(n);l=()=>h}function u(h=l(),d){let p=[t[d.type],...r.filter(({matcher:_})=>_(d)).map(({reducer:_})=>_)];return p.filter(_=>!!_).length===0&&(p=[s]),p.reduce((_,v)=>{if(v)if(po(_)){const b=v(_,d);return b===void 0?_:b}else{if(Ji(_))return uC(_,w=>v(w,d));{const w=v(_,d);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},h)}return u.getInitialState=l,u}var c4=(n,e)=>t4(n)?n.match(e):n(e);function h4(...n){return e=>n.some(t=>c4(t,e))}var f4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",d4=(n=21)=>{let e="",t=n;for(;t--;)e+=f4[Math.random()*64|0];return e},m4=["name","message","stack","code"],s_=class{constructor(n,e){bg(this,"_type");this.payload=n,this.meta=e}},eS=class{constructor(n,e){bg(this,"_type");this.payload=n,this.meta=e}},p4=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of m4)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},fh=(()=>{function n(e,t,r){const s=Rc(e+"/fulfilled",(d,p,_,v)=>({payload:d,meta:{...v||{},arg:_,requestId:p,requestStatus:"fulfilled"}})),l=Rc(e+"/pending",(d,p,_)=>({payload:void 0,meta:{..._||{},arg:p,requestId:d,requestStatus:"pending"}})),u=Rc(e+"/rejected",(d,p,_,v,w)=>({payload:v,error:(r&&r.serializeError||p4)(d||"Rejected"),meta:{...w||{},arg:_,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function h(d){return(p,_,v)=>{const w=r!=null&&r.idGenerator?r.idGenerator(d):d4(),b=new AbortController;let R,S;function D(L){S=L,b.abort()}const k=async function(){var H,q;let L;try{let X=(H=r==null?void 0:r.condition)==null?void 0:H.call(r,d,{getState:_,extra:v});if(_4(X)&&(X=await X),X===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((C,A)=>{R=()=>{A({name:"AbortError",message:S||"Aborted"})},b.signal.addEventListener("abort",R)});p(l(w,d,(q=r==null?void 0:r.getPendingMeta)==null?void 0:q.call(r,{requestId:w,arg:d},{getState:_,extra:v}))),L=await Promise.race([x,Promise.resolve(t(d,{dispatch:p,getState:_,extra:v,requestId:w,signal:b.signal,abort:D,rejectWithValue:(C,A)=>new s_(C,A),fulfillWithValue:(C,A)=>new eS(C,A)})).then(C=>{if(C instanceof s_)throw C;return C instanceof eS?s(C.payload,w,d,C.meta):s(C,w,d)})])}catch(X){L=X instanceof s_?u(null,w,d,X.payload,X.meta):u(X,w,d)}finally{R&&b.signal.removeEventListener("abort",R)}return r&&!r.dispatchConditionRejection&&u.match(L)&&L.meta.condition||p(L),L}();return Object.assign(k,{abort:D,requestId:w,arg:d,unwrap(){return k.then(g4)}})}}return Object.assign(h,{pending:l,rejected:u,fulfilled:s,settled:h4(u,s),typePrefix:e})}return n.withTypes=()=>n,n})();function g4(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function _4(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var y4=Symbol.for("rtk-slice-createasyncthunk");function v4(n,e){return`${n}/${e}`}function E4({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[y4];return function(s){const{name:l,reducerPath:u=l}=s;if(!l)throw new Error(Yi(11));const h=(typeof s.reducers=="function"?s.reducers(w4()):s.reducers)||{},d=Object.keys(h),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(V,H){const q=typeof V=="string"?V:V.type;if(!q)throw new Error(Yi(12));if(q in p.sliceCaseReducersByType)throw new Error(Yi(13));return p.sliceCaseReducersByType[q]=H,_},addMatcher(V,H){return p.sliceMatchers.push({matcher:V,reducer:H}),_},exposeAction(V,H){return p.actionCreators[V]=H,_},exposeCaseReducer(V,H){return p.sliceCaseReducersByName[V]=H,_}};d.forEach(V=>{const H=h[V],q={reducerName:V,type:v4(l,V),createNotation:typeof s.reducers=="function"};S4(H)?R4(q,H,_,e):b4(q,H,_)});function v(){const[V={},H=[],q=void 0]=typeof s.extraReducers=="function"?fC(s.extraReducers):[s.extraReducers],X={...V,...p.sliceCaseReducersByType};return u4(s.initialState,x=>{for(let C in X)x.addCase(C,X[C]);for(let C of p.sliceMatchers)x.addMatcher(C.matcher,C.reducer);for(let C of H)x.addMatcher(C.matcher,C.reducer);q&&x.addDefaultCase(q)})}const w=V=>V,b=new Map;let R;function S(V,H){return R||(R=v()),R(V,H)}function D(){return R||(R=v()),R.getInitialState()}function k(V,H=!1){function q(x){let C=x[V];return typeof C>"u"&&H&&(C=D()),C}function X(x=w){const C=Zb(b,H,()=>new WeakMap);return Zb(C,x,()=>{const A={};for(const[N,U]of Object.entries(s.selectors??{}))A[N]=T4(U,x,D,H);return A})}return{reducerPath:V,getSelectors:X,get selectors(){return X(q)},selectSlice:q}}const L={name:l,reducer:S,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:D,...k(u),injectInto(V,{reducerPath:H,...q}={}){const X=H??u;return V.inject({reducerPath:X,reducer:S},q),{...L,...k(X,!0)}}};return L}}function T4(n,e,t,r){function s(l,...u){let h=e(l);return typeof h>"u"&&r&&(h=t()),n(h,...u)}return s.unwrapped=n,s}var dC=E4();function w4(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function b4({type:n,reducerName:e,createNotation:t},r,s){let l,u;if("reducer"in r){if(t&&!A4(r))throw new Error(Yi(17));l=r.reducer,u=r.prepare}else l=r;s.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,u?Rc(n,u):Rc(n))}function S4(n){return n._reducerDefinitionType==="asyncThunk"}function A4(n){return n._reducerDefinitionType==="reducerWithPrepare"}function R4({type:n,reducerName:e},t,r,s){if(!s)throw new Error(Yi(18));const{payloadCreator:l,fulfilled:u,pending:h,rejected:d,settled:p,options:_}=t,v=s(n,l,_);r.exposeAction(e,v),u&&r.addCase(v.fulfilled,u),h&&r.addCase(v.pending,h),d&&r.addCase(v.rejected,d),p&&r.addMatcher(v.settled,p),r.exposeCaseReducer(e,{fulfilled:u||Gf,pending:h||Gf,rejected:d||Gf,settled:p||Gf})}function Gf(){}function Yi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const C4={user:null,loading:!1,users:[]},Cc=fh("user/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=ua(Ar,"users");return(await Kc(t)).docs.map(l=>{const u=l.data();return{userId:l.id,userName:u.userName,userEmail:u.userEmail,userProfilePicture:u.userProfilePicture||"default-profile.png"}})}catch(t){return console.log("Error fetching users: ",t),e("Failed to load users")}}),mC=fh("user/addNewUser",async(n,{rejectWithValue:e})=>{try{const t=gm(Ar,"users",n.userId);return(await bv(t)).exists()?console.log(" User already exists in Firestore"):(console.log(" New user detected. Adding to Firestore..."),await iU(t,{userName:n.userName,userEmail:n.userEmail,userProfilePicture:n.userProfilePicture||"default-profile.png"})),{userId:n.userId,userName:n.userName,userEmail:n.userEmail,userProfilePicture:n.userProfilePicture}}catch(t){return console.error("Error adding new user:",t),e("Failed to add user")}}),pC=dC({name:"user",initialState:C4,reducers:{setUser:(n,e)=>(n.user=e.payload,n),clearUser:n=>{n.user=null}},extraReducers:n=>{n.addCase(Cc.pending,e=>{e.loading=!0}).addCase(Cc.fulfilled,(e,t)=>{e.loading=!1,e.users=t.payload}).addCase(Cc.rejected,e=>{e.loading=!1}).addCase(mC.fulfilled,(e,t)=>{e.user=t.payload})}}),{setUser:I4,clearUser:gC}=pC.actions,dh=n=>n.user.user,_C=n=>n.user.users;function D4(){const n=eh(),e=ha(),[t,r]=$.useState(!1),s=new Bi,l=async()=>{try{console.log(" Login button clicked - Signing in with Popup..."),r(!0);const u=await iP(Rv,s);if(u!=null&&u.user){console.log(" User signed in:",u.user);const h={userId:u.user.uid,userName:u.user.displayName||"",userEmail:u.user.email||"",userProfilePicture:u.user.photoURL||""};await e(mC(h)),n("/main")}else console.log(" No user found in signInWithPopup")}catch(u){console.error(" Google Sign-In Error:",u)}finally{r(!1)}};return ee.jsx("div",{className:"login-page",children:ee.jsx("button",{className:"login-btn",onClick:l,disabled:t,children:t?"Loading...":"Login"})})}function O4({isNavOpen:n,setIsNavOpen:e}){const t=fr(dh),r=ha(),s=eh(),l=(t==null?void 0:t.userName)||"Guest",u=(t==null?void 0:t.userProfilePicture)||"default-profile.png",h=async()=>{try{await UM(Rv),r(gC()),s("/")}catch(d){console.log("Logout Error",d)}};return ee.jsxs(ee.Fragment,{children:[ee.jsx("button",{className:`nav-toggle ${n?"hidden":""}`,onClick:()=>e(!0),children:""}),ee.jsxs("nav",{className:`side-nav ${n?"open":"closed"}`,children:[n&&ee.jsx("button",{className:"nav-toggle-close",onClick:()=>e(!1),children:""}),ee.jsxs("ul",{children:[ee.jsxs("li",{children:[ee.jsx("img",{src:u,alt:""}),ee.jsx("h2",{children:l})]}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/direct-messages",onClick:()=>e(!1),children:"Direct Messages"})}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/group-messages",onClick:()=>e(!1),children:"Group Messages"})}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/ai-chat",onClick:()=>e(!1),children:"AI Chat"})}),ee.jsx("li",{children:ee.jsx(Tl,{to:"/main/users",onClick:()=>e(!1),children:"Users"})}),ee.jsx("li",{children:ee.jsx("button",{onClick:h,children:"Logout"})})]})]})]})}function x4(){const[n,e]=$.useState(!1),[t,r]=$.useState(window.innerWidth<=600);return $.useEffect(()=>{const s=()=>{r(window.innerWidth<=600),window.innerWidth>600&&e(!1)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),ee.jsxs("div",{className:`main-container ${n?"nav-open":""}`,children:[t&&!n&&ee.jsx("button",{className:"nav-toggle",onClick:()=>e(!0),children:""}),ee.jsx(O4,{isNavOpen:n,setIsNavOpen:e}),ee.jsx("main",{className:"main-content",children:ee.jsx(TO,{})})]})}function N4({children:n}){const e=ha();return $.useEffect(()=>{console.log(" Global AuthProvider - Checking authentication state...");const t=LM(Rv,r=>{console.log(" Global `onAuthStateChanged` TRIGGERED - User:",r),r?(console.log(" Global `onAuthStateChanged` - User detected:",r),e(I4({userId:r.uid,userName:r.displayName||"",userEmail:r.email||"",userProfilePicture:r.photoURL||""}))):(console.log(" Global `onAuthStateChanged` - No user found - Calling clearUser()"),e(gC()))});return()=>t()},[e]),ee.jsx(ee.Fragment,{children:n})}function M4(){return ee.jsx("div",{children:ee.jsx("h1",{children:"AIChatContentView"})})}const P4={messages:[],loading:!1,dmPreviews:[]},od=fh("messages/fetchDMPreviews",async(n,{getState:e,rejectWithValue:t})=>{try{const r=e().user.user;if(!r)return t("User not logged in");const s=r.userId;console.log("currentuser: ",r);const l=ua(Ar,"chats"),u=Qc(l,oo("isGroupChat","==",!1),oo("members","array-contains",s)),h=await Kc(u);console.log("fetched chats the user is part of: ",h);const d=h.docs.map(R=>R.id);if(d.length===0)return[];const p=ua(Ar,"messages"),_=Qc(p,oo("chatID","in",d),wv("timestamp","desc")),v=await Kc(_);console.log("fetched messages the user is part of: ",v);const w={},b={};return await Promise.all(v.docs.map(async R=>{const S=R.data(),D=S.chatID;if(!w[D]){if(!b[S.senderID]){const k=gm(Ar,"users",S.senderID),L=await bv(k);b[S.senderID]=L.exists()?{name:L.data().userName,photoURL:L.data().userProfilePicture||"default-profile.png"}:{name:"Unknown User",photoURL:"default-profile.png"}}w[D]={messageID:R.id,chatID:S.chatID,content:S.content,mediaContent:S.mediaContent||"",senderID:S.senderID,senderName:b[S.senderID].name,photoURL:b[S.senderID].photoURL,timestamp:S.timestamp.toDate().toISOString()}}})),Object.values(w)}catch(r){return console.log("Error fetching DM previews: ",r),t("Failed to load DM previews")}}),Ic=fh("messages/fetchMessages",async(n,{rejectWithValue:e})=>{try{const t=ua(Ar,"messages"),r=Qc(t,oo("chatID","==",n),wv("timestamp","asc")),s=await Kc(r);return await Promise.all(s.docs.map(async u=>{const h=u.data(),d=gm(Ar,"users",h.senderID),p=await bv(d),_=p.exists()?p.data().userName:"Unknown User";return{messageID:u.id,chatID:h.chatID,content:h.content,mediaContent:h.mediaContent,senderID:h.senderID,senderName:_,timestamp:h.timestamp.toDate().toISOString(),photoURL:h.photoURL||""}}))}catch(t){return console.log("Error fetching messages: ",t),e("Failed to load messages")}}),yC=fh("messages/createMessage",async(n,{rejectWithValue:e})=>{try{const t=ua(Ar,"messages"),r=await $R(t,{...n,timestamp:ZR()});return{...n,messageID:r.id,timestamp:new Date().toISOString()}}catch(t){return console.error("Error sending message:",t),e("Failed to send message")}}),vC=dC({name:"messages",initialState:P4,reducers:{addMessage:(n,e)=>{n.messages.push(e.payload)},setMessages:(n,e)=>{const t=e.payload;if(t.length===0)return;const r=t[0].chatID;n.messages=[...n.messages.filter(s=>s.chatID!==r),...t.filter(s=>!n.messages.some(l=>l.messageID===s.messageID))]}},extraReducers:n=>{n.addCase(Ic.pending,e=>{e.loading=!0}).addCase(Ic.fulfilled,(e,t)=>{e.loading=!1,e.messages=t.payload}).addCase(Ic.rejected,e=>{e.loading=!1}).addCase(od.pending,e=>{e.loading=!0}).addCase(od.fulfilled,(e,t)=>{e.loading=!1,e.dmPreviews=t.payload}).addCase(od.rejected,e=>{e.loading=!1})}}),{addMessage:k4,setMessages:V4}=vC.actions,EC=n=>n.messages.messages,L4=n=>n.messages.dmPreviews,TC=n=>n.messages.loading,wC=6048e5,U4=864e5,tS=Symbol.for("constructDateFrom");function ca(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&tS in n?n[tS](e):n instanceof Date?new n.constructor(e):new Date(e)}function Dr(n,e){return ca(e||n,n)}let z4={};function Sm(){return z4}function Wc(n,e){var h,d,p,_;const t=Sm(),r=(e==null?void 0:e.weekStartsOn)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((_=(p=t.locale)==null?void 0:p.options)==null?void 0:_.weekStartsOn)??0,s=Dr(n,e==null?void 0:e.in),l=s.getDay(),u=(l<r?7:0)+l-r;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function qd(n,e){return Wc(n,{...e,weekStartsOn:1})}function bC(n,e){const t=Dr(n,e==null?void 0:e.in),r=t.getFullYear(),s=ca(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const l=qd(s),u=ca(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=qd(u);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function nS(n){const e=Dr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function B4(n,...e){const t=ca.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function rS(n,e){const t=Dr(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function j4(n,e,t){const[r,s]=B4(t==null?void 0:t.in,n,e),l=rS(r),u=rS(s),h=+l-nS(l),d=+u-nS(u);return Math.round((h-d)/U4)}function q4(n,e){const t=bC(n,e),r=ca(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),qd(r)}function F4(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function H4(n){return!(!F4(n)&&typeof n!="number"||isNaN(+Dr(n)))}function G4(n,e){const t=Dr(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Y4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q4=(n,e,t)=>{let r;const s=Y4[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function a_(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const K4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W4={date:a_({formats:K4,defaultWidth:"full"}),time:a_({formats:$4,defaultWidth:"full"}),dateTime:a_({formats:X4,defaultWidth:"full"})},Z4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},J4=(n,e,t,r)=>Z4[n];function uc(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):u;s=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[h]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(e):e;return s[l]}}const e9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},i9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a9=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},o9={ordinalNumber:a9,era:uc({values:e9,defaultWidth:"wide"}),quarter:uc({values:t9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:uc({values:n9,defaultWidth:"wide"}),day:uc({values:r9,defaultWidth:"wide"}),dayPeriod:uc({values:i9,defaultWidth:"wide",formattingValues:s9,defaultFormattingWidth:"wide"})};function cc(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(s);if(!l)return null;const u=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(h)?u9(h,v=>v.test(u)):l9(h,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const _=e.slice(u.length);return{value:p,rest:_}}}function l9(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function u9(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function c9(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],l=e.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(s.length);return{value:u,rest:h}}}const h9=/^(\d+)(th|st|nd|rd)?/i,f9=/\d+/i,d9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m9={any:[/^b/i,/^(a|c)/i]},p9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g9={any:[/1/i,/2/i,/3/i,/4/i]},_9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},E9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b9={ordinalNumber:c9({matchPattern:h9,parsePattern:f9,valueCallback:n=>parseInt(n,10)}),era:cc({matchPatterns:d9,defaultMatchWidth:"wide",parsePatterns:m9,defaultParseWidth:"any"}),quarter:cc({matchPatterns:p9,defaultMatchWidth:"wide",parsePatterns:g9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:cc({matchPatterns:_9,defaultMatchWidth:"wide",parsePatterns:y9,defaultParseWidth:"any"}),day:cc({matchPatterns:v9,defaultMatchWidth:"wide",parsePatterns:E9,defaultParseWidth:"any"}),dayPeriod:cc({matchPatterns:T9,defaultMatchWidth:"any",parsePatterns:w9,defaultParseWidth:"any"})},S9={code:"en-US",formatDistance:Q4,formatLong:W4,formatRelative:J4,localize:o9,match:b9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function A9(n,e){const t=Dr(n,e==null?void 0:e.in);return j4(t,G4(t))+1}function R9(n,e){const t=Dr(n,e==null?void 0:e.in),r=+qd(t)-+q4(t);return Math.round(r/wC)+1}function SC(n,e){var _,v,w,b;const t=Dr(n,e==null?void 0:e.in),r=t.getFullYear(),s=Sm(),l=(e==null?void 0:e.firstWeekContainsDate)??((v=(_=e==null?void 0:e.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(w=s.locale)==null?void 0:w.options)==null?void 0:b.firstWeekContainsDate)??1,u=ca((e==null?void 0:e.in)||n,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const h=Wc(u,e),d=ca((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,l),d.setHours(0,0,0,0);const p=Wc(d,e);return+t>=+h?r+1:+t>=+p?r:r-1}function C9(n,e){var h,d,p,_;const t=Sm(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((_=(p=t.locale)==null?void 0:p.options)==null?void 0:_.firstWeekContainsDate)??1,s=SC(n,e),l=ca((e==null?void 0:e.in)||n,0);return l.setFullYear(s,0,r),l.setHours(0,0,0,0),Wc(l,e)}function I9(n,e){const t=Dr(n,e==null?void 0:e.in),r=+Wc(t,e)-+C9(t,e);return Math.round(r/wC)+1}function Xe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Us={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Xe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Xe(t+1,2)},d(n,e){return Xe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Xe(n.getHours()%12||12,e.length)},H(n,e){return Xe(n.getHours(),e.length)},m(n,e){return Xe(n.getMinutes(),e.length)},s(n,e){return Xe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Xe(s,e.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Us.y(n,e)},Y:function(n,e,t,r){const s=SC(n,r),l=s>0?s:1-s;if(e==="YY"){const u=l%100;return Xe(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Xe(l,e.length)},R:function(n,e){const t=bC(n);return Xe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Xe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Us.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=I9(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Xe(s,e.length)},I:function(n,e,t){const r=R9(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Xe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Us.d(n,e)},D:function(n,e,t){const r=A9(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Xe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Xe(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),l=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Xe(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Xe(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=gl.noon:r===0?s=gl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=gl.evening:r>=12?s=gl.afternoon:r>=4?s=gl.morning:s=gl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Us.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Us.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Xe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Us.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Us.s(n,e)},S:function(n,e){return Us.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return aS(r);case"XXXX":case"XX":return Wa(r);case"XXXXX":case"XXX":default:return Wa(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return aS(r);case"xxxx":case"xx":return Wa(r);case"xxxxx":case"xxx":default:return Wa(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sS(r,":");case"OOOO":default:return"GMT"+Wa(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sS(r,":");case"zzzz":default:return"GMT"+Wa(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Xe(r,e.length)},T:function(n,e,t){return Xe(+n,e.length)}};function sS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),l=r%60;return l===0?t+String(s):t+String(s)+e+Xe(l,2)}function aS(n,e){return n%60===0?(n>0?"-":"+")+Xe(Math.abs(n)/60,2):Wa(n,e)}function Wa(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Xe(Math.trunc(r/60),2),l=Xe(r%60,2);return t+s+e+l}const oS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},D9=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return oS(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",oS(r,e)).replace("{{time}}",AC(s,e))},O9={p:AC,P:D9},x9=/^D+$/,N9=/^Y+$/,M9=["D","DD","YY","YYYY"];function P9(n){return x9.test(n)}function k9(n){return N9.test(n)}function V9(n,e,t){const r=L9(n,e,t);if(console.warn(r),M9.includes(n))throw new RangeError(r)}function L9(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const U9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B9=/^'([^]*?)'?$/,j9=/''/g,q9=/[a-zA-Z]/;function Ov(n,e,t){var _,v,w,b;const r=Sm(),s=r.locale??S9,l=r.firstWeekContainsDate??((v=(_=r.locale)==null?void 0:_.options)==null?void 0:v.firstWeekContainsDate)??1,u=r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,h=Dr(n,t==null?void 0:t.in);if(!H4(h))throw new RangeError("Invalid time value");let d=e.match(z9).map(R=>{const S=R[0];if(S==="p"||S==="P"){const D=O9[S];return D(R,s.formatLong)}return R}).join("").match(U9).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const S=R[0];if(S==="'")return{isToken:!1,value:F9(R)};if(iS[S])return{isToken:!0,value:R};if(S.match(q9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:R}});s.localize.preprocessor&&(d=s.localize.preprocessor(h,d));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:s};return d.map(R=>{if(!R.isToken)return R.value;const S=R.value;(k9(S)||P9(S))&&V9(S,e,String(n));const D=iS[S[0]];return D(h,S,s.localize,p)}).join("")}function F9(n){const e=n.match(B9);return e?e[1].replace(j9,"'"):n}function lS(){const n=ha(),e=fr(L4),t=eh();$.useEffect(()=>{n(od())},[n]);const r=s=>{t(`/main/direct-messages/${s}`)};return ee.jsx("div",{className:"dm-container",children:e.length===0?ee.jsx("p",{children:"No direct messages yet."}):e.map(s=>ee.jsxs("div",{className:"dm-message-container",onClick:()=>r(s.chatID),children:[ee.jsx("div",{className:"user-img",children:ee.jsx("img",{src:s.photoURL,alt:s.senderName})}),ee.jsxs("div",{className:"user-info-container",children:[ee.jsx("h4",{className:"user-name",children:s.senderName}),s.mediaContent?ee.jsx("img",{src:s.mediaContent,alt:"Media Content",className:"chat-media-image"}):ee.jsx("p",{className:"user-message",children:s.content})]}),ee.jsx("div",{className:"timestamp",children:ee.jsx("p",{children:Ov(new Date(s.timestamp),"dd MMM yy HH:mm")})})]},s.messageID))})}let H9=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function G9(){const n=ha(),e=fr(TC),t=fr(EC),r=fr(dh),[s,l]=$.useState(""),u="MwFHtVv5wFjid2RVEMLp",h=H9(),d=t.filter(_=>_.chatID===u);$.useEffect(()=>{d.length===0&&(console.log(" Fetching past group messages..."),n(Ic(u)))},[n,d.length]);const p=async _=>{if(_.preventDefault(),!s.trim()||!r)return;const v=s.startsWith("http")&&/\.(jpg|jpeg|png|gif)$/i.test(s),w={messageID:h,chatID:u,content:s,senderID:r.userId,senderName:r.userName,photoURL:r.userProfilePicture||"default-profile.png",mediaContent:v?s:"",timestamp:new Date().toISOString()};n(k4(w));try{await n(yC(w)).unwrap()}catch(b){console.error("Failed to send message:",b)}l("")};return ee.jsxs("div",{className:"channel-chat-container",children:[ee.jsxs("main",{className:"channel-chat-main",children:[e&&ee.jsx("p",{children:"Loading messages..."}),ee.jsx("ul",{className:"channel-chat-conversation",children:d.map(_=>ee.jsxs("li",{className:"channel-chat-message-container",children:[ee.jsxs("div",{className:"channel-chat-message-container-header",children:[ee.jsx("h3",{className:"channel-chat-message-username",children:_.senderName}),ee.jsx("p",{children:Ov(new Date(_.timestamp),"dd MMM yy HH:mm")})]}),!_.mediaContent&&ee.jsx("p",{className:"channel-chat-message",children:_.content}),!_.content&&_.mediaContent.startsWith("http")&&ee.jsx("img",{src:_.mediaContent,alt:"Media Content",className:"chat-media-image"})]},_.messageID))})]}),ee.jsx("form",{className:"channel-chat-input-container",onSubmit:p,children:ee.jsxs("div",{className:"input-wrapper",children:[ee.jsx("input",{className:"channel-chat-input",type:"text",placeholder:"Type your message here...",value:s,onChange:_=>l(_.target.value)}),ee.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})})]})}var RC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uS=to.createContext&&to.createContext(RC),Y9=["attr","size","title"];function Q9(n,e){if(n==null)return{};var t=K9(n,e),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)r=l[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function K9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Fd(){return Fd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fd.apply(this,arguments)}function cS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Hd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(t),!0).forEach(function(r){$9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $9(n,e,t){return e=X9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function X9(n){var e=W9(n,"string");return typeof e=="symbol"?e:e+""}function W9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CC(n){return n&&n.map((e,t)=>to.createElement(e.tag,Hd({key:t},e.attr),CC(e.child)))}function Z9(n){return e=>to.createElement(J9,Fd({attr:Hd({},n.attr)},e),CC(n.child))}function J9(n){var e=t=>{var{attr:r,size:s,title:l}=n,u=Q9(n,Y9),h=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),to.createElement("svg",Fd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Hd(Hd({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&to.createElement("title",null,l),n.children)};return uS!==void 0?to.createElement(uS.Consumer,null,t=>e(t)):e(RC)}function ez(n){return Z9({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]},{tag:"path",attr:{d:"m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"},child:[]}]})(n)}function tz(){const n=ha(),e=fr(_C),t=fr(dh),r=eh();$.useEffect(()=>{e.length===0&&n(Cc())},[n,e.length]);const s=async l=>{if(!t)return;const u=ua(Ar,"chats"),h=Qc(u,oo("isGroupChat","==",!1),oo("members","array-contains",t==null?void 0:t.userId)),d=await Kc(h);let p=null;if(d.forEach(_=>{_.data().members.includes(l)&&(p=_.id)}),p)console.log(" Found existing chat, navigating to chat:",p),r(`/main/direct-messages/${p}`);else{console.log(" No existing chat, creating a new chat...");const _=await $R(ua(Ar,"chats"),{isGroupChat:!1,members:[t==null?void 0:t.userId,l],createdAt:ZR()});console.log(" New chat created:",_.id),r(`/main/direct-messages/${_.id}`)}};return ee.jsx("ul",{className:"user-list-container",children:e.length===0?ee.jsx("p",{children:"No users entered the app yet"}):e.map(l=>ee.jsxs("li",{className:"user-card",children:[ee.jsx("div",{className:"user-card-img",children:ee.jsx("img",{src:l.userProfilePicture,alt:"user-profile-picture"})}),ee.jsx("h3",{className:"user-card-name",children:l.userName}),ee.jsx("button",{onClick:()=>s(l.userId),children:ee.jsx(ez,{})})]},l.userId))})}function nz(){const{userId:n}=oO(),e=ha(),t=fr(EC),r=fr(TC),s=fr(dh),l=fr(_C),[u,h]=$.useState(""),[d,p]=$.useState(null),[_,v]=$.useState(!1);$.useEffect(()=>{l.length||e(Cc())},[e,l.length]),$.useEffect(()=>{n&&(_||(e(Ic(n)),v(!0)))},[e,n,_]),$.useEffect(()=>{var D;if(!n||!s)return;const R=t.filter(k=>k.chatID===n);if(R.length>0){const k=(D=R.find(L=>L.senderID!==s.userId))==null?void 0:D.senderID;if(k){const L=l.find(V=>V.userId.trim()===k.trim());if(L){p({name:L.userName,photoURL:L.userProfilePicture||"default-profile.png"});return}}}const S=l.find(k=>k.userId===n);S&&p({name:S.userName,photoURL:S.userProfilePicture||"default-profile.png"})},[n,s,t,l]),console.log("otherUser is: ",d);const w=async()=>{if(!u.trim()||!n||!s)return;const R=u.startsWith("http")&&/\.(jpg|jpeg|png|gif)$/i.test(u),S={chatID:n,content:u,senderID:s.userId,senderName:s.userName,photoURL:s.userProfilePicture||"default-profile.png",mediaContent:R?u:"",timestamp:new Date().toISOString()};try{await e(yC(S)).unwrap()}catch(D){console.error("Failed to send message:",D)}h("")},b=t.filter(R=>R.chatID===n);return ee.jsxs("div",{className:"dm-chat-container",children:[ee.jsx("header",{className:"dm-chat-header",children:ee.jsxs("div",{className:"header-user-info",children:[ee.jsx("img",{src:(d==null?void 0:d.photoURL)||"default-profile.png",alt:(d==null?void 0:d.name)||"User",className:"user-info-img"}),ee.jsxs("h2",{children:["Chat with ",(d==null?void 0:d.name)||"User"]})]})}),ee.jsxs("main",{className:"dm-chat-main",children:[r&&ee.jsx("p",{children:"Loading messages..."}),ee.jsx("ul",{className:"dm-chat-conversation",children:t.length===0?ee.jsx("p",{children:"No messages yet. Start the conversation!"}):b.map(R=>ee.jsxs("li",{className:`dm-chat-message-container ${R.senderID===(s==null?void 0:s.userId)?"self":""}`,children:[ee.jsxs("div",{className:"dm-chat-message-container-header",children:[ee.jsx("h3",{className:"dm-chat-message-username",children:R.senderID===(s==null?void 0:s.userId)?"You":R.senderName}),ee.jsx("p",{className:"dm-chat-timestamp",children:Ov(new Date(R.timestamp),"dd MMM yy HH:mm")})]}),!R.mediaContent&&ee.jsx("p",{className:"dm-chat-message",children:R.content}),R.mediaContent&&R.mediaContent.startsWith("http")&&ee.jsx("img",{src:R.mediaContent,alt:"Media Content",className:"chat-media-image"})]},R.messageID))})]}),ee.jsx("form",{className:"dm-chat-input-container",onSubmit:R=>R.preventDefault(),children:ee.jsxs("div",{className:"input-wrapper",children:[ee.jsx("input",{type:"text",className:"dm-chat-input",placeholder:"Type your message...",value:u,onChange:R=>h(R.target.value)}),ee.jsx("button",{className:"send-button",onClick:w,children:"Send"})]})})]})}function rz({children:n}){const e=ha(),t=fr(dh);return $.useEffect(()=>{if(!t)return;console.log(" Listening for real-time messages...");const r=ua(Ar,"messages"),s=Qc(r,oo("chatID","!=",""),wv("timestamp","asc")),l=sU(s,u=>{console.log(" New messages detected",u.docs.length);const h=u.docs.map(d=>{var p;return{messageID:d.id,chatID:d.data().chatID,content:d.data().content,mediaContent:d.data().mediaContent||"",senderID:d.data().senderID,senderName:d.data().senderName,photoURL:d.data().photoURL||"",timestamp:((p=d.data().timestamp)==null?void 0:p.toDate().toISOString())||new Date().toISOString()}});console.log(" New messages from Firestore:",h),e(V4(h)),console.log(" Messages is updated:",h)});return()=>{console.log(" Unsubscribing from message listener"),l()}},[e,t]),ee.jsx(ee.Fragment,{children:n})}function iz(){return ee.jsx(QO,{children:ee.jsx("div",{className:"App",children:ee.jsx(N4,{children:ee.jsx(rz,{children:ee.jsxs(bO,{children:[ee.jsx(Yr,{path:"/",element:ee.jsx(g2,{})}),ee.jsx(Yr,{path:"login",element:ee.jsx(D4,{})}),ee.jsxs(Yr,{path:"main",element:ee.jsx(x4,{}),children:[ee.jsx(Yr,{index:!0,element:ee.jsx(lS,{})}),ee.jsx(Yr,{path:"direct-messages",element:ee.jsx(lS,{})}),ee.jsx(Yr,{path:"group-messages",element:ee.jsx(G9,{})}),ee.jsx(Yr,{path:"ai-chat",element:ee.jsx(M4,{})}),ee.jsx(Yr,{path:"users",element:ee.jsx(tz,{})}),ee.jsx(Yr,{path:"direct-messages/:userId",element:ee.jsx(nz,{})})]})]})})})})})}const sz=o4({reducer:{user:pC.reducer,messages:vC.reducer}});cD.createRoot(document.getElementById("root")).render(ee.jsx(AD,{store:sz,children:ee.jsx(iz,{})}));
